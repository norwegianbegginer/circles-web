(this["webpackJsonpcircles-web"]=this["webpackJsonpcircles-web"]||[]).push([[9],{156:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(162),i=n(0),r=n(143),o=function(e){return e(localStorage)},c=function(){var e=Object(r.c)();return Object(i.useRef)((function(t,n){void 0===n||null===n?Object(a.a)(t):Object(a.b)(t,n),e()})).current}},161:function(e,t,n){"use strict";function a(e){return Array.isArray(e)?e:[]}function i(e,t,n){return e&&t?"".concat(e[0]).concat(t[0]).toUpperCase():n[0].toUpperCase()}function r(e,t,n){return e&&t?"".concat(o(e)," ").concat(o(t)):n}n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r}));var o=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1,e.length).toLowerCase())}},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{id:"1103088",label:"One color",url:"https://source.unsplash.com/collection/1103088/"},{id:"1971015",label:"Simplicity",url:"https://source.unsplash.com/collection/1971015/"},{id:"1426076",label:"Pastel & Sparkle",url:"https://source.unsplash.com/collection/1426076/"},{id:"1111575",label:"Space",url:"https://source.unsplash.com/collection/1111575/"},{id:"1922729",label:"From above",url:"https://source.unsplash.com/collection/1922729/"}]},180:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n(24),i=n(59),r=n(0),o=function(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),o=n[0],c=n[1];return Object(r.useEffect)((function(){i.database().ref(function(e){return"rooms/".concat(e,"/messages")}(e)).on("value",(function(e){var t,n=null!==(t=e.val())&&void 0!==t?t:[];c((function(e){return n}))}))}),[e]),o},c=function(e,t){return Object(r.useCallback)((function(n){var a={author:t,value:n,timestamp:(new Date).toString()},r=i.database().ref().child("rooms").child(e).child("messages").push().key,o={};return o["/rooms/".concat(e,"/messages/").concat(r)]=a,i.database().ref().update(o)}),[t,e])}},188:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(24),r=n(0),o=n(58),c=n(123),l=Object(c.a)((function(e){return{root:{},introViewRoot:{maxWidth:e.breakpoints.values.md,margin:"0 auto"},introViewContentWrapper:{maxWidth:"60%",marginTop:"5%"}}})),s=function(e){return{title:{en_US:"Intro",pl_PL:"Intro",de_DE:"Intro"},firstTitle:{en_US:"Welcome to safe chat!",pl_PL:"Pierwszy Part",de_DE:"Erstes Part"},secondTitle:{en_US:"Available everywhere",pl_PL:"Drugi Part",de_DE:"Zweiten Part"},thirdTitle:{en_US:"Reliable and Stable",pl_PL:"Trzeci Part",de_DE:"Dreien Part"},yes:e.yes}},d=n(227),u=n(128),b=n(27),j=n(228),p=n(142),v=function(e){var t=e.activePart;return Object(a.jsxs)(p.a,{justifyContent:"center",alignItems:"center",children:[Object(a.jsx)(h,{active:t>=0}),Object(a.jsx)(h,{active:t>=1}),Object(a.jsx)(h,{active:t>=2})]})},h=function(e){var t=e.active,n=Object(b.a)();return Object(a.jsx)(j.a,{style:{opacity:t?1:.15,fontSize:"14px",color:t?n.palette.primary.main:"#000"},children:"lens"})},x=function(e){var t=l();if(e.activePart!==e.partId)return null;var n=0===e.partId?"Skip":"Back",i=2===e.partId?"Continue":"Next";return Object(a.jsx)("div",{className:t.introViewRoot,style:{height:"100vh"},children:Object(a.jsxs)(p.a,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",children:[Object(a.jsxs)(p.a,{flexDirection:"column",height:"90vh",alignItems:"center",justifyContent:"center",children:[Object(a.jsx)(p.a,{alignItems:"center",justifyContent:"center",children:Object(a.jsx)("img",{src:e.image,alt:e.title,style:{maxWidth:"300px",height:"auto"}})}),Object(a.jsxs)(p.a,{className:t.introViewContentWrapper,alignItems:"center",justifyContent:"center",flexDirection:"column",children:[Object(a.jsx)(d.a,{variant:"h2",children:e.title}),Object(a.jsx)(d.a,{align:"center",paragraph:!0,children:e.description})]})]}),Object(a.jsxs)(p.a,{justifyContent:"space-evenly",height:"10vh",alignItems:"center",width:"60%",children:[Object(a.jsx)(u.a,{onClick:e.onPrev,children:n}),Object(a.jsx)(v,{activePart:e.activePart}),Object(a.jsx)(u.a,{variant:"contained",color:"primary",onClick:e.onNext,children:i})]})]})})},m=n.p+"static/media/intro00.6588dfdc.svg",f=n.p+"static/media/intro01.1025310d.svg",O=n.p+"static/media/intro02.819f31a9.svg",g=n(9);t.default=function(){var e=Object(g.f)(),t=Object(o.useLittera)(s),n=Object(i.a)(t,1)[0],c=l(),d=Object(r.useState)(0),u=Object(i.a)(d,2),b=u[0],j=u[1],p=Object(r.useCallback)((function(){j((function(t){return 2===t?(e.push("/login"),t):t+1}))}),[j,e]),v=Object(r.useCallback)((function(){j((function(t){return 0===t?(e.push("/login"),t):t-1}))}),[j,e]);return Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(x,{activePart:b,partId:0,onNext:p,onPrev:v,image:m,title:n.firstTitle,description:"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse."}),Object(a.jsx)(x,{activePart:b,partId:1,onNext:p,onPrev:v,image:f,title:n.secondTitle,description:"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse."}),Object(a.jsx)(x,{activePart:b,partId:2,onNext:p,onPrev:v,image:O,title:n.thirdTitle,description:"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse."})]})}},189:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(137),r=n.n(i),o=n(138),c=n(24),l=n(0),s=n(58),d=n(146),u=n(123),b=Object(u.a)((function(e){return{root:Object(d.a)({minHeight:"calc(100vh - (300px + 42px))",alignItems:"center"},e.breakpoints.up("sm"),{minHeight:"calc(100vh - (350px + 42px))",alignItems:"flex-start"}),container:{maxWidth:e.breakpoints.values.md,width:"100%",padding:"0 ".concat(e.spacing(4),"px")},inputWrapper:{},signImage:Object(d.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},e.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(d.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.main,")")},e.breakpoints.up("sm"),{height:"350px"}),wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},footerWrapper:{maxWidth:e.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(e.spacing(4),"px")}}})),j=function(e){return{title:{en_US:"Sign up",pl_PL:"B\u0105d\u017a w kontakcie!",de_DE:"Stayen ins Touchejen"},yes:e.yes}},p=n(227),v=n(338),h=n(128),x=n(322),m=n(228),f=n(323),O=n(325),g=n(9),w=n(142),y=n.p+"static/media/celebration.9e01a526.svg",k=n(163),_=n(166),C=n(342),S=n(321),N=n(156),I=n(143);t.default=function(){var e=Object(g.f)(),t=Object(s.useLittera)(j),n=Object(c.a)(t,1)[0],i=b(),d=Object(N.b)(),u=Object(l.useState)(""),P=Object(c.a)(u,2),R=P[0],W=P[1],L=Object(l.useState)(""),E=Object(c.a)(L,2),B=E[0],D=E[1],T=Object(l.useState)(""),z=Object(c.a)(T,2),U=z[0],A=z[1],M=Object(l.useState)(""),F=Object(c.a)(M,2),H=F[0],q=F[1],V=Object(l.useState)(!1),G=Object(c.a)(V,2),Z=G[0],J=G[1];Object(I.b)();var Y=function(e){return function(t){var n,a,i=null!==(n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==n?n:"";Z||("email"===e&&W(i),"password"===e&&D(i),"password-confirm"===e&&A(i))}};return Object(a.jsxs)("div",{style:{width:"100%"},children:[Object(a.jsxs)("div",{className:i.imgContainer,children:[Object(a.jsx)("img",{className:i.signImage,src:y,alt:"signImage"}),Object(a.jsx)("img",{className:i.wave,src:k.a,alt:""})]}),Object(a.jsx)(w.a,{justifyContent:"center",width:"100%",className:i.root,children:Object(a.jsxs)("div",{className:i.container,children:[Object(a.jsx)(p.a,{variant:"h3",paragraph:!0,children:n.title}),Object(a.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),q(""),J(!0),!Z){var n=R,a=B;if(U!==a)return q("Passwords are not identical."),void J(!1);if(a.length<13)return q("Password is too short."),void J(!1);Object(_.d)(n,a).then(function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Result =>",n),(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.uid)&&d("accountIdToken",n.user.uid),e.push("/welcome");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){q(e.message),J(!1)}))}},children:[Object(a.jsxs)(w.a,{className:i.inputWrapper,flexDirection:"column",children:[Object(a.jsx)(v.a,{style:{marginBottom:"15px"},id:"email-input",value:R,onChange:Y("email"),type:"email",label:"E-mail",variant:"outlined"}),Object(a.jsx)(v.a,{style:{marginBottom:"15px"},id:"password-input",value:B,onChange:Y("password"),type:"password",label:"Password",variant:"outlined"}),Object(a.jsx)(v.a,{style:{marginBottom:"15px"},id:"confirm-password-input",value:U,onChange:Y("password-confirm"),type:"password",label:"Confirm password",variant:"outlined"})]}),H&&Object(a.jsxs)(C.a,{style:{margin:"10px 0"},severity:"error",children:[Object(a.jsx)(S.a,{children:"Upps..."}),H]}),Object(a.jsxs)(w.a,{justifyContent:"space-between",children:[Object(a.jsx)(h.a,{onClick:function(){e.push("/login")},color:"primary",type:"button",children:"Login"}),Object(a.jsx)(x.a,{color:"primary","aria-label":"add",type:"submit",children:Object(a.jsx)(m.a,{style:{color:"white"},children:"keyboard_arrow_right"})})]})]})]})}),Object(a.jsx)(w.a,{className:i.footerWrapper,alignItems:"center",justifyContent:"flex-end",height:"42px",children:Object(a.jsx)(p.a,{align:"right"})}),Z?Object(a.jsx)(f.a,{open:!0,style:{zIndex:5},children:Object(a.jsx)(O.a,{color:"primary"})}):null]})}},190:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(137),r=n.n(i),o=n(138),c=n(24),l=n(0),s=n(58),d=n(146),u=n(123),b=Object(u.a)((function(e){return{root:{position:"relative",maxWidth:e.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(e.spacing(4))},inputWrapper:{},wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},personalImage:Object(d.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},e.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(d.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.main,")")},e.breakpoints.up("sm"),{height:"350px"}),welcomeTitle:{color:e.palette.primary.main}}})),j=function(e){return{title:{en_US:"Welcome,",pl_PL:"Witamy",de_DE:"Willkommen"},yes:e.yes}},p=n(227),v=n(136),h=n(338),x=n(142),m=n(128),f=n(163),O=n.p+"static/media/personal.ebfa5829.svg",g=n(145),w=n(140),y=n(147),k=n(9);t.default=function(){var e,t,n,i,d,u,_,C,S,N,I,P=Object(k.f)(),R=Object(s.useLittera)(j),W=Object(c.a)(R,1)[0],L=b(),E=Object(v.a)(),B=Object(g.c)(),D=Object(v.b)((function(e){return e.currentAccount})),T=Object(l.useState)(null!==(e=null===D||void 0===D?void 0:D.label)&&void 0!==e?e:""),z=Object(c.a)(T,2),U=z[0],A=z[1],M=Object(l.useState)(null!==(t=null===D||void 0===D||null===(n=D.details)||void 0===n?void 0:n.first_name)&&void 0!==t?t:""),F=Object(c.a)(M,2),H=F[0],q=F[1],V=Object(l.useState)(null!==(i=null===D||void 0===D||null===(d=D.details)||void 0===d?void 0:d.middle_name)&&void 0!==i?i:""),G=Object(c.a)(V,2),Z=G[0],J=G[1],Y=Object(l.useState)(null!==(u=null===D||void 0===D||null===(_=D.details)||void 0===_?void 0:_.last_name)&&void 0!==u?u:""),K=Object(c.a)(Y,2),X=K[0],Q=K[1],$=Object(l.useState)(null!==(C=null===D||void 0===D||null===(S=D.details)||void 0===S?void 0:S.birthdate)&&void 0!==C?C:new Date),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(null!==(N=null===D||void 0===D||null===(I=D.details)||void 0===I?void 0:I.sex)&&void 0!==N?N:"O"),ie=Object(c.a)(ae,2),re=ie[0],oe=ie[1],ce=function(e){var t,n,a,i,r=null!==(t=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.id)&&void 0!==t?t:"",o=null!==(a=null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value)&&void 0!==a?a:"";switch(r){case"label":A(o);break;case"first_name":q(o);break;case"middle_name":J(o);break;case"last_name":Q(o);break;case"birthday":ne(o);break;case"sex":oe(o)}},le=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(U&&H&&Z&&X&&te&&re)){e.next=12;break}return e.next=3,B(w.a,(null===D||void 0===D?void 0:D.id)||"",JSON.parse(JSON.stringify({label:U,details:{first_name:H,middle_name:Z,last_name:X,birthdate:te.toString(),sex:re}})));case 3:if(204!==e.sent.status){e.next=10;break}return e.next=7,B(w.c,(null===D||void 0===D?void 0:D.id)||"",!0);case 7:200===(t=e.sent).status&&E(Object(y.b)(t.data)),P.push("/home");case 10:e.next=13;break;case 12:alert("Implement error handling!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:L.imgContainer,children:[Object(a.jsx)("img",{className:L.personalImage,src:O,alt:"PersonalInformation"}),Object(a.jsx)("img",{className:L.wave,src:f.a,alt:"wave"})]}),Object(a.jsxs)("div",{className:L.root,children:[Object(a.jsxs)(p.a,{className:L.welcomeTitle,variant:"h2",children:[W.title," ",null===D||void 0===D?void 0:D.label]}),Object(a.jsx)(p.a,{style:{opacity:"0.7",marginBottom:"35px"},paragraph:!0,children:"Here you need to provide us with some data about you. Name, Surname etc."}),Object(a.jsx)(p.a,{style:{paddingBottom:"16px"},variant:"h4",children:"Personal information"}),Object(a.jsxs)(x.a,{flexDirection:"column",className:L.inputWrapper,children:[Object(a.jsx)(h.a,{style:{marginBottom:"15px"},id:"label",label:"Label",variant:"outlined",value:U,onChange:ce}),Object(a.jsx)(h.a,{style:{marginBottom:"15px"},id:"first_name",label:"First Name",variant:"outlined",value:H,onChange:ce}),Object(a.jsx)(h.a,{style:{marginBottom:"15px"},id:"middle_name",label:"Middle Name",helperText:"Optional",variant:"outlined",value:Z,onChange:ce}),Object(a.jsx)(h.a,{style:{marginBottom:"15px"},id:"last_name",label:"Last Name",variant:"outlined",value:X,onChange:ce}),Object(a.jsx)(h.a,{id:"birthday",label:"Birthday",type:"date",defaultValue:"1990-01-01",InputLabelProps:{shrink:!0},value:te,onChange:ce})]}),Object(a.jsx)(m.a,{style:{color:"white",float:"right",marginBottom:"15px"},variant:"contained",color:"primary",onClick:le,children:"Save"})]})]})}},191:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(137),r=n.n(i),o=n(138),c=n(0),l=n.p+"static/media/circles-logo.420d4698.svg",s=n(123),d=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},logo:{width:"300px",height:"300px"}}})),u=n(142),b=n(9),j=n(136),p=n(156),v=n(140),h=n(147),x=n(145),m=n(59),f=n.n(m),O=n(63),g=n(169);t.default=function(){var e=Object(b.f)(),t=e.location.state,n=d(),i=Object(j.a)(),s=Object(x.c)(),m=Object(O.b)().enqueueSnackbar,w=Object(p.a)((function(e){return e.accountIdToken}));return Object(c.useEffect)((function(){w?function(){var n=Object(o.a)(r.a.mark((function n(){var a,c,l,d,u,b,j,p,x,O,y;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(v.e,w);case 2:if(c=n.sent,!(l=null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.account_id)){n.next=11;break}return n.next=7,s(v.c,l,!0,!0,!0);case 7:200===(d=n.sent).status?(i(Object(h.b)(d.data)),p=localStorage.getItem("background-theme")||"1922729",x=null!==(u=g.a.find((function(e){return e.id.toString()===p.toString()})))&&void 0!==u?u:g.a[0],i(Object(h.a)(x)),(null===(b=d.data)||void 0===b||null===(j=b.flags)||void 0===j?void 0:j.includes("needs_init"))?e.push("/welcome"):((y=null===f.a||void 0===f.a?void 0:f.a.messaging())&&d.data&&(null===y||void 0===y||y.requestPermission().then(Object(o.a)(r.a.mark((function e(){var t,n,a,i,o,c,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getToken();case 2:if(i=e.sent,(null===(t=d.data)||void 0===t?void 0:t.tokens)&&(null===(n=d.data)||void 0===n||null===(a=n.tokens)||void 0===a?void 0:a.includes(i))){e.next=8;break}return(u=null!==(o=null===(c=d.data)||void 0===c?void 0:c.tokens)&&void 0!==o?o:[]).push(i),e.next=8,s(v.a,null===(l=d.data)||void 0===l?void 0:l.id,{tokens:u});case 8:console.log(i);case 9:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("Unable to get permission to notify.",e)})),navigator.serviceWorker.addEventListener("message",(function(e){var t,n,a;m(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t["firebase-messaging-msg-data"])||void 0===n||null===(a=n.notification)||void 0===a?void 0:a.body),console.log(e)}))),e.push(null!==(O=null===t||void 0===t?void 0:t.initialPath)&&void 0!==O?O:"/home"))):e.push("/intro"),n.next=12;break;case 11:e.push("/intro");case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()():e.push("/intro")}),[]),Object(a.jsx)(u.a,{alignItems:"center",justifyContent:"center",width:"100%",height:"100vh",className:n.root,children:Object(a.jsx)("img",{src:l,alt:"logo",className:n.logo})})}},213:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(0),r=n(9),o=n(136),c=n(340),l=n(227),s=n(146),d=n(24),u=n(343),b=n(180),j=n(123),p=Object(j.a)((function(e){return{root:Object(s.a)({position:"relative",minWidth:"calc(100% - 385px)",maxWidth:"max-content",display:"flex",flexDirection:"column",height:"calc(100vh - 72px)",justifyContent:"space-between",backdropFilter:"blur(10px)",borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},e.breakpoints.down("sm"),{flexBasis:"100%",minWidth:"100%",width:"100%"}),inputContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:e.spacing(1)},inputBackground:{backgroundColor:e.palette.background.paper,borderRadius:200,display:"flex",alignItems:"center",justifyContent:"flex-start",width:"95%"},roomTitle:{},roomTitleBox:{marginLeft:"12px"},messagesRoot:Object(s.a)({minWidth:"70vw",width:"100%",position:"relative",maxHeight:"calc(100vh - 36px)",height:"90%",flexGrow:1,overflow:"auto",display:"flex"},e.breakpoints.down("sm"),{minWidth:"70vw"}),messageRoot:{borderRadius:"15px"},ownedMessage:{margin:"3px ",alignSelf:"flex-end",color:"#000",backgroundColor:"#eee",borderRadius:"15px","& > *":{margin:0,maxWidth:"240px",whiteSpace:"normal",wordBreak:"break-word"},"& > * > *":{maxWidth:"240px"}},notOwnedMessage:{alignSelf:"flex-start",margin:"15px 0",color:"#FFF",background:e.palette.primary.main,"& > *":{margin:0,maxWidth:"240px",whiteSpace:"normal",wordBreak:"break-word"},"& > * > *":{maxWidth:"240px"}},messageWithManyLines:{margin:"8px 0"},message:{maxWidth:"450px",position:"relative",padding:"16px 18px",borderRadius:"25px",textAlign:"left"},nextMessageOwned:{borderBottomRightRadius:"4px"},nextMessageNotOwned:{borderBottomLeftRadius:"4px",marginBottom:"3px"},prevMessageOwned:{borderTopRightRadius:"4px"},prevMessageNotOwned:{borderTopLeftRadius:"4px",marginTop:"3px"},equalToLine:{paddingLeft:"28px"},sendMessageArea:{position:"fixed"},avatar:{borderRadius:"28px",width:"28px",height:"28px",backgroundColor:"white",color:"#242424",right:"-19px",bottom:"0px",position:"relative",padding:"3px",zIndex:5},chatBoxHeader:{width:"100%",height:"100px",backgroundColor:e.palette.background.paper}}})),v=n(142),h=n(172),x=n.n(h),m=n(229),f=n.n(m),O=n(161),g=function(e){var t,n,r,o,c,l,b,j,h=e.message,m=e.author,g=e.isOwned,w=e.displayAvatar,y=e.isOwnedNextMessage,k=e.isOwnedPrevMessage,_=p(),C=Object(i.useState)(0),S=Object(d.a)(C,2),N=S[0],I=S[1],P=Object(i.useRef)(null),R=h.value;try{R=atob(h.value)}catch(D){console.log(D)}var W=x()(_.message,(t={},Object(s.a)(t,_.ownedMessage,g),Object(s.a)(t,_.notOwnedMessage,!g),Object(s.a)(t,_.messageWithManyLines,N>150),Object(s.a)(t,_.nextMessageNotOwned,y&&!g),Object(s.a)(t,_.prevMessageNotOwned,k&&!g),Object(s.a)(t,_.nextMessageOwned,y&&g),Object(s.a)(t,_.prevMessageOwned,k&&g),t)),L=x()((n={},Object(s.a)(n,_.ownedMessage,g),Object(s.a)(n,_.messageRoot,!g),Object(s.a)(n,_.equalToLine,!w&&!g),n));Object(i.useEffect)((function(){I(P.current.offsetHeight)}),[]);var E=Object(O.b)(null===m||void 0===m||null===(r=m.details)||void 0===r?void 0:r.first_name,null===m||void 0===m||null===(o=m.details)||void 0===o?void 0:o.last_name,null!==(c=null===m||void 0===m?void 0:m.label)&&void 0!==c?c:"Unknown"),B=Object(O.c)(null===m||void 0===m||null===(l=m.details)||void 0===l?void 0:l.first_name,null===m||void 0===m||null===(b=m.details)||void 0===b?void 0:b.last_name,null!==(j=null===m||void 0===m?void 0:m.label)&&void 0!==j?j:"Unknown");return Object(a.jsxs)(v.a,{alignItems:"flex-end",className:L,style:{alignSelf:g?"flex-end":"flex-start"},children:[w&&!g&&m&&Object(a.jsx)(u.a,{alt:E,className:_.avatar,src:m.avatar_url,children:B}),Object(a.jsx)("div",{className:W,ref:P,children:Object(a.jsx)(f.a,{source:R})})]})},w=function(e){var t=e.roomId,n=e.accounts,r=Object(b.b)(t)||{},c=Object(i.useCallback)((function(e){var t;return null!==(t=n.find((function(t){return t.id===e})))&&void 0!==t?t:null}),[n]),s=Object(o.b)((function(e){var t;return null!==(t=e.currentAccount)&&void 0!==t?t:null})),d=0!==Object.keys(r).length;return Object(a.jsx)(v.a,{flexDirection:"column-reverse",style:{marginBottom:"15px",overflowY:"scroll",height:"calc(90vh - 152px)"},children:r&&!d?Object(a.jsx)(l.a,{variant:"h2",style:{marginLeft:"30px"},children:"Say Hi!"}):Object.keys(r).reverse().map((function(e,t){var n,i,o,l=r[e];return Object(a.jsx)(g,{message:l,author:c(l.author),displayAvatar:l.author!==(null===(n=r[Object.keys(r).reverse()[t-1]])||void 0===n?void 0:n.author),isOwnedNextMessage:l.author===(null===(i=r[Object.keys(r).reverse()[t-1]])||void 0===i?void 0:i.author),isOwnedPrevMessage:l.author===(null===(o=r[Object.keys(r).reverse()[t+1]])||void 0===o?void 0:o.author),isOwned:(null===s||void 0===s?void 0:s.id)===l.author},e)}))})},y=n(137),k=n.n(y),_=n(138),C=n(320),S=n(228),N=n(338),I=Object(j.a)((function(e){return{root:Object(s.a)({},"& fieldset",{borderRadius:200})}})),P=function(e){var t=I();return Object(a.jsx)(N.a,{onKeyPress:function(t){"Enter"!==t.key||t.shiftKey||(t.preventDefault(),e.onSubmit&&e.onSubmit())},ref:e.inputRef,fullWidth:!0,value:e.value,onChange:e.onChange,placeholder:"Write your message...",classes:{root:t.root},variant:"outlined"})},R=function(){var e=Object(_.a)(k.a.mark((function e(t,n,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n,a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),W=function(e){var t=Object(i.useState)(""),n=Object(d.a)(t,2),r=n[0],o=n[1],l=p(),s=Object(i.useRef)(),u=function(){var e;s.current&&(null===(e=s.current)||void 0===e||e.focus())},b=function(){var t=Object(_.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.preventDefault(),!(r.length>0)){t.next=14;break}return t.prev=2,e.onSubmit(btoa(r)),o(""),u(),t.next=8,R(["dcSXVLtXIAUTyhxv_vpAOC:APA91bE-13ugAh4qEcf8PT3n1r84pbIGZ2Hm5xv4S054SO_wRs3mGM0xCw-0nphyB7wYVthrL6lGZR8qy6qx1--wzUIuqACVNGfow29Lf1EdA-Bh6bb1-VPgiGtx-EF_Z1KPxRu6nZE4"],"New message",r);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),alert("Message contains invalid characters.");case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)("form",{id:"message-form",className:l.inputContainer,onSubmit:b,children:Object(a.jsxs)(c.a,{className:l.inputBackground,children:[Object(a.jsx)(P,{inputRef:s,value:r,onChange:function(e){var t,n;o(null!==(t=null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"")},onSubmit:b}),Object(a.jsx)(C.a,{onClick:function(){return b()},children:Object(a.jsx)(S.a,{color:"primary",children:"send"})})]})})},L=n(145),E=n(326),B=function(){return Object(a.jsxs)("div",{style:{width:"fit-content",marginLeft:"10px"},children:[Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:150,height:40,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:240,height:120,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:240,height:80,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:120,height:40,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:100,height:40,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:240,height:160,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:210,height:40,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:210,height:40,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:210,height:50,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:210,height:50,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}}),Object(a.jsx)(E.a,{animation:"wave",variant:"rect",width:210,height:50,style:{margin:"20px 34px 10px 0px",borderRadius:"10px"}})]})},D=function(){var e,t,n,s,d,u,j,v,h=Object(r.h)(),x=p(),m=Object(o.b)((function(e){return e.currentAccount})),f=Object(L.d)(h.id),g=Object(b.a)(h.id,null!==(e=null===m||void 0===m?void 0:m.id)&&void 0!==e?e:""),y=Object(O.a)(null===f||void 0===f?void 0:f.accounts).filter((function(e){return e.id!==(null===m||void 0===m?void 0:m.id)})),k=y.map((function(e){var t,n;return Object(O.b)(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.first_name,null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.last_name,null===e||void 0===e?void 0:e.label)})),_=y.length>1?null===f||void 0===f?void 0:f.label:Object(O.b)(null===y||void 0===y||null===(t=y[0])||void 0===t||null===(n=t.details)||void 0===n?void 0:n.first_name,null===y||void 0===y||null===(s=y[0])||void 0===s||null===(d=s.details)||void 0===d?void 0:d.last_name,null!==(u=null===y||void 0===y||null===(j=y[0])||void 0===j?void 0:j.label)&&void 0!==u?u:"Unknown"),C=Object(i.useMemo)((function(){var e=k.slice(0,3).join(", ");return k.length>3&&(e+=" and ".concat(k.length-3," more")),e}),[k.length]);return Object(a.jsx)(c.a,{className:x.root,children:f&&f.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(c.a,{className:x.chatBoxHeader,display:"flex",justifyContent:"space-between",alignItems:"center",children:Object(a.jsxs)(c.a,{className:x.roomTitleBox,children:[Object(a.jsx)(l.a,{variant:"h5",className:x.roomTitle,children:_}),y.length>1&&Object(a.jsx)(l.a,{style:{opacity:.65},children:C})]})}),Object(a.jsxs)(c.a,{children:[Object(a.jsx)(w,{accounts:null!==(v=null===f||void 0===f?void 0:f.accounts)&&void 0!==v?v:[],roomId:f.id}),Object(a.jsx)(W,{onSubmit:g})]})]}):Object(a.jsx)(B,{})})};t.default=function(){return Object(a.jsx)(D,{})}},214:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(24),r=n(0),o=n(58),c=n(123),l=Object(c.a)((function(e){return{root:{marginRight:"10%"},welcome:{display:"flex",flexDirection:"column"},avatarContainer:{position:"relative"},welcomeWraper:{position:"relative",display:"flex"},greetings:{width:"100%",color:"white",margin:0,textShadow:"1px 3px 3px rgba(0, 0, 0, .25)",fontFamily:"'Roboto Condensed', sans-serif",fontWeight:400},suggestionsInfo:{width:"100%",margin:0,color:"white",fontSize:"26px",textShadow:"1px 3px 3px rgba(0, 0, 0, .25)"}}})),s=function(e){return{greeting:{en_US:"Hi",pl_PL:"Witaj",de_DE:"Hallo"}}},d=n(227),u=n(136),b=n(140),j=n(145),p=n(143),v=n(151),h=n(332),x=n(333),m=n(340),f=n(343),O=function(e){return{firstMessage:{en_US:"Write to this member 1st time",pl_PL:"Napisz do tej osoby poraz pierwszy",de_DE:"Hallo!"}}},g=Object(c.a)((function(e){return{root:{marginTop:"20px",overflowY:"auto"},card:{borderRadius:"8px",margin:"10px auto",width:"100%"},suggestionAvatar:{marginRight:e.spacing(4),width:"48px",height:"48px"}}})),w=n(218),y=n(212),k=n(161);w.a.registerPlugin(y.a);var _=function(e){var t,n,c,l,s,u=e.suggestion,w=e.index,y=g(),_=Object(o.useLittera)(O),C=Object(i.a)(_,1)[0],S=u.payload,N=u.type,I=Object(r.useRef)(null),P=Object(j.b)(b.c,null===S||void 0===S?void 0:S.account_id),R=Object(p.a)((function(e){return Object(v.c)(e)?e.data:null}),P),W=Object(i.a)(R,1)[0];if(Object(r.useEffect)((function(){}),[u]),!W||(null===(t=W.flags)||void 0===t?void 0:t.includes("needs_init")))return null;var L=Object(k.b)(null===(n=W.details)||void 0===n?void 0:n.first_name,null===(c=W.details)||void 0===c?void 0:c.last_name,W.label),E=Object(k.c)(null===(l=W.details)||void 0===l?void 0:l.first_name,null===(s=W.details)||void 0===s?void 0:s.last_name,W.label);return Object(a.jsx)(h.a,{className:y.card,id:w,ref:I,style:{zIndex:parseInt(w)},children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(m.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:[Object(a.jsx)(f.a,{className:y.suggestionAvatar,src:W.avatar_url,alt:L,children:E}),Object(a.jsxs)(m.a,{children:[Object(a.jsx)(d.a,{variant:"h5",children:L}),Object(a.jsx)(d.a,{children:"never-messaged"===N?C.firstMessage:N})]})]})})})};w.a.registerPlugin(y.a);var C=function(){var e=g(),t=Object(u.b)((function(e){var t;return null!==(t=e.currentAccount)&&void 0!==t?t:null})),n=Object(r.useRef)(null),o=Object(j.b)(b.b,null===t||void 0===t?void 0:t.id),c=Object(p.a)((function(e){return Object(v.c)(e)?e.data:null}),o),l=Object(i.a)(c,1)[0];return Object(a.jsx)("section",{className:e.root,ref:n,children:0!==(null===l||void 0===l?void 0:l.length)?null===l||void 0===l?void 0:l.map((function(e){return Object(a.jsx)(_,{suggestion:e,index:l.indexOf(e)},l.indexOf(e))})):null})},S=n(139),N=Object(c.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"10px 0"},image:{width:"50px",height:"50px",borderRadius:"50px",marginRight:"10px",boxShadow:"0px 3px 9px rgba(0, 0, 0, .25)"}}})),I=function(e){var t,n,r,o,c,l=N(),s=Object(j.b)(b.c,e.account_id),d=Object(p.a)((function(e){return Object(v.c)(e)?e.data:null}),s),u=Object(i.a)(d,1)[0];if(!u||(null===(t=u.flags)||void 0===t?void 0:t.includes("needs_init")))return null;var h=Object(k.b)(null===(n=u.details)||void 0===n?void 0:n.first_name,null===(r=u.details)||void 0===r?void 0:r.last_name,u.label),x=Object(k.c)(null===(o=u.details)||void 0===o?void 0:o.first_name,null===(c=u.details)||void 0===c?void 0:c.last_name,u.label);return Object(a.jsx)(f.a,{className:l.image,src:u.avatar_url,alt:h,children:x})},P=function(e){var t=N(),n=Object(u.b)((function(e){var t;return null!==(t=e.currentAccount)&&void 0!==t?t:null}));return Object(a.jsx)("div",{className:t.root,children:Object(k.a)(null===n||void 0===n?void 0:n.friends).filter((function(e){return!!e.favorite})).map((function(e){return Object(a.jsx)(I,Object(S.a)({},e))}))})};t.default=function(){var e,t=Object(o.useLittera)(s),n=Object(i.a)(t,1)[0],r=l(),c=Object(u.b)((function(e){return e.currentAccount}));return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("section",{className:r.welcomeWraper,children:Object(a.jsxs)("section",{className:r.welcome,children:[Object(a.jsxs)(d.a,{className:r.greetings,variant:"h2",children:[n.greeting,", ",null===c||void 0===c||null===(e=c.details)||void 0===e?void 0:e.first_name,"!"]}),Object(a.jsx)(d.a,{className:r.suggestionsInfo,variant:"h5",children:"Here are some suggestions for you"})]})}),Object(a.jsx)(P,{}),Object(a.jsx)(C,{})]})}},215:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(139),r=n(146),o=n(0),c=n.n(o),l=n(340),s=n(227),d=n(343),u=n(331),b=n(9),j=n(136),p=n(137),v=n.n(p),h=n(138),x=n(24),m=n(128),f=n(327),O=n(328),g=n(329),w=n(338),y=n(330),k=n(152),_=n(123),C=Object(_.a)((function(e){return{root:{}}})),S=n(145),N=n(140),I=n(143),P=n(151),R=n(325),W=n(228),L=n(142),E=n(161),B=function(e){var t,n,i,r,o,c=e.account,l=e.onClick,u=e.selected,b=Object(E.b)(null===(t=c.details)||void 0===t?void 0:t.first_name,null===(n=c.details)||void 0===n?void 0:n.last_name,c.label),j=Object(E.c)(null===(i=c.details)||void 0===i?void 0:i.first_name,null===(r=c.details)||void 0===r?void 0:r.last_name,c.label);return Object(a.jsxs)(L.a,{style:{paddingTop:"12px",cursor:"pointer"},onClick:function(){l(c.id)},justifyContent:"flex-start",alignItems:"center",children:[Object(a.jsx)(d.a,{style:{width:"54px",height:"54px",backgroundColor:u?"green":void 0},alt:b,src:u?void 0:c.avatar_url,children:u?Object(a.jsx)(W.a,{children:"check"}):j}),Object(a.jsxs)("div",{style:{margin:"0 0 0 20px"},children:[Object(a.jsx)(s.a,{style:{margin:"0"},variant:"h6",children:b}),Object(a.jsx)(s.a,{style:{margin:"0",opacity:".6"},children:null===(o=c.contact)||void 0===o?void 0:o.email})]})]})},D=function(e){var t,n=C(),i=Object(j.b)((function(e){return e.currentAccount})),r=Object(S.b)(N.d,null===i||void 0===i||null===(t=i.friends)||void 0===t?void 0:t.map((function(e){return e.account_id}))),c=Object(I.a)((function(e){return Object(P.c)(e)?e.data:null}),r),l=Object(x.a)(c,1)[0];Object(o.useEffect)((function(){e.onChange((function(e){return[]}))}),[]);return l?Object(a.jsx)("div",{className:n.root,style:e.style,children:l.map((function(t){return Object(a.jsx)(B,{account:t,onClick:function(t){return function(t){e.disabled||e.onChange((function(n){if(e.multiple&&Array.isArray(n)){var a=Object(k.a)(n);return a.includes(t)?a.splice(n.indexOf(t),1):a.push(t),Object(k.a)(a)}return n===t?"":t}))}(t)},selected:e.value.includes(t.id)},t.id)}))}):Object(a.jsx)(L.a,{width:"100%",height:"60px",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(R.a,{})})},T=n(342),z=n(147),U=n(58),A=function(e){return{conversation:{en_US:"New conversation",pl_PL:"Nowa rozmowa",de_DE:"Hallo!"},createRoom:{en_US:"Create room",pl_PL:"Stw\xf3rz pok\xf3j!",de_DE:"Hallo!"},invite:{en_US:"Invite Friends",pl_PL:"Zapro\u015b znajomych",de_DE:"Hallo!"},select:{en_US:"Select a Friend",pl_PL:"Wybierz znajomych",de_DE:"Hallo!"},selected:{en_US:"Selected",pl_PL:"Wybrano",de_DE:"Hallo!"},yes:e.yes}},M=Object(_.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},topMenu:{display:"flex"},listWrapper:{position:"relative",overflowY:"scroll",width:"100%",height:"calc(100% - 100px)"},roomWrapper:{position:"relative",margin:"auto 10px auto 0",width:"385px",backgroundColor:"#fff",boxShadow:"7px 11px 15px rgba(0, 0, 0, .25)",borderRadius:"20px",height:"80vh",overflow:"hidden",minWidth:"296px",transition:"all 255ms ease"},roomWrapperExpanded:{margin:"auto 0px auto 0",width:"385px",boxShadow:"7px 11px 15px rgba(0, 0, 0, .25)",borderRadius:"20px 0px 0 20px",height:"100%",minWidth:"296px"},roomsButton:{display:"block",width:"100%",height:"100px",backgroundColor:"#fff",borderRadiusBottom:"1px solid #eee",borderRadius:"0px"},roomItemWrapper:{overflow:"hidden",width:"100%",padding:"30px 24px",textAlign:"left",backgroundColor:"#fff",cursor:"pointer",transition:"backgroundColor 255ms ease",display:"flex",justifyContent:"space-between",alignItems:"center","&:hover":{backgroundColor:"#f5f5f5"}},avatarPlaceholder:{height:"42px",width:"42px",borderRadius:"42px",backgroundColor:"#9C6",marginRight:"20px"},lastMessageTypography:{fontSize:"14px",opacity:.45,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}})),F=function(){var e=c.a.useState(""),t=Object(x.a)(e,2),n=t[0],i=t[1],r=c.a.useState(!1),o=Object(x.a)(r,2),l=o[0],d=o[1],u=c.a.useState(!1),p=Object(x.a)(u,2),k=p[0],_=p[1],C=c.a.useState([]),I=Object(x.a)(C,2),P=I[0],R=I[1],W=c.a.useState(""),E=Object(x.a)(W,2),B=E[0],F=E[1],H=M(),q=Object(b.f)(),V=Object(j.b)((function(e){return e.currentAccount})),G=Object(S.c)(),Z=Object(j.a)(),J=Object(U.useLittera)(A),Y=Object(x.a)(J,1)[0],K=function(){_(!1)},X=function(){var e=Object(h.a)(v.a.mark((function e(){var t,n,a,r,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,G(N.f,null!==(t=null===V||void 0===V?void 0:V.id)&&void 0!==t?t:"",B,P);case 3:if(200!==(n=e.sent).status){e.next=14;break}return e.t0=Z,e.next=8,Object(z.c)(null!==(a=null===V||void 0===V?void 0:V.id)&&void 0!==a?a:"");case 8:e.t1=e.sent,(0,e.t0)(e.t1),r=n.data.room_id,q.push("/home/room/".concat(r)),e.next=15;break;case 14:404===n.status&&i(null!==(o=null===n||void 0===n?void 0:n.message)&&void 0!==o?o:"Unexpected error occurred");case 15:d(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=0===B.length||0===P.length||l;return Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{variant:"contained",onClick:function(){_(!0)},className:H.roomsButton,children:Y.conversation}),Object(a.jsxs)(f.a,{fullWidth:!0,onClose:K,"aria-labelledby":"customized-dialog-title",open:k,children:[Object(a.jsx)(O.a,{id:"customized-dialog-title",children:Y.createRoom}),Object(a.jsxs)(g.a,{dividers:!0,children:[n&&Object(a.jsx)(T.a,{severity:"error",children:n}),Object(a.jsx)(w.a,{disabled:l,fullWidth:!0,id:"outlined-basic",label:"Room name",value:B,onChange:function(e){var t,n,a=null!==(t=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"";F(a)},variant:"outlined"}),Object(a.jsx)(s.a,{style:{marginTop:"35px"},variant:"h5",children:Y.invite}),Object(a.jsx)(D,{disabled:l,style:{margin:"20px 0"},multiple:!0,value:P,onChange:R})]}),Object(a.jsx)(y.a,{children:Object(a.jsxs)(L.a,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[P.length>0?Object(a.jsxs)(s.a,{children:["Selected ",P.length," ",P.length>1?"friends":"friend"]}):Object(a.jsx)(s.a,{children:"Select a friend"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{autoFocus:!0,onClick:K,color:"primary",children:"Close"}),Object(a.jsx)(m.a,{disabled:Q,autoFocus:!0,onClick:X,color:"primary",children:"Create"})]})]})})]})]})},H=n(180),q=n(172),V=n.n(q),G=function(e){var t,n,i,r,o,c,d,j,p=Object(b.f)(),v=M(),h="/home/room/".concat(e.id),x=Object(S.a)(),m=Object(S.d)(e.id,!0),f=Object(H.b)(e.id);if(!m||!m.accounts)return null;var O=Object.values(f)[Object.keys(f).length-1],g=null!==(t=null===O||void 0===O?void 0:O.value)&&void 0!==t?t:null;try{g&&(g=atob(O.value))}catch(k){g=null,console.log(k)}var w=Object(E.a)(null===m||void 0===m?void 0:m.accounts).filter((function(e){return e.id!==(null===x||void 0===x?void 0:x.id)})),y=w.length>1?e.label:Object(E.b)(null===w||void 0===w||null===(n=w[0])||void 0===n||null===(i=n.details)||void 0===i?void 0:i.first_name,null===w||void 0===w||null===(r=w[0])||void 0===r||null===(o=r.details)||void 0===o?void 0:o.last_name,null!==(c=null===w||void 0===w||null===(d=w[0])||void 0===d?void 0:d.label)&&void 0!==c?c:"Unknown");return Object(a.jsxs)(l.a,{onClick:function(){return p.push(h)},className:v.roomItemWrapper,children:[Object(a.jsxs)(l.a,{style:{marginRight:"10px",maxWidth:"220px"},children:[Object(a.jsx)(s.a,{variant:"h6",style:{fontSize:"20px"},children:y}),g&&Object(a.jsx)(s.a,{className:v.lastMessageTypography,children:g})]}),Object(a.jsx)(u.a,{style:{},max:3,spacing:16,children:null===(j=m.accounts)||void 0===j?void 0:j.filter((function(e){return e.id!==(null===x||void 0===x?void 0:x.id)})).map(Z)})]})},Z=function(e){var t,n,i,r,o,c,l=Object(E.b)(null===e||void 0===e||null===(t=e.details)||void 0===t?void 0:t.first_name,null===e||void 0===e||null===(n=e.details)||void 0===n?void 0:n.last_name,null!==(i=null===e||void 0===e?void 0:e.label)&&void 0!==i?i:"Unknown"),s=Object(E.c)(null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r.first_name,null===e||void 0===e||null===(o=e.details)||void 0===o?void 0:o.last_name,null!==(c=null===e||void 0===e?void 0:e.label)&&void 0!==c?c:"Unknown");return Object(a.jsx)(d.a,{alt:l,src:e.avatar_url,children:s})};t.default=function(){var e=M(),t=Object(b.f)().location.pathname.includes("/room/"),n=Object(j.b)((function(e){return e.currentAccount}));return Object(a.jsxs)(l.a,{className:V()(e.roomWrapper,Object(r.a)({},e.roomWrapperExpanded,t)),children:[Object(a.jsx)(F,{}),Object(a.jsx)(l.a,{className:e.listWrapper,children:(null===n||void 0===n?void 0:n.rooms)&&n.rooms.map((function(e){return Object(a.jsx)(G,Object(i.a)({},e),e.id)}))})]})}},217:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(139),r=n(24),o=n(0),c=n(227),l=n(136),s=n(343),d=n(145),u=n(143),b=n(151),j=n(140),p=n(123),v=Object(p.a)((function(e){return{title:{padding:"5vh 0",width:"100%",textAlign:"center"},root:{display:"flex",flexWrap:"wrap"},personData:{display:"flex",width:"50%",margin:"15px auto",justifyContent:"center",alignItems:"center"},contacts:{width:"100%"},avatar:{margin:"0 20px"},text:{width:"100%",textAlign:"center"}}})),h=function(e){var t,n=Object(o.useState)(""),i=Object(r.a)(n,2),p=i[0],h=i[1],x=Object(o.useState)(""),m=Object(r.a)(x,2),f=m[0],O=m[1],g=v(),w=Object(l.b)((function(e){return e.currentAccount})),y=Object(d.b)(j.d,null===w||void 0===w||null===(t=w.friends)||void 0===t?void 0:t.map((function(e){return e.account_id}))),k=Object(u.a)((function(e){return Object(b.c)(e)?e.data:null}),y),_=Object(r.a)(k,1)[0];return Object(o.useEffect)((function(){null===_||void 0===_||_.forEach((function(t){if(t.id===e.account_id)return h("".concat(t.name," ").concat(t.surname)),O(t.avatar_url)}))})),console.log(w,_,e.account_id),Object(a.jsxs)("section",{className:g.personData,children:[Object(a.jsx)(s.a,{className:g.avatar,alt:"user",src:f}),Object(a.jsx)(c.a,{color:e.favorite?"primary":"initial",children:p})]})},x=n(58),m=function(e){return{peopleMessage:{en_US:"You don't have any frients on the list.",pl_PL:"Nie masz nikogo na li\u015bcie znajomych."}}};t.default=function(){var e=v(),t=Object(x.useLittera)(m),n=Object(r.a)(t,1)[0],o=Object(l.b)((function(e){return e.currentAccount}));return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(c.a,{variant:"h2",gutterBottom:!0,className:e.title,children:"People"}),Object(a.jsx)("section",{className:e.contacts,children:o?(null===o||void 0===o?void 0:o.friends)&&o.friends.map((function(e){return Object(a.jsx)(h,Object(i.a)({},e),e.account_id)})):Object(a.jsx)(c.a,{variant:"h3",className:e.text,children:n.peopleMessage})})]})}},339:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(24),r=n(0),o=n.n(r),c=n(146),l=n(123),s=Object(l.a)((function(e){return{root:Object(c.a)({position:"relative",display:"flex",height:"100vh",width:"100vw",maxWidth:"100%",overflow:"hidden"},e.breakpoints.down("sm"),{height:"auto"}),container:{display:"flex",flexWrap:"wrap",flexGrow:2,width:"calc(100% - ".concat(134,"px)"),height:"100%"},sidebar:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:114,marginRight:20,height:"100vh",padding:"15px 0",background:"linear-gradient(to right, rgba(0, 0, 0, 0.35), transparent)"},backgroundImage:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"100vh",width:"auto",minWidth:"100%",zIndex:-2},backgroundImageBacklit:{position:"absolute",top:0,left:0,zIndex:-1,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, .2)"},mainSection:Object(c.a)({display:"flex",width:"100%",justifyContent:"space-between",alignItems:"flex-start",height:"calc(100vh - 72px)"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",justifyContent:"flex-start",alignItems:"center"}),drawer:{width:"60%"}}})),d=n(9),u=n(136),b=n(169),j=n(226),p=n.n(j),v=n(225),h=n.n(v),x=Object(l.a)((function(e){return{menuIcon:{fontSize:"40px",cursor:"pointer",color:"white","& svg":{boxShadow:"1px 3px 3px rgba(0, 0, 0, .25)"}}}})),m=function(){var e=x(),t=Object(r.useState)(!1),n=Object(i.a)(t,2),o=n[0],c=n[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("section",{onClick:function(){c(!o)},children:o?Object(a.jsx)(h.a,{className:e.menuIcon}):Object(a.jsx)(p.a,{className:e.menuIcon})})})},f=n(137),O=n.n(f),g=n(138),w=n(343),y=n(318),k=n(340),_=n(227),C=n(319),S=n(335),N=n(336),I=n(228),P=n(337),R=n(334),W=n(172),L=n.n(W),E=n(58),B=n(161),D=(n(191),n(188),n(216),n(189),n(190),Object(l.a)((function(e){return{root:{height:"100vh",width:"45vw",backgroundColor:"white",zIndex:4}}}))),T=function(e){return{title:{en_US:"Profile",pl_PL:"Profil",de_DE:"Profil"},signOut:{en_US:"Sign Out",pl_PL:"Wyloguj si\u0119",de_DE:"Ausloggen"}}},z=n(325),U=n(128),A=n(145),M=n(166),F=n(147),H=n(156),q=function(){var e,t,n,r=Object(E.useLittera)(T),o=Object(i.a)(r,1)[0],c=D(),l=Object(H.b)(),s=Object(u.a)(),d=Object(A.a)(void 0,!0);if(!d)return Object(a.jsx)(z.a,{});var b=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.c)();case 2:l("accountIdToken"),s(Object(F.b)(null)),window.location.reload(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:c.root,children:[o.title,Object(a.jsx)("img",{alt:"profile",src:d.avatar_url,style:{width:"220px",height:"auto"}}),Object(a.jsx)(_.a,{paragraph:!0,children:d.label}),Object(a.jsx)(_.a,{paragraph:!0,children:null===d||void 0===d||null===(e=d.details)||void 0===e?void 0:e.first_name}),Object(a.jsx)(_.a,{paragraph:!0,children:null===d||void 0===d||null===(t=d.details)||void 0===t?void 0:t.last_name}),Object(a.jsx)(_.a,{paragraph:!0,children:null===(n=d.contact)||void 0===n?void 0:n.email}),Object(a.jsx)("section",{children:d&&Object(a.jsx)(U.a,{variant:"contained",onClick:b,children:o.signOut})})]})},V=(n(213),n(215),n(217),n(214),{example:{en_US:"Example",de_DE:"Beispiel",pl_PL:"Przyk\u0142ad"},signOut:{en_US:"Sign out",de_DE:"Ausloggen",pl_PL:"Wyloguj si\u0119"},manageAccount:{en_US:"Manage account",de_DE:"Konto verwalten",pl_PL:"Zarz\u0105dzaj kontem"},settings:{de_DE:"Einstellungen",en_US:"Settings",pl_PL:"Ustawienia"}}),G=n(134),Z=n(139),J=n(320),Y=n(303),K=n.n(Y),X=n(142),Q={title:{de_DE:"Einstellungen",en_US:"Settings",pl_PL:"Ustawienia"}},$=function(){var e,t;return Object(a.jsxs)("div",{style:{margin:"20px 0"},children:[Object(a.jsx)(_.a,{variant:"h5",gutterBottom:!0,children:"Version"}),Object(a.jsx)(_.a,{children:null!==(e="1.0.0-alpha.1")?e:"0.0.0-dev.0"}),Object(a.jsx)(_.a,{children:null!==(t="Sat Jan 30 21:42:55 UTC 2021")?t:(new Date).toDateString()})]})},ee=function(){var e=Object(u.b)((function(e){var t;return null===(t=e.preferences)||void 0===t?void 0:t.backgroundTheme})),t=Object(u.a)();return Object(a.jsxs)("div",{style:{margin:"20px 0"},children:[Object(a.jsx)(_.a,{variant:"h5",gutterBottom:!0,children:"Theme"}),Object(a.jsx)(X.a,{flexWrap:"wrap",children:b.a.map((function(n,i){var r;return Object(a.jsx)(te,Object(Z.a)({setTheme:function(){return function(e){t(Object(F.a)(b.a[e])),localStorage.setItem("background-theme",b.a[e].id)}(i)},active:((null===e||void 0===e||null===(r=e.id)||void 0===r?void 0:r.toString())||"1922729")===n.id},n),n.id)}))})]})},te=function(e){return Object(a.jsxs)("div",{style:{margin:"0 5px",cursor:"pointer"},onClick:e.setTheme,children:[Object(a.jsx)("div",{style:{width:"200px",height:"125px",overflow:"hidden",borderRadius:"8px"},children:Object(a.jsx)("img",{src:"".concat(e.url,"200x125"),alt:"theme thumbnail"})}),Object(a.jsx)("p",{style:{marginTop:"5px",fontWeight:e.active?"bold":"normal"},children:e.label})]})},ne=Object(l.a)((function(e){return{root:{},h2:{color:"#000"},drawer:{},paperDrawer:{position:"relative",padding:"10px 20px",width:"40vw"}}})),ae=function(e){var t=Object(E.useLittera)(Q),n=Object(i.a)(t,1)[0],r=ne();return Object(a.jsx)("div",{className:L()(r.root,e.className),style:e.style,children:Object(a.jsx)(R.a,{open:e.open,anchor:"right",onClose:e.onClose,className:r.drawer,keepMounted:!0,children:Object(a.jsxs)("div",{className:r.paperDrawer,children:[Object(a.jsxs)(X.a,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:"10px"},children:[Object(a.jsx)(_.a,{variant:"h4",children:n.title}),Object(a.jsx)(J.a,{onClick:e.onClose,children:Object(a.jsx)(K.a,{})})]}),Object(a.jsx)(ee,{}),Object(a.jsx)($,{})]})})})},ie=Object(l.a)((function(e){return Object(G.a)({root:{marginTop:"10px"},h4:{color:e.palette.primary.main},avatar:{cursor:"pointer",marginLeft:"15px",position:"relative"},avatarBig:{cursor:"pointer",width:"82px",height:"82px",position:"relative",marginBottom:e.spacing(4)},popoverPaper:{width:"288px",borderRadius:"10px"},header:{padding:"".concat(e.spacing(5),"px ").concat(e.spacing(4),"px")}})})),re=function(e){var t,n,c,l,s=Object(E.useLittera)(V),d=Object(i.a)(s,1)[0],b=ie(),j=Object(r.useState)(!1),p=Object(i.a)(j,2),v=p[0],h=p[1],x=function(){return h(!0)},m=Object(r.useState)(!1),f=Object(i.a)(m,2),W=f[0],D=f[1],T=Object(u.b)((function(e){return e.currentAccount})),z=o.a.useState(null),U=Object(i.a)(z,2),A=U[0],G=U[1],Z=function(){G(null)},J=Boolean(A),Y=J?"profile-popover":void 0,K=Object(B.b)(null===T||void 0===T||null===(t=T.details)||void 0===t?void 0:t.first_name,null===T||void 0===T||null===(n=T.details)||void 0===n?void 0:n.last_name,null!==(c=null===T||void 0===T?void 0:T.label)&&void 0!==c?c:"Unknown"),X=Object(H.b)(),Q=Object(u.a)(),$=function(){var e=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.c)();case 2:X("accountIdToken"),Q(Object(F.b)(null)),window.location.reload(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w.a,{"aria-describedby":Y,className:b.avatar,alt:"user",src:null===T||void 0===T?void 0:T.avatar_url,onClick:function(e){G(e.currentTarget)}}),Object(a.jsx)(y.a,{id:Y,open:J,anchorEl:A,onClose:Z,classes:{root:L()(b.root,e.className),paper:b.popoverPaper},style:e.style,anchorReference:"anchorEl",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(a.jsxs)(k.a,{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",children:[Object(a.jsxs)(k.a,{className:b.header,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",children:[Object(a.jsx)(w.a,{className:b.avatarBig,alt:K,src:null===T||void 0===T?void 0:T.avatar_url}),Object(a.jsx)(_.a,{variant:"h5",children:K}),Object(a.jsx)(_.a,{style:{opacity:.6},children:null===T||void 0===T||null===(l=T.contact)||void 0===l?void 0:l.email})]}),Object(a.jsxs)(C.a,{"aria-label":"profile settings signout",style:{width:"88%"},children:[Object(a.jsxs)(S.a,{button:!0,onClick:function(){D(!0),Z()},children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(I.a,{children:"person"})}),Object(a.jsx)(P.a,{primary:d.manageAccount})]}),Object(a.jsxs)(S.a,{button:!0,onClick:function(){x(),Z()},children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(I.a,{children:"settings"})}),Object(a.jsx)(P.a,{primary:d.settings})]}),Object(a.jsxs)(S.a,{button:!0,onClick:function(){$(),Z()},children:[Object(a.jsx)(N.a,{children:Object(a.jsx)(I.a,{children:"lock"})}),Object(a.jsx)(P.a,{primary:d.signOut})]})]})]})}),Object(a.jsx)(R.a,{anchor:"right",open:W,onClose:function(){return D(!1)},children:Object(a.jsx)(k.a,{style:{width:"55vw",height:"100vh",backgroundColor:"#FFF"},children:Object(a.jsx)(q,{})})}),Object(a.jsx)(ae,{open:v,onClose:function(){return h(!1)},onOpen:x})]})},oe=Object(l.a)((function(e){return{root:{textAlign:"left",margin:"0 0",textShadow:"1px 3px 4px rgba(0, 0, 0, .3)",fontFamily:"'Montserrat', sans-serif",fontWeight:600}}})),ce=function(e){var t=oe(),n=Object(Z.a)(Object(Z.a)({},e.style),{},{cursor:e.onClick?"pointer":"initial"});return Object(a.jsx)(_.a,Object(Z.a)(Object(Z.a)({onClick:e.onClick,variant:"h2",className:t.root,style:n},e.typographyProps),{},{children:"Circles"}))},le=Object(l.a)((function(e){return Object(G.a)({root:{position:"relative",display:"flex",height:"72px",width:"100%",margin:"0 auto",justifyContent:"space-between",alignItems:"center",color:"white"},menuBar:{marginRight:"3vw"}})})),se=function(e){var t,n=le(),i=Object(d.f)();return Object(a.jsxs)("section",{className:n.root,style:e.style,children:[Object(a.jsx)(ce,{style:{fontSize:"56px",margin:"16px 0"},onClick:(t="/home/highlights",function(){return i.push(t)})}),Object(a.jsx)(X.a,{justifyContent:"flex-end",alignItems:"center",className:n.menuBar,children:Object(a.jsx)(re,{})})]})},de=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,214))})),ue=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,213))})),be=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,215))})),je=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,217))}));t.default=function(){var e=s(),t=Object(d.f)(),n=Object(u.b)((function(e){var t;return(null===e||void 0===e||null===(t=e.preferences)||void 0===t?void 0:t.backgroundTheme)||b.a[0]})),o=Object(r.useState)(!0),c=Object(i.a)(o,1)[0];return Object(r.useEffect)((function(){t.push("/home/highlights")}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("section",{className:e.root,children:[Object(a.jsx)("div",{className:e.sidebar,children:Object(a.jsx)(m,{})}),Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(se,{}),Object(a.jsxs)("main",{className:e.mainSection,children:[c?Object(a.jsx)(be,{}):Object(a.jsx)(je,{}),Object(a.jsx)(d.a,{path:"/home/highlights",component:de}),Object(a.jsx)(d.a,{path:"/home/room/:id",component:ue})]})]})]}),Object(a.jsx)("div",{className:e.backgroundImageBacklit}),Object(a.jsx)("div",{className:e.backgroundImage,style:{backgroundImage:"url(".concat(null===n||void 0===n?void 0:n.url).concat(window.innerWidth,"x").concat(window.innerHeight,")")}})]})}}}]);
//# sourceMappingURL=9.34d66d9a.chunk.js.map