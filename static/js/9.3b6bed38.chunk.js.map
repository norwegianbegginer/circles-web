{"version":3,"sources":["utils/general.ts","storage/hooks.ts","utils/backgroundThemes.ts","api/messages.ts","components/pages/Intro/styles.ts","components/pages/Intro/trans.ts","components/pages/Intro/IntroView.tsx","assets/intro00.svg","assets/intro01.svg","assets/intro02.svg","components/pages/Intro/index.tsx","components/pages/Signup/styles.ts","components/pages/Signup/trans.ts","assets/celebration.svg","components/pages/Signup/index.tsx","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","assets/personal.svg","components/pages/Welcome/index.tsx","assets/circles-logo.svg","components/pages/Splash/styles.ts","components/pages/Splash/index.tsx","components/pages/Room/styles.ts","components/pages/Room/Messages.tsx","components/common/MessageInput/styles.ts","components/common/MessageInput/index.tsx","api/fcm.ts","components/pages/Room/MessageForm.tsx","components/pages/Room/MessagesSkeleton.tsx","components/pages/Room/RoomView.tsx","components/pages/Room/index.tsx","components/pages/Highlights/styles.ts","components/pages/Highlights/trans.ts","components/common/AccountSugestions/trans.ts","components/common/AccountSugestions/styles.ts","components/common/AccountSugestions/Suggestion.tsx","components/common/AccountSugestions/index.tsx","components/common/AccountFavContacts/styles.ts","components/common/AccountFavContacts/index.tsx","components/pages/Highlights/index.tsx","components/common/AccountPicker/styles.ts","components/common/AccountPicker/index.tsx","components/pages/Rooms/trans.ts","components/pages/Rooms/styles.ts","components/pages/Rooms/CreateRoom.tsx","components/pages/Rooms/index.tsx","components/pages/People/styles.ts","components/pages/People/ContactLabel.tsx","components/pages/People/trans.ts","components/pages/People/index.tsx","components/pages/Home/styles.ts","components/pages/Menu/styles.ts","components/pages/Menu/index.tsx","components/pages/Profile/styles.ts","components/pages/Profile/trans.ts","components/pages/Profile/index.tsx","components/common/TopMenu/MenuPopover/trans.ts","components/common/SettingsDrawer/trans.ts","components/common/SettingsDrawer/index.tsx","components/common/SettingsDrawer/styles.ts","components/common/TopMenu/MenuPopover/index.tsx","components/common/TopMenu/MenuPopover/styles.ts","components/common/Logo/styles.ts","components/common/Logo/index.tsx","components/common/TopMenu/index.tsx","components/common/TopMenu/styles.ts","components/pages/Home/index.tsx"],"names":["ensureArray","arr","Array","isArray","makeInitials","first_name","last_name","fallback","toUpperCase","makeFullName","capitalizeFirstLetter","value","substring","length","toLowerCase","useStorage","storageFn","localStorage","useStorageSetter","signal","useSignal","useRef","key","undefined","resetLocalStorageValue","setLocalStorageValue","current","backgroundThemes","id","label","url","useMessages","room_id","useState","messages","setMessages","useEffect","firebase","ref","makeRefPath","on","snapshot","msgs","val","m","useMessageSubmit","account_id","useCallback","message","author","timestamp","Date","toString","newMsgKey","child","push","updates","update","useStyles","makeStyles","theme","root","introViewRoot","maxWidth","breakpoints","values","md","margin","introViewContentWrapper","marginTop","translations","preset","title","en_US","pl_PL","de_DE","firstTitle","secondTitle","thirdTitle","yes","ProgressIcons","activePart","Flex","justifyContent","alignItems","active","ProgressIcon","useTheme","Icon","style","opacity","fontSize","color","palette","primary","main","IntroView","props","classes","partId","prevButtonText","nextButtonText","className","height","flexDirection","src","image","alt","Typography","variant","align","paragraph","description","width","Button","onClick","onPrev","onNext","Intro","history","useHistory","useLittera","translated","setActivePart","handleNext","ap","handlePrev","intro00","intro01","intro02","minHeight","up","container","padding","spacing","inputWrapper","signImage","position","right","bottom","imgContainer","overflow","background","dark","wave","zIndex","left","footerWrapper","Signup","storageSetter","emailInput","setEmailInput","passwordInput","setPasswordInput","confirmPasswordInput","setConfirmPasswordInput","errorMsg","setErrorMsg","isLoading","setIsLoading","useRestrictedPageForCurrentAccount","handleInputChange","inputName","event","newValue","target","waveAsset","onSubmit","preventDefault","email","password","signUpWithCredentials","then","result","a","console","log","user","uid","catch","err","TextField","marginBottom","onChange","type","Alert","severity","AlertTitle","Fab","aria-label","Backdrop","open","CircularProgress","personalImage","welcomeTitle","Welcome","dispatchStore","useDispatch","dispatchCommand","useDispatchCommand","currentAccount","useStore","state","labelField","setLabelField","details","firstNameField","setFirstNameField","middle_name","middleNameField","setMiddleNameField","lastNameField","setLastNameField","birthdate","dateOfBirth","setDateOfBirth","sex","setSex","handleChange","field","handleSubmit","AccountChange","JSON","parse","stringify","status","AccountInfo","account","setCurrentAccount","Account","data","alert","personalInformationImage","paddingBottom","helperText","defaultValue","InputLabelProps","shrink","float","backgroundColor","paper","logo","Splash","location","dispatch","enqueueSnackbar","useSnackbar","accountIdToken","storage","AccountLogin","accountLogin","accountInfo","bgThemeId","getItem","bgTheme","find","bgT","setBackgroundTheme","flags","includes","messaging","requestPermission","getToken","token","tokens","newTokens","navigator","serviceWorker","addEventListener","notification","body","initialPath","fn","minWidth","display","backdropFilter","borderTopLeftRadius","shape","borderRadius","borderTopRightRadius","down","flexBasis","inputContainer","inputBackground","roomTitle","roomTitleBox","marginLeft","messagesRoot","maxHeight","flexGrow","messageRoot","ownedMessage","alignSelf","whiteSpace","wordBreak","notOwnedMessage","messageWithManyLines","textAlign","nextMessageOwned","borderBottomRightRadius","nextMessageNotOwned","borderBottomLeftRadius","prevMessageOwned","prevMessageNotOwned","equalToLine","paddingLeft","sendMessageArea","avatar","chatBoxHeader","Message","isOwned","displayAvatar","isOwnedNextMessage","isOwnedPrevMessage","setHeight","atob","rootClasses","cx","bubbleClasses","offsetHeight","authorFullName","authorInitials","Avatar","avatar_url","source","Messages","roomId","accounts","getAuthor","author_id","hasMessages","Object","keys","overflowY","reverse","map","message_id","index","MessageInput","onKeyPress","shiftKey","inputRef","fullWidth","placeholder","sendPushNotification","registration_ids","MessageForm","input","setInput","handleTextFieldFocus","focus","btoa","Box","IconButton","MessagesSkeleton","Skeleton","animation","RoomView","params","useParams","room","useRoom","submitMessage","roomMembers","filter","acc","reducedRoomMembers","roomName","membersEl","useMemo","slice","join","Room","marginRight","welcome","avatarContainer","welcomeWraper","greetings","textShadow","fontFamily","fontWeight","suggestionsInfo","greeting","firstMessage","card","suggestionAvatar","gsap","registerPlugin","ScrollTrigger","Suggestion","suggestion","payload","scrollRef","accountRq","useCommand","useForkedState","rq","isLoaded","accountFullName","accountInitials","Card","parseInt","CardContent","AccountSuggestions","suggestionsRq","AccountGetSuggestions","suggestions","indexOf","boxShadow","AccountContactBadge","AccountFavContacts","friends","c","favorite","Highlights","SingleAccount","selected","paddingTop","cursor","contact","AccountPicker","accountsRq","AccountList","friend","prevValue","disabled","multiple","splice","conversation","createRoom","invite","select","flexWrap","topMenu","listWrapper","roomWrapper","transition","roomWrapperExpanded","roomsButton","borderRadiusBottom","roomItemWrapper","avatarPlaceholder","lastMessageTypography","textOverflow","CreateRoom","React","error","setError","loading","setLoading","setOpen","setSelected","setLabel","handleClose","RoomCreate","newRoom","updateCurrentAccount","isSubmitDisabled","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","autoFocus","RoomLabel","roomUri","useAccount","lastMessage","lastMessageValue","AvatarGroup","max","accountsMap","Rooms","isRoomOpen","pathname","rooms","personData","contacts","text","ContactLabel","name","setName","setAvatar","forEach","surname","peopleMessage","People","gutterBottom","sidebarWidth","sidebar","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","top","transform","backgroundImageBacklit","mainSection","menuIcon","Menu","isOpenMenu","setIsOpenMenu","profileContainer","head","img","topData","nickName","detailsContainer","flex","textTransform","detail","borderBottom","verify","fullName","birthDate","edit","M","F","O","warning","notGiven","signOut","DetailComponent","Profile","isValid","translatedSex","scroll","PaperProps","example","manageAccount","settings","VersionSettings","process","toDateString","ThemeSettings","preferences","backgroundTheme","setTheme","setItem","ThemePanel","h2","drawer","paperDrawer","SettingsDrawer","Drawer","anchor","keepMounted","createStyles","h4","avatarBig","popoverPaper","header","MenuPopover","shownSettingsDrawer","setShownSettingsDrawer","openSettingsDrawer","shownProfileDrawer","setShownProfileDrawer","openProfileDrawer","anchorEl","setAnchorEl","Boolean","storeDispatch","handleSignOut","window","reload","aria-describedby","currentTarget","Popover","anchorReference","anchorOrigin","vertical","horizontal","transformOrigin","List","ListItem","button","ListItemIcon","ListItemText","onOpen","Logo","typographyProps","menuBar","TopMenu","path","HighlightsLazy","lazy","RoomLazy","RoomsLazy","PeopleLazy","Home","isRoomsView","component","innerWidth","innerHeight"],"mappings":"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","file":"static/js/9.3b6bed38.chunk.js","sourcesContent":["export function validURL(str: string) {\n    var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n    return !!pattern.test(str);\n}\n\nexport function ensureArray(arr: any) {\n  if (Array.isArray(arr)) return arr;\n\n  return [];\n}\n\nexport function makeInitials(first_name: string | undefined, last_name: string | undefined, fallback: string) {\n  if (first_name && last_name)\n    return (`${first_name[0]}${last_name[0]}`).toUpperCase();\n\n  return fallback[0].toUpperCase();\n}\n\nexport function makeFullName(first_name: string | undefined, last_name: string | undefined, fallback: string) {\n  if (first_name && last_name)\n    return (`${capitalizeFirstLetter(first_name)} ${capitalizeFirstLetter(last_name)}`);\n\n  return fallback;\n}\n\nexport const capitalizeFirstLetter = (value: string) => `${value[0].toUpperCase()}${value.substring(1, value.length).toLowerCase()}`","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","\nexport const backgroundThemes = [\n    {\n        id: \"1103088\",\n        label: \"One color\",\n        url: \"https://source.unsplash.com/collection/1103088/\"\n    },\n    {\n        id: '1971015',\n        label: \"Simplicity\",\n        url: \"https://source.unsplash.com/collection/1971015/\"\n    },\n    {\n        id: '1426076',\n        label: \"Pastel & Sparkle\",\n        url: \"https://source.unsplash.com/collection/1426076/\"\n    },\n    {\n        id: \"1111575\",\n        label: \"Space\",\n        url: \"https://source.unsplash.com/collection/1111575/\"\n    },\n    {\n        id: \"1922729\",\n        label: \"From above\",\n        url: \"https://source.unsplash.com/collection/1922729/\"\n    },\n];","import * as firebase from \"firebase/app\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { IMessage } from \"types\";\n//import { useAudio } from \"utils/hooks/sound\";\n\nconst makeRefPath = (room_id: string) => {\n    return `rooms/${room_id}/messages`;\n}\n\nexport const useMessages = (room_id: string) => {\n    //const [, toggle] = useAudio(\"https://cdn-02.anonfiles.com/B4z8W9Bbo8/14878adc-1592945278/notification_sound.mp3\");\n    const [messages, setMessages] = useState<any>(null);\n\n    useEffect(() => {\n        const messagesRef = firebase.database().ref(makeRefPath(room_id));\n\n        messagesRef.on('value', (snapshot) => {\n            const msgs = snapshot.val() ?? [];\n\n            setMessages((m: any) => {\n                //if(m !== null && typeof toggle === \"function\") toggle();\n                return msgs;\n            });\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n\n    return messages as {[key: string]: IMessage};\n}\n\ntype SubmitFunction = ((value: string) => void);\n\nexport const useMessageSubmit = (room_id: string, account_id: string) => {\n\n    return useCallback((value: string) => {\n        const message = {\n            author: account_id,\n            value,\n            timestamp: new Date().toString()\n        }\n\n        //firebase.database().ref(makeRefPath(room_id)).set(message);\n        var newMsgKey = firebase.database().ref().child('rooms').child(room_id).child(\"messages\").push().key;\n\n        var updates: any = {};\n        updates[`/rooms/${room_id}/messages/${newMsgKey}`] = message;\n\n        return firebase.database().ref().update(updates);\n\n    }, [account_id, room_id]) as SubmitFunction;\n}","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    },\n    introViewRoot:{\n        maxWidth: theme.breakpoints.values.md,\n        margin: \"0 auto\",\n    },\n    introViewContentWrapper:{\n      maxWidth: \"60%\",\n      marginTop: \"5%\",\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Intro\",\n        pl_PL: \"Intro\",\n        de_DE: \"Intro\"\n    },\n    firstTitle: {\n        en_US: \"Welcome to safe chat!\",\n        pl_PL: \"Pierwszy Part\",\n        de_DE: \"Erstes Part\"\n    },\n\n    secondTitle: {\n        en_US: \"Available everywhere\",\n        pl_PL: \"Drugi Part\",\n        de_DE: \"Zweiten Part\"\n    },\n\n    thirdTitle: {\n        en_US: \"Reliable and Stable\",\n        pl_PL: \"Trzeci Part\",\n        de_DE: \"Dreien Part\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { Button, Typography, Icon, useTheme } from \"@material-ui/core\";\nimport Flex from \"components/utils/Flex\";\nimport useStyles from \"./styles\";\n\ntype IntroViewProps = {\n    partId: number;\n    activePart: number;\n    \n    title: string;\n    description: string;\n    image: any;\n    \n    onNext: () => void;\n    onPrev: () => void;\n}\n\nconst IntroView = (props: IntroViewProps) => {\n    const classes = useStyles();\n\n    // Prevent rendering if not active.\n    if(props.activePart !== props.partId) return null;\n\n    // TODO: Add translations.\n    const prevButtonText = props.partId === 0 ? \"Skip\" : \"Back\";\n    const nextButtonText = props.partId === 2 ? \"Continue\" : \"Next\";\n\n    return <div className={classes.introViewRoot} style={{height: \"100vh\"}}>\n        <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-between\">\n            <Flex flexDirection=\"column\" height=\"90vh\" alignItems=\"center\" justifyContent=\"center\">\n                {/* Image */}\n                <Flex alignItems=\"center\" justifyContent=\"center\">\n                    <img src={props.image} alt={props.title} style={{maxWidth: \"300px\", height: \"auto\"}} />\n                </Flex>\n\n                {/* Content */}\n                <Flex className={classes.introViewContentWrapper} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n                    <Typography variant=\"h2\">{props.title}</Typography>\n                    <Typography align=\"center\" paragraph >{props.description}</Typography>\n                </Flex>\n            </Flex>\n\n            {/* Actions */}\n            <Flex justifyContent=\"space-evenly\" height=\"10vh\" alignItems=\"center\" width=\"60%\">\n                <Button onClick={props.onPrev}>{prevButtonText}</Button>\n                <ProgressIcons activePart={props.activePart} />\n                <Button variant=\"contained\" color=\"primary\" onClick={props.onNext}>{nextButtonText}</Button>\n            </Flex>\n        </Flex>\n        \n        \n        \n        </div>\n}\n\nconst ProgressIcons = ({activePart} : {activePart: number}) => {\n    \n    return  <Flex justifyContent=\"center\" alignItems=\"center\">\n                <ProgressIcon active={activePart >= 0} />\n                <ProgressIcon active={activePart >= 1} />\n                <ProgressIcon active={activePart >= 2} />\n            </Flex>\n}\n\nconst ProgressIcon = ({active}: {active: boolean}) => {\n    const theme = useTheme();\n\n    return <Icon style={{ opacity: active ? 1 : 0.15, fontSize: \"14px\", color: active ? theme.palette.primary.main : \"#000\" }}>lens</Icon>;\n}\n\nexport default IntroView;\n","export default __webpack_public_path__ + \"static/media/intro00.6588dfdc.svg\";","export default __webpack_public_path__ + \"static/media/intro01.1025310d.svg\";","export default __webpack_public_path__ + \"static/media/intro02.819f31a9.svg\";","import React, { useState, useCallback } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport IntroView from \"./IntroView\";\n\nimport intro00 from \"assets/intro00.svg\";\nimport intro01 from \"assets/intro01.svg\";\nimport intro02 from \"assets/intro02.svg\";\n\nimport { useHistory } from \"react-router-dom\";\n\n/**\n * Home page component.\n */\nconst Intro = () => {\n    // history.push(\"/path\");\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    // Controls the active part.\n    const [activePart, setActivePart] = useState<number>(0);\n    \n\n    const handleNext = useCallback(() => {\n        // To get the correct result, I'm looking up activePart (ap) passed to setActivePart method instead of using the in scope state variable.\n        setActivePart(ap => { \n\n            // Handle end of intro by navigating to login screen.\n            if(ap === 2) {\n                history.push(\"/login\");\n                // ? Changing value here after navigating might result in a memory leak as the Intro component is then unmounted. Move outside setActivePart and use \"activePart\" variable instead of \"ap\" to prevent state change.\n                return ap;\n            }\n\n            // Increment activePart.\n            return ap+1;\n        });\n    }, [setActivePart, history]);\n\n    const handlePrev = useCallback(() => {\n        setActivePart(ap => {\n\n            if(ap === 0) {\n                history.push(\"/login\");\n                return ap;\n            }\n\n            return ap-1;\n        });\n    }, [setActivePart, history]);\n\n    return <div className={classes.root}>\n        <IntroView activePart={activePart} partId={0} onNext={handleNext} onPrev={handlePrev} image={intro00} title={translated.firstTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={1} onNext={handleNext} onPrev={handlePrev} image={intro01} title={translated.secondTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={2} onNext={handleNext} onPrev={handlePrev} image={intro02} title={translated.thirdTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n    </div>\n}\n\nexport default Intro;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    signImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign up\",\n        pl_PL: \"Bd w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/celebration.9e01a526.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon, Backdrop, CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport signImage from \"assets/celebration.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signUpWithCredentials } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useStorageSetter } from \"storage/hooks\";\nimport { useRestrictedPageForCurrentAccount } from \"utils/hooks/general\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Signup = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const storageSetter = useStorageSetter();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false)\n    useRestrictedPageForCurrentAccount();\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n        setIsLoading(true)\n\n        if (!isLoading) {\n            const email = emailInput;\n            const password = passwordInput;\n            const confirmPassword = confirmPasswordInput;\n\n            if (confirmPassword !== password) {\n                setErrorMsg(\"Passwords are not identical.\");\n                setIsLoading(false);\n                return;\n            }\n\n            if (password.length < 13) {\n                setErrorMsg(\"Password is too short.\");\n                setIsLoading(false);\n                return;\n            }\n\n            signUpWithCredentials(email, password).then(async (result: any) => {\n                console.log(\"Result =>\", result);\n\n                /*const acc = await dispatchCommand(AccountCreate, { email: emailInput, password: passwordInput });\n                console.log(\"Account Data =>\", acc);\n                if(acc.status === 200) {\n                    storageSetter(\"currentAccountId\", acc.data.account_id);\n                    \n                    console.log(\"All success! Fuck yea!\");\n                    history.push(\"/welcome\");\n                } else if(acc.status === 404) {\n                    // TODO: Account not found!\n                    setErrorMsg(\"Account not found!\");\n                }*/\n                result?.user?.uid && storageSetter(\"accountIdToken\", result.user.uid)\n\n                history.push(\"/welcome\");\n\n            }).catch(err => {\n                setErrorMsg(err.message);\n                setIsLoading(false);\n            });\n        }\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n        if (!isLoading) {\n            if (inputName === \"email\") setEmailInput(newValue);\n            if (inputName === \"password\") setPasswordInput(newValue);\n            if (inputName === \"password-confirm\") setConfirmPasswordInput(newValue);\n        }\n\n    }\n\n    const handleBack = () => {\n        history.push(\"/login\");\n    }\n\n    return <div style={{ width: \"100%\" }}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.signImage} src={signImage} alt=\"signImage\" />\n            <img className={classes.wave} src={waveAsset} alt=\"\" />\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"confirm-password-input\" value={confirmPasswordInput} onChange={handleInputChange(\"password-confirm\")} type=\"password\" label=\"Confirm password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{ margin: \"10px 0\" }} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n                    <Flex justifyContent=\"space-between\">\n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Login</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{ color: \"white\" }}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                </form>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\"></Typography>\n        </Flex>\n        {!isLoading ? null :\n            <Backdrop open={true} style={{ zIndex: 5 }}>\n                <CircularProgress color=\"primary\" />\n            </Backdrop>}\n\n    </div>\n}\n\nexport default Signup;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/personal.ebfa5829.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport Account from \"api/models/Account.model\";\n\ntype EditableField = \"label\" | \"first_name\" | \"middle_name\" | \"last_name\" | \"birthday\" | \"sex\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [firstNameField, setFirstNameField] = useState(currentAccount?.details?.first_name ?? \"\");\n    const [middleNameField, setMiddleNameField] = useState(currentAccount?.details?.middle_name ?? \"\");\n    const [lastNameField, setLastNameField] = useState(currentAccount?.details?.last_name ?? \"\");\n    const [dateOfBirth, setDateOfBirth] = useState(currentAccount?.details?.birthdate ?? new Date());\n    const [sex, setSex] = useState(currentAccount?.details?.sex ?? \"O\");\n\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch (field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"first_name\":\n                setFirstNameField(value)\n                break;\n            case \"middle_name\":\n                setMiddleNameField(value)\n                break;\n            case \"last_name\":\n                setLastNameField(value)\n                break;\n            case \"birthday\":\n                setDateOfBirth(value)\n                break;\n            case \"sex\":\n                setSex(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if (labelField && firstNameField && middleNameField && lastNameField && dateOfBirth && sex) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", JSON.parse(JSON.stringify({ label: labelField, details: {  first_name: firstNameField, middle_name: middleNameField, last_name: lastNameField, birthdate: dateOfBirth.toString(), sex: sex } })));\n\n            if (changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if (account.status === 200) {\n                    dispatchStore(setCurrentAccount(new Account({ id: currentAccount?.id, ...account.data })));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage} alt=\"PersonalInformation\" />\n            <img className={classes.wave} src={waveAsset} alt=\"wave\" />\n        </div>\n        <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n\n            <Typography style={{ opacity: \"0.7\", marginBottom: \"35px\" }} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n\n            <Typography style={{ paddingBottom: \"16px\" }} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>\n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"first_name\" label=\"First Name\" variant=\"outlined\" value={firstNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"middle_name\" label=\"Middle Name\" helperText=\"Optional\" variant=\"outlined\" value={middleNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"last_name\" label=\"Last Name\" variant=\"outlined\" value={lastNameField} onChange={handleChange} />\n                <TextField id=\"birthday\" label=\"Birthday\" type=\"date\" defaultValue=\"1990-01-01\" InputLabelProps={{ shrink: true, }} value={dateOfBirth} onChange={handleChange}/>\n            </Flex>\n\n            <Button style={{ color: \"white\", float: \"right\", marginBottom: \"15px\" }} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n\n        </div>\n\n    </div>\n}\n\nexport default Welcome;","export default __webpack_public_path__ + \"static/media/circles-logo.420d4698.svg\";","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    backgroundColor: theme.palette.background.paper\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin, AccountChange } from 'api/commands';\nimport { setBackgroundTheme, setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\nimport firebase from \"firebase/app\"\nimport { useSnackbar } from \"notistack\";\nimport { backgroundThemes } from 'utils/backgroundThemes';\nimport Account from 'api/models/Account.model';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(new Account({ id: account_id, ...accountInfo.data })));\n\n                    // Initialize bgTheme.\n                    const bgThemeId = localStorage.getItem('background-theme') || '1922729';\n                    const bgTheme = (backgroundThemes.find(bgT => bgT.id.toString() === bgThemeId.toString()) ?? backgroundThemes[0]) as { id: string, url: string, label: string };\n\n                    dispatch(setBackgroundTheme(bgTheme));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        // Navigate to welcome page.\n                        history.push(\"/welcome\")\n                    } else {\n                        // TODO: Find a better place for this!\n                        const messaging = firebase?.messaging();\n                        if(messaging && accountInfo.data) {\n                          messaging?.requestPermission()\n                            .then(async function() {\n                              const token = await messaging.getToken();\n                    \n                              if((!accountInfo.data?.tokens || !accountInfo.data?.tokens?.includes(token))) {\n                                \n                                  let newTokens = accountInfo.data?.tokens ?? [];\n                                  newTokens.push(token);\n                    \n                                  await dispatchCommand(AccountChange, accountInfo.data?.id, { tokens: newTokens })\n                              }\n                    \n                              console.log(token);\n                            })\n                            .catch(function(err) {\n                              console.log(\"Unable to get permission to notify.\", err);\n                            });\n                          navigator.serviceWorker.addEventListener(\"message\", (message) => {\n                            enqueueSnackbar(message?.data?.[\"firebase-messaging-msg-data\"]?.notification?.body);\n                            console.log(message);\n                          });\n                        }\n\n                        // Navigate to initial path or fallback to home.\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\" className={classes.root}>\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    minWidth: \"calc(100% - 385px)\",\n    maxWidth: \"max-content\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"calc(100vh - 72px)\",\n    justifyContent: \"space-between\",\n    backdropFilter: \"blur(10px)\",\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius,\n    \n    [theme.breakpoints.down(\"sm\")]: {\n      flexBasis: \"100%\",\n      minWidth: \"100%\",\n      width: \"100%\",\n    },\n  },\n  inputContainer: {\n    position: \"relative\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  inputBackground: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 200,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    width: \"95%\",\n  },\n  roomTitle: {\n  },\n  roomTitleBox: {\n    marginLeft: \"12px\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  messagesRoot: {\n    minWidth: \"70vw\",\n    width: \"100%\",\n    position: \"relative\",\n    maxHeight: \"calc(100vh - 36px)\",\n    height: \"90%\",\n    flexGrow: 1,\n    overflow: \"auto\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"70vw\" // TODO: Change to more static value.\n\n    }\n  },\n  messageRoot: {\n    borderRadius: \"15px\",\n  },\n  ownedMessage: {\n    margin: \"3px \",\n    alignSelf: \"flex-end\",\n    color: \"#000\",\n    backgroundColor: \"#eee\",\n    borderRadius: \"25px\",\n    '& > *': {\n      margin: 0,\n      maxWidth: \"240px\",\n      whiteSpace: \"normal\",\n      wordBreak: \"break-word\",\n    },\n    '& > * > *':{\n      maxWidth: \"240px\",\n    },\n  },\n  notOwnedMessage: {\n    alignSelf: \"flex-start\",\n    margin: \"15px 0\",\n    color: \"#FFF\",\n    background: theme.palette.primary.main,\n    '& > *': {\n      margin: 0,\n      maxWidth: \"240px\",\n      whiteSpace: \"normal\",\n      wordBreak: \"break-word\",\n    },\n    '& > * > *':{\n      maxWidth: \"240px\",\n    },\n  },\n  messageWithManyLines:{\n    margin: \"8px 0\",\n  },\n  message: {\n    maxWidth: \"450px\",\n    position: \"relative\",\n    padding: \"16px 18px\",\n    borderRadius: \"25px\",\n    textAlign: \"left\",\n  },\n  nextMessageOwned:{\n    borderBottomRightRadius: \"4px\",\n  },\n  nextMessageNotOwned:{\n    borderBottomLeftRadius: \"4px\",\n    marginBottom: \"3px\",\n  },\n  prevMessageOwned: {\n    borderTopRightRadius: \"4px\",\n  },\n  prevMessageNotOwned: {\n    borderTopLeftRadius: \"4px\",\n    marginTop: \"3px\",\n  },\n  equalToLine: {\n    paddingLeft: \"28px\",\n  },\n  sendMessageArea:{\n    position: \"fixed\",\n  },\n  avatar: { borderRadius: \"28px\", width: \"28px\", height: \"28px\", backgroundColor: \"white\", color: \"#242424\", right: \"-19px\", bottom: \"0px\", position: \"relative\", padding: \"3px\", zIndex: 5 },\n  chatBoxHeader: {\n    width: \"100%\",\n    height: \"100px\",\n    backgroundColor: theme.palette.background.paper\n  },\n}));\n\nexport default useStyles;","import React, { useCallback, useState, useEffect, useRef } from \"react\";\nimport { Typography, Avatar } from \"@material-ui/core\";\nimport { useMessages } from \"api/messages\";\nimport { IAccount, IMessage } from \"types\";\nimport { useStore } from \"store/hooks\";\nimport useStyles from \"./styles\";\nimport Flex from \"components/utils/Flex\";\nimport cx from \"classnames\";\nimport ReactMarkdown from \"react-markdown\";\nimport { makeFullName, makeInitials } from \"utils/general\";\n\nconst Messages = ({ roomId, accounts }: { roomId: string, accounts: IAccount[] }) => {\n    const messages = useMessages(roomId) || {};\n\n    const getAuthor = useCallback((author_id) => accounts.find(account => account.id === author_id) ?? null, [accounts]);\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n    const hasMessages = Object.keys(messages).length !== 0;\n\n    return <Flex flexDirection=\"column-reverse\" style={{ marginBottom: \"15px\", overflowY: \"scroll\", height: \"calc(90vh - 152px)\" }}>\n        {messages && !hasMessages ?\n            <Typography variant=\"h2\" style={{ marginLeft: \"30px\" }}>Say Hi!</Typography>\n            :\n            Object.keys(messages).reverse().map((message_id: string, index: number) => {\n\n                const message = messages[message_id];\n\n                return <Message\n                    key={message_id}\n                    message={message}\n                    author={getAuthor(message.author)}\n                    displayAvatar={message.author !== messages[Object.keys(messages).reverse()[index - 1]]?.author}\n                    isOwnedNextMessage = {message.author === messages[Object.keys(messages).reverse()[index - 1]]?.author}\n                    isOwnedPrevMessage = {message.author === messages[Object.keys(messages).reverse()[index + 1]]?.author}\n                    isOwned={currentAccount?.id === message.author} />\n            })\n        }\n    </Flex>\n}\n\nconst Message = ({ message, author, isOwned, displayAvatar, isOwnedNextMessage, isOwnedPrevMessage }: { message: IMessage, author: IAccount | null, isOwned: boolean, displayAvatar: boolean, isOwnedNextMessage: boolean, isOwnedPrevMessage: boolean }) => {\n    const classes = useStyles();\n    const [height, setHeight] = useState(0);\n    const ref = useRef(null);\n\n    let value = message.value;\n    try {\n        value = atob(message.value);\n    } catch (err) {\n        console.log(err);\n    }\n\n    const rootClasses = cx(classes.message, { [classes.ownedMessage]: isOwned, [classes.notOwnedMessage]: !isOwned, [classes.messageWithManyLines]: height>150, [classes.nextMessageNotOwned]: isOwnedNextMessage && !isOwned, [classes.prevMessageNotOwned]: isOwnedPrevMessage && !isOwned, [classes.nextMessageOwned]: isOwnedNextMessage && isOwned, [classes.prevMessageOwned]: isOwnedPrevMessage && isOwned});\n    const bubbleClasses = cx({[classes.ownedMessage]: isOwned ,[classes.messageRoot]: !isOwned ,[classes.equalToLine]: !displayAvatar && !isOwned})\n\n    useEffect(() => {\n        setHeight((ref as any).current.offsetHeight);\n    }, [])\n\n    const authorFullName = makeFullName(author?.details?.first_name, author?.details?.last_name, author?.label ?? \"Unknown\")\n    const authorInitials = makeInitials(author?.details?.first_name, author?.details?.last_name, author?.label ?? \"Unknown\")\n\n    return <Flex alignItems=\"flex-end\" className={bubbleClasses} style={{ alignSelf: isOwned ? \"flex-end\" : \"flex-start\"}}>\n        {displayAvatar && !isOwned && author && <Avatar alt={authorFullName} className={classes.avatar} src={author.avatar_url}>{authorInitials}</Avatar>}\n        <div className={rootClasses} ref={ref}>\n            <ReactMarkdown source={value} />\n        </div>\n    </Flex>\n}\n\nexport default Messages;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [`& fieldset`]: {\n            borderRadius: 200,\n        },\n    },  \n}));\n\nexport default useStyles;","import { TextField } from \"@material-ui/core\";\nimport React from \"react\";\nimport useStyles from \"./styles\";\n\n// TODO: ref type.\nconst MessageInput = (props: { inputRef?: any, value: string, onChange: (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => void, onSubmit?: () => void }) => {\n    const classes = useStyles();\n\n    const handleKeyPress = (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if(event.key === \"Enter\" && !event.shiftKey) {\n            event.preventDefault();\n            props.onSubmit && props.onSubmit();\n        }\n    }\n\n    return <TextField onKeyPress={handleKeyPress} ref={props.inputRef} fullWidth value={props.value} onChange={props.onChange} placeholder=\"Write your message...\" classes={{ root: classes.root }} variant=\"outlined\" />\n}\n\nexport default MessageInput;","export const sendPushNotification = async (registration_ids: string[], title: string, body: string) => {\n  console.log(registration_ids, title, body)\n  //   const FIREBASE_API_KEY = process.env.REACT_APP_FIREBASE_APIKEY ?? \"\";\n  //   const message = {\n  //       token: registration_ids[0], \n  //       notification: {\n  //           title,\n  //           body,\n  //           \"vibrate\": 1,\n  //           \"sound\": 1,\n  //           \"show_in_foreground\": true,\n  //           \"priority\": \"high\",\n  //           \"content_available\": true,\n  //       },\n  //       data: {\n  //           title,\n  //           body,\n  //           score: 50,\n  //           wicket: 1\n  //       }\n  // }\n  \n  //   let headers = new Headers({\n  //     \"Content-Type\": \"application/json\",\n  //     \"Authorization\": \"Bearer \" + FIREBASE_API_KEY\n  //   });\n\n  //   let response = await fetch(\"https://fcm.googleapis.com/v1/projects/ping-82fee/messages:send\", { method: \"POST\", headers, body: JSON.stringify(message) })\n  //   response = await response.json();\n  //   console.log(response);\n  }","import React, { useState, useRef } from 'react';\nimport { IconButton, Icon, Box } from '@material-ui/core';\nimport MessageInput from 'components/common/MessageInput';\nimport { sendPushNotification } from \"api/fcm\";\nimport useStyles from './styles';\n\nconst MessageForm = (props: { onSubmit: (value: string) => void }) => {\n    const [input, setInput] = useState(\"\");\n    const classes = useStyles();\n    const ref = useRef<HTMLInputElement | undefined>();\n\n    const handleTextFieldFocus = () => {\n        if(ref.current)\n            ref.current?.focus();\n    }\n\n    const handleSubmit = async (event?: React.FormEvent<HTMLFormElement>) => {\n        if(event) event.preventDefault();\n\n        if(input.length > 0) {\n            try {\n                props.onSubmit(btoa(input));\n                setInput(\"\");\n                handleTextFieldFocus();\n\n                await sendPushNotification([\"dcSXVLtXIAUTyhxv_vpAOC:APA91bE-13ugAh4qEcf8PT3n1r84pbIGZ2Hm5xv4S054SO_wRs3mGM0xCw-0nphyB7wYVthrL6lGZR8qy6qx1--wzUIuqACVNGfow29Lf1EdA-Bh6bb1-VPgiGtx-EF_Z1KPxRu6nZE4\"], \"New message\", input);\n            } catch(err) {\n                console.log(err);\n                alert(\"Message contains invalid characters.\")\n            }\n        }\n    }\n    \n    const handleChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        // @ts-ignore\n        setInput(event.target?.value ?? \"\");\n    }\n\n    return <form id=\"message-form\" className={classes.inputContainer} onSubmit={handleSubmit}>\n        <Box className={classes.inputBackground}>\n            <MessageInput inputRef={ref} value={input} onChange={handleChange} onSubmit={handleSubmit} />\n            <IconButton onClick={() => handleSubmit()}>\n                <Icon color=\"primary\">send</Icon>\n            </IconButton>\n        </Box>\n    </form>\n}\n\nexport default MessageForm;","import React from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\n\nconst MessagesSkeleton = () => {\n    return (\n        <div style={{ width: \"fit-content\", marginLeft: \"10px\" }}>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={150} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={120} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={80} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={120} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={100} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={160} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n        </div>\n    );\n};\n\nexport default MessagesSkeleton;","import React, { useMemo } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\nimport Messages from \"./Messages\";\nimport MessageForm from \"./MessageForm\";\nimport { useRoom } from \"api/hooks\";\nimport { useMessageSubmit } from \"api/messages\";\nimport MessagesSkeleton from \"./MessagesSkeleton\";\nimport useStyles from './styles';\nimport { ensureArray, makeFullName } from \"utils/general\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { useHistory } from 'react-router-dom';\n\n// TODO: Show skeleton when switching rooms.\nconst RoomView = () => {\n    const params = useParams<{id: string}>();\n    const classes = useStyles();\n    const history = useHistory();\n\n    const currentAccount = useStore(state => state.currentAccount);\n    const room = useRoom(params.id);\n    const submitMessage = useMessageSubmit(params.id, currentAccount?.id ?? \"\");\n\n    const roomMembers = ensureArray(room?.accounts).filter(acc => acc.id !== currentAccount?.id);\n    const reducedRoomMembers = roomMembers.map(acc => makeFullName(acc?.details?.first_name, acc?.details?.last_name, acc?.label))\n    const roomName = roomMembers.length > 1 ? room?.label : makeFullName(roomMembers?.[0]?.details?.first_name, roomMembers?.[0]?.details?.last_name, roomMembers?.[0]?.label ?? \"Unknown\");\n\n    const membersEl = useMemo(() => {\n        let result = reducedRoomMembers.slice(0, 3).join(\", \");\n\n        if (reducedRoomMembers.length > 3) {\n            // TODO: Include translations - requires react-littera upgrade.\n            result += ` and ${reducedRoomMembers.length - 3} more`\n        }\n\n        return result;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [reducedRoomMembers.length]);\n\n    const closeRoomView = () => {history.push(\"/home/highlights\");}\n\n    return <Box className={classes.root}>\n        {(!room || !room.id) ?\n            <MessagesSkeleton />\n            :\n            <>\n                <Box className={classes.chatBoxHeader} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Box className={classes.roomTitleBox}>\n                        <Box>\n                            <IconButton onClick={() => closeRoomView()} >\n                                <ArrowBackIcon style={{fontSize: \"1.8rem\"}}/>\n                            </IconButton>\n                            \n                        </Box>\n                        <Box>\n                            <Typography variant=\"h5\" className={classes.roomTitle}>{roomName}</Typography>\n                            {roomMembers.length > 1 && <Typography style={{ opacity: 0.65 }}>{membersEl}</Typography>}\n                        </Box>      \n                    </Box>\n                </Box>\n            \n                <Box>\n                    <Messages accounts={room?.accounts ?? []} roomId={room.id} />\n                    <MessageForm onSubmit={submitMessage} />\n                </Box>\n            </>}\n    </Box>\n}\n\nexport default RoomView;\n","import React from \"react\";\nimport RoomView from \"./RoomView\";\n\n/**\n * Room page component.\n */\nconst Room = () => {\n\n    return (\n        <RoomView />\n    )\n}\n\nexport default Room;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    marginRight: \"10%\"\n    },\n    welcome: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    avatarContainer: {\n      position: \"relative\",\n    },\n  welcomeWraper: {\n      position: \"relative\",\n      display: \"flex\",\n    },\n    greetings: {\n      width: \"100%\",\n      color: \"white\",\n      margin: 0,\n      textShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\",\n      fontFamily: \"'Roboto Condensed', sans-serif\",\n      fontWeight: 400\n\n    },\n    suggestionsInfo: {\n      width: \"100%\",\n      margin: 0,\n      color: \"white\",\n      fontSize: \"26px\",\n      textShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\"\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    greeting: {\n        en_US: \"Hi\",\n        pl_PL: \"Witaj\",\n        de_DE: \"Hallo\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","// * Translations\nconst translations = (preset: any) => ({\n    firstMessage: {\n        en_US: \"Write to this member 1st time\",\n        pl_PL: \"Napisz do tej osoby poraz pierwszy\",\n        de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginTop: \"20px\",\n        overflowY: \"auto\",\n    },\n    card: {\n        borderRadius: \"8px\",\n        margin: \"10px auto\", width: \"100%\"\n    },\n    suggestionAvatar: {\n        marginRight: theme.spacing(4),\n        width: \"48px\",\n        height: \"48px\"\n    }\n}));\n\nexport default useStyles;","import React, { useEffect, useRef } from 'react';\nimport { AccountInfo } from 'api/commands';\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { useCommand } from 'api/hooks';\nimport { Card, CardContent, Typography, Box, Avatar } from '@material-ui/core';\nimport translations from \"./trans\";\nimport { useLittera } from \"react-littera\";\nimport { IAccount, TSuggestion } from \"types\";\nimport useStyles from \"./styles\";\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\nimport { makeFullName, makeInitials } from 'utils/general';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst Suggestion = ({suggestion, index}: {suggestion: TSuggestion, index: string}) => {\n    const classes = useStyles();\n\n    const [translated] = useLittera(translations);\n    const { payload, type } = suggestion;\n    const scrollRef = useRef(null);\n\n    const accountRq = useCommand(AccountInfo, payload?.account_id);\n    const [account] = useForkedState<any, IAccount>(rq => isLoaded(rq) ? rq.data : null, accountRq);\n  \n    useEffect(() => {\n        \n    }, [suggestion])\n\n    if (!account || account.flags?.includes(\"needs_init\")) return null; // TODO: Add a loader...\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label);\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label);\n\n    return (\n        <Card className={classes.card} id={index} ref={scrollRef} style={{zIndex: parseInt(index)}}>\n                <CardContent>\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"flex-start\">\n                    <Avatar className={classes.suggestionAvatar} src={account.avatar_url} alt={accountFullName} >{accountInitials}</Avatar>\n                    <Box>\n                        <Typography variant=\"h5\">\n                            {accountFullName}\n                        </Typography>\n\n                        <Typography>\n                            {type === \"never-messaged\" ? translated.firstMessage : type}\n                        </Typography>\n                    </Box>\n                </Box>\n                </CardContent>\n            </Card>\n    );\n};\n\nexport default Suggestion;","import { AccountGetSuggestions } from 'api/commands';\nimport { useCommand } from 'api/hooks';\nimport React, {useRef} from 'react';\nimport { useStore } from 'store/hooks';\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport Suggestion from './Suggestion';\nimport useStyles from \"./styles\";\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst AccountSuggestions = () => {\n    const classes = useStyles();\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n    const scrollRef = useRef(null);\n\n    const suggestionsRq = useCommand(AccountGetSuggestions, currentAccount?.id)\n    const [suggestions] = useForkedState(rq => isLoaded(rq) ? rq.data : null, suggestionsRq);\n\n    return (\n           <section className={classes.root} ref={scrollRef}>\n           {suggestions?.length !== 0 ? suggestions?.map((suggestion:any) => {\n               return (                  \n                        <Suggestion \n                        suggestion={suggestion}  \n                        index={suggestions.indexOf(suggestion)} \n                        key={suggestions.indexOf(suggestion)}   \n                        />\n               )\n           }): null}\n           </section>\n    );\n};\n\nexport default AccountSuggestions;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        margin: \"10px 0\",\n    },\n    image: {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"50px\",\n        marginRight: \"10px\",\n        boxShadow: \"0px 3px 9px rgba(0, 0, 0, .25)\"\n    }\n}));\n\nexport default useStyles;","import { Avatar } from \"@material-ui/core\";\nimport { AccountInfo } from \"api/commands\";\nimport { useCommand } from \"api/hooks\";\nimport { isLoaded } from \"api/utils\";\nimport React from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { ensureArray, makeFullName, makeInitials } from \"utils/general\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport useStyles from \"./styles\";\n\ntype AccountFavContactsProps = {\n\n}\n\nconst AccountFavContacts = (props: AccountFavContactsProps) => {\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n\n    return <div className={classes.root}>\n        {\n            ensureArray(currentAccount?.friends)\n                .filter(c => !!c.favorite)\n                .map(c => <AccountContactBadge {...c} />)\n        }\n    </div>\n}\n\ntype AccountContactBadgeProps = {\n    account_id: string;\n    favorite: boolean;\n    last_contacted?: string;\n}\n\nconst AccountContactBadge = (props: AccountContactBadgeProps) => {\n    const classes = useStyles();\n    const accountRq = useCommand(AccountInfo, props.account_id);\n    const [account] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountRq);\n\n    if (!account || account.flags?.includes(\"needs_init\")) return null; // TODO: Add loader...\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label);\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label);\n\n    return <Avatar className={classes.image} src={account.avatar_url} alt={accountFullName}>{accountInitials}</Avatar>\n}\n\nexport default AccountFavContacts","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\";\nimport translations from \"./trans\";\nimport { Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport AccountSuggestions from \"components/common/AccountSugestions\";\nimport AccountFavContacts from \"components/common/AccountFavContacts\";\n\n/**\n * Home page component.\n */\nconst Highlights = () => {\n  const [translated] = useLittera(translations);\n  const classes = useStyles();\n\n  const currentAccount = useStore(state => state.currentAccount);\n\n  return (\n    <div className={classes.root}>\n      <section className={classes.welcomeWraper}>\n        <section className={classes.welcome}>\n          <Typography className={classes.greetings} variant='h2'>{translated.greeting}, {currentAccount?.details?.first_name}!</Typography>\n          <Typography className={classes.suggestionsInfo} variant='h5'>Here are some suggestions for you</Typography>\n        </section>\n      </section>\n      <AccountFavContacts />\n      <AccountSuggestions />\n    </div>\n  );\n};\n\nexport default Highlights;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n\n    },\n}));\n\nexport default useStyles;","import React, { useEffect } from \"react\";\nimport useStyles from \"./styles\";\nimport { useCommand } from \"api/hooks\";\nimport { AccountList } from \"api/commands\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { IAccount } from \"types\";\nimport { CircularProgress, Avatar, Typography, Icon } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport Flex from \"components/utils/Flex\";\nimport { makeFullName, makeInitials } from \"utils/general\";\n\ntype AccountPickerProps = {\n    onChange: React.Dispatch<React.SetStateAction<string[]>> | React.Dispatch<React.SetStateAction<string>>;\n    value: string | string[]\n    multiple?: boolean;\n    style?: any;\n    disabled?: boolean;\n}\n\n/**\n * \n * describe this function...\n */\nconst AccountPicker = (props: AccountPickerProps) => {\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const accountsRq = useCommand(AccountList, currentAccount?.friends?.map(friend => friend.account_id));\n    const [accounts] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountsRq)\n\n    useEffect(() => {\n        // @ts-ignore\n        props.onChange((prevValue: any) => ([]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleChange = (account_id: string) => {\n        if(props.disabled) return;\n\n        // TODO: Ugly code, refactor that!!\n        // @ts-ignore\n        props.onChange((value: any) => {\n            if(props.multiple && Array.isArray(value)) {\n                let arr = [...value];\n\n                if(arr.includes(account_id)) arr.splice(value.indexOf(account_id), 1);\n                else arr.push(account_id);\n    \n                return [...arr];\n            } else {\n                return value === account_id ? \"\" : account_id;\n            }\n        });\n    }\n\n    if(!accounts) return <Flex width=\"100%\" height=\"60px\" alignItems=\"center\" justifyContent=\"center\"><CircularProgress /></Flex>\n\n    return <div className={classes.root} style={props.style}>\n        {\n            accounts.map((account: IAccount) =>\n                <SingleAccount key={account.id} account={account} onClick={(account_id) => handleChange(account_id)} selected={props.value.includes(account.id)} /> )\n        }\n    </div>\n}\n\n/**\n * \n * Describe this function...\n */\nconst SingleAccount = ({ account, onClick, selected }: { account: IAccount, onClick: (account_id: string) => void, selected: boolean }) => {\n\n    const handleClick = () => {\n        onClick(account.id);\n    }\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label)\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label)\n\n    return <Flex style={{paddingTop: \"12px\", cursor: \"pointer\"}} onClick={handleClick} justifyContent=\"flex-start\" alignItems=\"center\">\n            <Avatar \n            style={{ width: \"54px\", height: \"54px\", backgroundColor: selected ? \"green\" : undefined }}\n            alt={accountFullName}  \n                src={selected ? undefined : account.avatar_url }>\n            {selected ? <Icon>check</Icon> : accountInitials}\n                </Avatar>\n\n            <div style={{margin: \"0 0 0 20px\"}}>\n            <Typography style={{ margin: \"0\" }} variant=\"h6\">{accountFullName}</Typography>\n            <Typography style={{ margin: \"0\", opacity: \".6\" }}>{account.contact?.email}</Typography>\n            </div>\n        </Flex>\n}\n\nexport default AccountPicker;","// * Translations\nconst translations = (preset: any) => ({\n    conversation: {\n        en_US: \"New conversation\",\n        pl_PL: \"Nowa rozmowa\",\n        de_DE: \"Hallo!\",\n    },\n    createRoom: {\n        en_US: \"Create room\",\n        pl_PL: \"Stwrz pokj!\",\n        de_DE: \"Hallo!\",\n    },\n    invite: {\n        en_US: \"Invite Friends\",\n        pl_PL: \"Zapro znajomych\",\n        de_DE: \"Hallo!\",\n    },\n    select: {\n        en_US: \"Select a Friend\",\n        pl_PL: \"Wybierz znajomych\",\n        de_DE: \"Hallo!\",\n    },\n    selected: {\n        en_US: \"Selected\",\n        pl_PL: \"Wybrano\",\n        de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    topMenu: {\n        display: \"flex\",\n    },\n    listWrapper: {\n        position: \"relative\",\n        overflowY: \"scroll\",\n        width: \"100%\",\n        height: \"calc(100% - 100px)\",\n    },\n    roomWrapper: {\n        position: \"relative\",\n        margin: \"auto 10px auto 0\",\n        width: \"385px\",\n        backgroundColor: \"#fff\",\n        boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n        borderRadius: \"20px\",\n        height: \"80vh\",\n        overflow: \"hidden\",\n        minWidth: \"296px\",\n        transition: \"all 255ms ease\"\n    },\n    roomWrapperExpanded: {\n        margin: \"auto 0px auto 0\",\n        width: \"385px\",\n        boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n        borderRadius: \"20px 0px 0 20px\",\n        height: \"100%\",\n        minWidth: \"296px\",\n    },\n    roomsButton: {\n        display: \"block\",\n        width: \"100%\",\n        height: \"100px\",\n        backgroundColor: \"#fff\",\n        borderRadiusBottom: \"1px solid #eee\",\n        borderRadius: \"0px\",\n    },\n    roomItemWrapper: {\n        overflow: \"hidden\",\n        width: \"100%\",\n        padding: \"30px 24px\",\n        textAlign: \"left\",\n        backgroundColor: \"#fff\",\n        cursor: \"pointer\",\n        transition: \"backgroundColor 255ms ease\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        \"&:hover\": {\n            backgroundColor: \"#f5f5f5\",\n        }\n    },\n    avatarPlaceholder: {\n        height: \"42px\",\n        width: \"42px\",\n        borderRadius: \"42px\",\n        backgroundColor: \"#9C6\",\n        marginRight: \"20px\"\n    },\n    lastMessageTypography: { fontSize: \"14px\", opacity: 0.45, textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\" }\n  }));\n\n  export default useStyles;\n","import React from 'react'\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Typography } from '@material-ui/core';\nimport AccountPicker from 'components/common/AccountPicker';\nimport { useHistory } from 'react-router-dom';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { useDispatchCommand } from 'api/hooks';\nimport { RoomCreate } from 'api/commands';\nimport Flex from 'components/utils/Flex';\nimport { Alert } from '@material-ui/lab';\nimport { updateCurrentAccount } from 'store/actions';\nimport { useLittera } from \"react-littera\";\nimport translations from \"./trans\";\nimport useStyles from \"./styles\";\n\nconst CreateRoom = () => {\n    const [error, setError] = React.useState(\"\");\n    const [loading, setLoading] = React.useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [selected, setSelected] = React.useState<string[]>([]);\n    const [label, setLabel] = React.useState(\"\");\n    const classes = useStyles();\n  \n    const history = useHistory();\n    const currentAccount = useStore(state => state.currentAccount);\n    const dispatchCommand = useDispatchCommand();\n    const dispatchStore = useDispatch();\n    const [translated] = useLittera(translations);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleSubmit = async () => {\n      setLoading(true);\n      const newRoom = await dispatchCommand(RoomCreate, currentAccount?.id ?? \"\", label, selected);\n\n      if (newRoom.status === 200) {\n        // Refetch current account to display updated rooms list.\n        dispatchStore(await updateCurrentAccount(currentAccount?.id ?? \"\"));\n\n        const room_id = newRoom!.data!.room_id;\n        history.push(`/home/room/${room_id}`)\n      } else if(newRoom.status === 404) {\n        // @ts-ignore\n        setError(newRoom?.message ?? \"Unexpected error occurred\")\n      }\n\n      setLoading(false);\n    }\n\n    const handleLabelChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      // @ts-ignore\n      const value = event?.target?.value ?? \"\";\n\n      setLabel(value);\n    }\n\n    const isSubmitDisabled = label.length === 0 || selected.length === 0 || loading;\n\n    return <div>\n        <Button variant=\"contained\" onClick={handleClickOpen} className={classes.roomsButton}>{translated.conversation}</Button>\n        \n        <Dialog fullWidth onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n          <DialogTitle id=\"customized-dialog-title\">\n            {translated.createRoom}\n          </DialogTitle>\n          \n          <DialogContent dividers>\n            {error && <Alert severity=\"error\">{error}</Alert>}\n\n            <TextField disabled={loading} fullWidth id=\"outlined-basic\" label=\"Room name\" value={label} onChange={handleLabelChange} variant=\"outlined\" />\n\n            <Typography style={{marginTop: \"35px\"}} variant=\"h5\" >{translated.invite}</Typography>\n            \n            <AccountPicker disabled={loading} style={{margin: \"20px 0\"}} multiple value={selected} onChange={setSelected} />\n          </DialogContent>\n          \n          <DialogActions>\n            <Flex width=\"100%\" justifyContent=\"space-between\" alignItems=\"center\">\n              \n              {selected.length > 0 ? <Typography>Selected {selected.length} {selected.length > 1 ? \"friends\" : \"friend\"}</Typography>\n              : <Typography>Select a friend</Typography>}\n\n              <div>\n                <Button autoFocus onClick={handleClose} color=\"primary\">\n                  Close\n                </Button>\n                <Button disabled={isSubmitDisabled} autoFocus onClick={handleSubmit} color=\"primary\">\n                  Create\n                </Button>\n              </div>\n            </Flex>\n          </DialogActions>\n        </Dialog>\n    </div>\n\n\n}\n\n\n\nexport default CreateRoom;\n","import React from 'react';\nimport { Avatar, Typography, Box } from \"@material-ui/core\";\nimport { AvatarGroup } from \"@material-ui/lab\";\nimport { useHistory } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { IAccount, IRoom } from \"types\";\nimport CreateRoom from \"./CreateRoom\";\nimport useStyles from \"./styles\";\nimport { useAccount, useRoom } from 'api/hooks';\nimport { ensureArray, makeFullName, makeInitials } from 'utils/general';\nimport { useMessages } from 'api/messages';\nimport cx from \"classnames\";\n\nconst Rooms = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const isRoomOpen = history.location.pathname.includes(\"/room/\");\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return (\n        <Box className={cx(classes.roomWrapper, { [classes.roomWrapperExpanded]: isRoomOpen })}>\n            <CreateRoom />\n            <Box className={classes.listWrapper}>\n                {\n                    currentAccount?.rooms && currentAccount.rooms.map(room => <RoomLabel key={room.id} {...room} />)\n                }\n            </Box>\n        </Box>\n    )\n}\n\nconst RoomLabel = (props: IRoom) => {\n    const history = useHistory();\n    const classes = useStyles();\n\n    const roomUri = `/home/room/${props.id}`;\n    const handleNavigation = () => history.push(roomUri);\n\n    const account = useAccount();\n    const room = useRoom(props.id, true);\n    const messages = useMessages(props.id);\n\n    if (!room || !room.accounts) return null;\n\n    const lastMessage = Object.values(messages)[Object.keys(messages).length - 1];\n\n    let lastMessageValue: string | null = lastMessage?.value ?? null;\n    try {\n        if (lastMessageValue)\n            lastMessageValue = atob(lastMessage.value);\n    } catch (err) {\n        lastMessageValue = null;\n        console.log(err);\n    }\n\n    const roomMembers = ensureArray(room?.accounts).filter(acc => acc.id !== account?.id);\n    const roomName = roomMembers.length > 1 ? props.label : makeFullName(roomMembers?.[0]?.details?.first_name, roomMembers?.[0]?.details?.last_name, roomMembers?.[0]?.label ?? \"Unknown\");\n\n    return <Box onClick={handleNavigation} className={classes.roomItemWrapper}>\n        <Box style={{ marginRight: \"10px\", maxWidth: \"220px\" }}>\n            <Typography variant=\"h6\" style={{ fontSize: \"20px\" }}>{roomName}</Typography>\n            {lastMessageValue && <Typography className={classes.lastMessageTypography}>{lastMessageValue}</Typography>}\n        </Box>\n        <AvatarGroup style={{}} max={3} spacing={16}>\n            {room.accounts?.filter(acc => acc.id !== account?.id).map(accountsMap)}\n        </AvatarGroup>\n    </Box>\n}\n\nconst accountsMap = (account: IAccount) => {\n    const accountFullName = makeFullName(account?.details?.first_name, account?.details?.last_name, account?.label ?? \"Unknown\");\n    const accountInitials = makeInitials(account?.details?.first_name, account?.details?.last_name, account?.label ?? \"Unknown\");\n\n    return <Avatar alt={accountFullName} src={account.avatar_url}>\n        {accountInitials}\n    </Avatar>\n}\n\nexport default Rooms;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        padding: \"5vh 0\",\n        width: \"100%\",\n        textAlign: \"center\",\n    },\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    personData: {\n        display: \"flex\",\n        width: \"50%\",\n        margin: \"15px auto\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    contacts: {\n        width: \"100%\",\n        \n    },\n    avatar: {\n        margin: \"0 20px\",\n    },\n    text: {\n        width: \"100%\",\n        textAlign: \"center\",\n    },\n  }));\n\n  export default useStyles;\n","import { Avatar, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { TContact } from \"types\";\nimport { useCommand } from 'api/hooks';\nimport { useForkedState } from 'utils/hooks/general';\nimport { isLoaded } from 'api/utils';\nimport { AccountList } from 'api/commands';\nimport { useStore } from 'store/hooks';\nimport useStyles from \"./styles\";\n\nconst ContactLabel = (props: TContact) => {\n    const [name, setName] = useState('')\n    const [avatar, setAvatar] = useState('')\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const accountsRq = useCommand(AccountList, currentAccount?.friends?.map(friend => friend.account_id));\n    const [accounts] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountsRq)\n\n    useEffect(() => {\n        accounts?.forEach((account : any) => {\n            if(account.id === props.account_id) {\n                return (\n                    setName(`${account.name} ${account.surname}`),\n                    setAvatar(account.avatar_url)\n                )\n            }\n        })\n    })\n\n    console.log(currentAccount, accounts,  props.account_id);\n\n    return (\n        <section className={classes.personData}>\n            <Avatar className={classes.avatar} alt=\"user\" src={avatar}/>\n            <Typography color={props.favorite ? \"primary\" : \"initial\"}>\n                {name}\n            </Typography>\n        </section>    \n    );\n};\n\nexport default ContactLabel;","// * Translations\nconst translations = (preset: any) => ({\n    peopleMessage: {\n        en_US: \"You don't have any frients on the list.\",\n        pl_PL: \"Nie masz nikogo na licie znajomych.\",\n        // de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","import React from 'react';\nimport { Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport ContactLabel from './ContactLabel';\nimport useStyles from \"./styles\";\nimport { useLittera } from \"react-littera\";\nimport translations from \"./trans\";\n\n\nconst People = () => {\n    const classes = useStyles();\n    const [translated] = useLittera(translations);\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return <div className={classes.root}>\n        <Typography variant=\"h2\" gutterBottom className={classes.title}>People</Typography>\n        <section className={classes.contacts}>\n            {\n                currentAccount ? \n                currentAccount?.friends && currentAccount.friends.map(friend => <ContactLabel key={friend.account_id} {...friend} />) \n                : <Typography variant=\"h3\" className={classes.text}>{translated.peopleMessage}</Typography>\n            }\n        </section>\n    </div>\n}\n\nexport default People;","import { makeStyles } from \"@material-ui/core\";\n\nconst sidebarWidth = 114;\nconst sidebarMargin = 20;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"100vh\",\n        width: \"100vw\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"auto\"\n        }\n    },\n    container: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flexGrow: 2,\n        width: `calc(100% - ${sidebarWidth + sidebarMargin}px)`,\n        height: \"100%\"\n    },\n    sidebar: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: sidebarWidth,\n        marginRight: sidebarMargin,\n        height: \"100vh\",\n        padding: \"15px 0\",\n        background: \"linear-gradient(to right, rgba(0, 0, 0, 0.35), transparent)\"\n    },\n    backgroundImage: {\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        height: \"100vh\",\n        width: \"auto\",\n        minWidth: \"100%\",\n        zIndex: -2\n    },\n    backgroundImageBacklit: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        zIndex: -1,\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"rgba(0, 0, 0, .2)\"\n    },\n    mainSection: {\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100vh - 72px)\", // depends on appbar height.\n        [theme.breakpoints.down(\"sm\")]: {\n            flexDirection: \"column-reverse\",\n            justifyContent: \"flex-start\",\n            alignItems: \"center\"\n        }\n    }\n}));\n\nexport default useStyles;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n      menuIcon: {\n    fontSize: \"40px\",\n    cursor: \"pointer\",\n    color: \"white\",\n    \"& svg\": {\n      boxShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\"\n    }\n\n      }\n  }));\n\n  export default useStyles;\n","import React, { useState } from 'react';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\nimport useStyles from \"./styles\";\n\nconst Menu = () => {\n    const classes = useStyles();\n    const [isOpenMenu, setIsOpenMenu] = useState(false);\n\n    const toggleMenu = () => {\n        setIsOpenMenu(!isOpenMenu);\n    };\n\n    return (\n        <>\n        <section onClick={toggleMenu}>\n            {isOpenMenu ? <MenuOpenIcon className={classes.menuIcon}/> : <MenuIcon className={classes.menuIcon}/>}  \n        </section>\n        </>  \n    );\n};\n\nexport default Menu;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\n  },\n\n  profileContainer: {\n    width: \"40vw\",\n    minWidth: '250px',\n    height: '55vh',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n  head: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: \"center\",\n  },\n\n  imgContainer: {\n    position: 'absolute',\n    top: 0,\n    right: '50%',\n    transform: 'translate(50%, -50%)',\n  },\n\n  img: {\n    borderRadius: '50%',\n    width: '150px',\n    height: '150px',\n    boxShadow: 'rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px',\n  },\n\n  topData: {\n    textAlign: 'center',\n  },\n\n  name: {\n    marginTop: theme.spacing(2),\n    fontWeight: 500,\n  },\n\n  nickName: {\n    fontSize: '15px',\n    opacity: 0.7,\n  },\n\n  detailsContainer: {\n    flex: '1',\n    padding: '30px 20px 30px 20px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n\n  label: {\n    marginBottom: '3px',\n    opacity: 0.7,\n    fontSize: '13px',\n    textTransform: 'uppercase',\n  },\n\n  detail: {\n    marginBottom: '19px',\n    paddingBottom: '3px',\n    borderBottom: '1px solid #e3e3e3',\n    fontWeight: 500,\n  },\n\n  verify: {\n    fontSize: '14px',\n    color: '#fc2626',\n\n  },\n}));\n\nexport default useStyles;","// * Translations\nconst translations = (preset: any) => ({\n\n    fullName: {\n        en_US: \"Full name\",\n        pl_PL: \"Imi i nazwisko\",\n        de_DE: \"Name und Nachname\",\n    },\n\n    birthDate: {\n        en_US: \"Date of birth\",\n        pl_PL: \"Data urodzenia\",\n        de_DE: \"Geburtsdatum\", \n    },\n\n    sex: {\n        en_US: \"Sex\",\n        pl_PL: \"Pe\",\n        de_DE: \"Geschlecht\",\n    },\n\n    email: {\n        en_US: \"E-Mail Address\",\n        pl_PL: \"Adres E-Mail\",\n        de_DE: \"E-Mail-Adresse\",\n    },\n\n    edit: {\n        en_US: \"Edit\",\n        pl_PL: \"Edytuj\",\n        de_DE: \"Bearbeiten\",\n    },\n\n    M: {\n        en_US: \"Male\",\n        pl_PL: \"Mczyzna\",\n        de_DE: \"Mann\",\n    },\n\n    F: {\n        en_US: \"Female\",\n        pl_PL: \"Kobieta\",\n        de_DE: \"Frau\",\n    },\n\n    O: {\n        en_US: \"Other\",\n        pl_PL: \"Inna\",\n        de_DE: \"Anderes\",\n    },\n\n    warning: {\n        en_US: \"Address not verified\",\n        pl_PL: \"Adres niezweryfikowany\",\n        de_DE: \"Adresse nicht verifiziert\",\n    },\n\n    notGiven: {\n        en_US: \"Not provided\",\n        pl_PL: \"Nie podano\",\n        de_DE: \"Nicht vorhanden\"\n    },\n\n    signOut: {\n        en_US: \"Sign Out\",\n        pl_PL: \"Wyloguj si\",\n        de_DE: \"Ausloggen\",\n    },\n\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography, Button, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, Box } from \"@material-ui/core\";\nimport { useAccount } from \"api/hooks\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport cx from \"classnames\";\n\n\n/**\n * Profile page component.\n */\n\nconst Profile = (props: ProfileDrawerProps) => {\n  const [translated] = useLittera(translations);\n  const classes = useStyles();\n\n  const currentAccount = useAccount(undefined, true);\n\n  if (!currentAccount || !currentAccount.isValid) return null;\n\n  const translatedSex = translated[currentAccount?.details?.sex || 'notGiven'];\n\n  return (\n    <Box className={cx(classes.root, props.className)} style={props.style}>\n\n      <Dialog open={props.open} onClose={props.onClose} maxWidth='xl' scroll='paper' PaperProps={{ style: { overflowY: 'visible' } }}>\n        <DialogTitle id=\"scroll-dialog-title\">\n          <Box className={classes.imgContainer}>\n            <img alt=\"profile avatar\" src={currentAccount.avatar_url} className={classes.img} />\n          </Box>\n          <Box className={classes.head}>\n            <Button variant='text' >\n              {translated.edit}\n            </Button>\n            <DialogActions><IconButton onClick={props.onClose}><CloseIcon /></IconButton></DialogActions>\n          </Box>\n          <Box className={classes.topData}>\n            <Typography className={classes.name} variant=\"h4\">{currentAccount.name()}</Typography>\n            <Typography className={classes.nickName}>{currentAccount.label}</Typography>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <Box className={classes.profileContainer}>\n            <Box className={classes.detailsContainer}>\n              <DetailComponent\n                label={translated.fullName}\n                value={currentAccount.name(\"first_name\", \"middle_name\", \"last_name\")} />\n              <DetailComponent\n                label={translated.birthDate}\n                value={currentAccount?.details?.birthdate} />\n              <DetailComponent\n                label={translated.email}\n                value={currentAccount?.contact?.email}\n                warning={currentAccount?.flags?.includes('verify_email')} />\n              <DetailComponent\n                label={translated.sex}\n                value={translatedSex} />\n            </Box>\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </Box >\n  )\n}\n\n// Props the component accepts.\n\ntype ProfileDrawerProps = {\n  className?: string;\n  style?: React.CSSProperties;\n  open: boolean;\n  onOpen: () => void;\n  onClose: () => void;\n}\n\nconst DetailComponent = ({ label, value, warning }: { label: string, value?: any, warning?: boolean }) => {\n  const classes = useStyles();\n  const translated = useLittera(translations);\n  if (value === undefined) return null;\n\n  return <Box>\n    <Typography className={classes.label} variant=\"h5\">\n      {label}\n    </Typography>\n    {warning && <span className={classes.verify} > {translated.warning} </span>}\n    <Typography className={classes.detail}>\n      {value}\n    </Typography>\n  </Box>\n}\n\n\nexport default Profile;","// Here we define translations for the component.\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    example: {\n        en_US: \"Example\",\n        de_DE: \"Beispiel\",\n        pl_PL: \"Przykad\"\n    },\n    signOut: {\n        en_US: \"Sign out\",\n        de_DE: \"Ausloggen\",\n        pl_PL: \"Wyloguj si\"\n\n    },\n    manageAccount: {\n        en_US: \"Manage account\",\n        de_DE: \"Konto verwalten\",\n        pl_PL: \"Zarzdzaj kontem\"\n\n    },\n    settings: {\n        de_DE: \"Einstellungen\",\n        en_US: \"Settings\",\n        pl_PL: \"Ustawienia\"\n    }\n}","// Here we define translations for the component.\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    title: {\n        de_DE: \"Einstellungen\",\n        en_US: \"Settings\",\n        pl_PL: \"Ustawienia\"\n    }\n}","// Deps scoped imports.\nimport React from \"react\";\nimport { Drawer, IconButton, makeStyles, Typography } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport { useLittera } from \"react-littera\";\nimport cx from \"classnames\";\n\n// Project scoped imports.\nimport { useDispatch, useStore } from \"store/hooks\";\nimport { setBackgroundTheme } from \"store/actions\";\nimport Flex from \"components/utils/Flex\";\nimport { backgroundThemes } from \"utils/backgroundThemes\";\n\n// Component scoped imports.\nimport styles from \"./styles\";\nimport translations from \"./trans\";\n\n/**\n * Settings drawer component.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst SettingsDrawer = (props: SettingsDrawerProps) => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    return <div className={cx(classes.root, props.className)} style={props.style}>\n        <Drawer open={props.open} anchor=\"right\" onClose={props.onClose} className={classes.drawer} keepMounted>\n            <div className={classes.paperDrawer}>\n                <Flex alignItems=\"center\" justifyContent=\"space-between\" style={{ marginBottom: \"10px\" }}>\n                    <Typography variant=\"h4\">{translated.title}</Typography>\n                    <IconButton onClick={props.onClose}><CloseIcon /></IconButton>\n                </Flex>\n\n                <ThemeSettings />\n                <VersionSettings />\n            </div>\n        </Drawer>\n    </div>\n}\n\nconst VersionSettings = () => {\n\n    return <div style={{ margin: \"20px 0\" }}>\n        <Typography variant=\"h5\" gutterBottom>Version</Typography>\n        <Typography>{process.env.REACT_APP_VERSION ?? \"0.0.0-dev.0\"}</Typography>\n        <Typography>{process.env.REACT_APP_BUILD_TIME ?? new Date().toDateString()}</Typography>\n    </div>\n}\n\nconst ThemeSettings = () => {\n    // @ts-ignore\n    const bgTheme = useStore(state => state.preferences?.backgroundTheme);\n    const dispatch = useDispatch();\n\n    const setTheme = (index: number) => {\n        dispatch(setBackgroundTheme(backgroundThemes[index]))\n        localStorage.setItem('background-theme', backgroundThemes[index].id)\n    }\n\n    return <div style={{ margin: \"20px 0\" }}>\n        <Typography variant=\"h5\" gutterBottom>Theme</Typography>\n\n        <Flex flexWrap=\"wrap\">\n            {backgroundThemes.map((theme, index) => <ThemePanel key={theme.id} setTheme={() => setTheme(index)} active={(bgTheme?.id?.toString() || '1922729') === theme.id} {...theme} />)}\n        </Flex>\n    </div>\n}\n\nconst ThemePanel = (props: { id: string, label: string, url: string, setTheme: () => void, active: boolean }) => {\n\n    return <div style={{ margin: \"0 5px\", cursor: 'pointer' }} onClick={props.setTheme}>\n        <div style={{ width: \"200px\", height: \"125px\", overflow: \"hidden\", borderRadius: \"8px\" }}>\n            <img src={`${props.url}200x125`} alt=\"theme thumbnail\" />\n        </div>\n        <p style={{ marginTop: \"5px\", fontWeight: props.active ? \"bold\" : \"normal\" }}>{props.label}</p>\n    </div>\n}\n\n// Creates a hook for generating classnames.\n// @ts-ignore\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype SettingsDrawerProps = {\n    className?: string;\n    style?: React.CSSProperties\n    open: boolean;\n    onOpen: () => void;\n    onClose: () => void;\n}\n\n// Time to export! \nexport default SettingsDrawer;","// Here we define styles for the component.\n\nimport { Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => ({\n    root: {\n        // Container styles...\n    },\n    h2: {\n        // Head text styles...\n        color: \"#000\"\n    },\n    drawer: {\n        //width: \"40vw\"\n    },\n    paperDrawer: {\n        position: \"relative\", padding: \"10px 20px\",\n        width: \"40vw\"\n    }\n}));","// Deps scoped imports.\nimport React, { useState } from \"react\";\nimport { Avatar, Box, Icon, List, ListItem, ListItemIcon, ListItemText, makeStyles, Popover, Typography } from \"@material-ui/core\";\nimport cx from \"classnames\";\nimport { useDispatch, useStore } from \"store/hooks\";\nimport { useLittera } from \"react-littera\";\n\n// Project scoped imports.\nimport { makeFullName } from \"utils/general\";\nimport { Profile } from \"components/pages\";\nimport { setCurrentAccount } from \"store/actions\";\n\n// Component scoped imports.\nimport translations from \"./trans\"\nimport styles from \"./styles\";\nimport { signOut } from \"api/auth\";\nimport { useStorageSetter } from \"storage/hooks\";\nimport SettingsDrawer from \"components/common/SettingsDrawer\";\n\n/**\n * Menu Popover\n * @description The popover showed when clicking on own profile picture.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst MenuPopover = (props: MenuPopoverProps) => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const [shownSettingsDrawer, setShownSettingsDrawer] = useState(false);\n    const openSettingsDrawer = () => setShownSettingsDrawer(true);\n    const closeSettingsDrawer = () => setShownSettingsDrawer(false);\n\n    const [shownProfileDrawer, setShownProfileDrawer] = useState(false);\n    const openProfileDrawer = () => setShownProfileDrawer(true);\n    const closeProfileDrawer = () => setShownProfileDrawer(false);\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? 'profile-popover' : undefined;\n\n    const accountFullName = makeFullName(currentAccount?.details?.first_name, currentAccount?.details?.last_name, currentAccount?.label ?? \"Unknown\");\n\n    const storageSetter = useStorageSetter();\n    const storeDispatch = useDispatch();\n\n    const handleSignOut = async () => {\n        await signOut();\n        storageSetter(\"accountIdToken\");\n        storeDispatch(setCurrentAccount(null));\n        window.location.reload(true);\n    };\n\n    return <>\n        <Avatar aria-describedby={id} className={classes.avatar} alt=\"user\" src={currentAccount?.avatar_url} onClick={handleClick} />\n\n        <Popover\n            id={id}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={handleClose}\n            classes={{\n                root: cx(classes.root, props.className),\n                paper: classes.popoverPaper\n            }}\n            style={props.style}\n            anchorReference=\"anchorEl\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'right',\n            }}\n            transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n            }}\n        >\n            <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\n                <Box className={classes.header} display=\"flex\" flexDirection=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\n                    <Avatar className={classes.avatarBig} alt={accountFullName} src={currentAccount?.avatar_url} />\n                    <Typography variant=\"h5\">{accountFullName}</Typography>\n                    <Typography style={{ opacity: 0.6 }}>{currentAccount?.contact?.email}</Typography>\n                </Box>\n\n                <List aria-label=\"profile settings signout\" style={{ width: \"88%\" }}>\n                    <ListItem button onClick={() => { openProfileDrawer(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>person</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.manageAccount} />\n                    </ListItem>\n\n                    <ListItem button onClick={() => { openSettingsDrawer(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>settings</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.settings} />\n                    </ListItem>\n\n                    <ListItem button onClick={() => { handleSignOut(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>lock</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.signOut} />\n                    </ListItem>\n                </List>\n            </Box>\n        </Popover>\n\n        <Profile open={shownProfileDrawer} onClose={closeProfileDrawer} onOpen={openProfileDrawer} />\n        <SettingsDrawer open={shownSettingsDrawer} onClose={closeSettingsDrawer} onOpen={openSettingsDrawer} />\n    </>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype MenuPopoverProps = {\n    className?: string;\n    style?: React.CSSProperties;\n}\n\n// Time to export! \nexport default MenuPopover;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        // Container styles...\n        marginTop: \"10px\"\n    },\n    h4: {\n        // Head text styles...\n        color: theme.palette.primary.main\n    },\n    avatar: {\n        cursor: \"pointer\",\n        marginLeft: \"15px\",\n        position: \"relative\"\n    },\n    avatarBig: {\n        cursor: \"pointer\",\n        width: \"82px\",\n        height: \"82px\",\n        position: \"relative\",\n        marginBottom: theme.spacing(4)\n    },\n    popoverPaper: {\n        width: \"288px\",\n        borderRadius: \"10px\"\n    },\n    header: {\n        padding: `${theme.spacing(5)}px ${theme.spacing(4)}px`,\n    },\n\n}));","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        textAlign: \"left\",\n        margin: \"0 0\",\n        textShadow: \"1px 3px 4px rgba(0, 0, 0, .3)\",\n        fontFamily: \"'Montserrat', sans-serif\",\n        fontWeight: 600\n    },\n}));\n\nexport default useStyles;\n","import { Typography, TypographyProps } from \"@material-ui/core\";\nimport useStyles from \"./styles\";\nimport React from \"react\";\n\ntype LogoProps = {\n    typographyProps?: TypographyProps,\n    style?: Object\n    onClick?: () => void;\n}\n\nconst Logo = (props: LogoProps) => {\n    const classes = useStyles();\n\n    const style = {\n        ...props.style,\n        // Set cursor to pointer if the Logo is clickable.\n        cursor: props.onClick ? \"pointer\" : \"initial\"\n    }\n\n    return <Typography onClick={props.onClick} variant=\"h2\" className={classes.root} style={style} {...props.typographyProps}>Circles</Typography>\n}\n\nexport default Logo;","// Deps scoped imports.\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\n\n// Project scoped imports.\nimport MenuPopover from \"./MenuPopover\";\nimport Logo from \"../Logo\";\nimport Flex from \"components/utils/Flex\";\n\n// Component scoped imports.\nimport styles from \"./styles\";\n\n/**\n * Example component\n * @description This is an example component including translations and theming.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst TopMenu = (props: TopMenuProps) => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const handleNavigation = (path: string) => () =>\n        history.push(path)\n\n    return <section className={classes.root} style={props.style}>\n        <Logo style={{ fontSize: \"56px\", margin: \"16px 0\" }} onClick={handleNavigation('/home/highlights')} />\n        <Flex justifyContent=\"flex-end\" alignItems=\"center\" className={classes.menuBar}>\n            <MenuPopover />\n        </Flex>\n    </section>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype TopMenuProps = {\n    className?: string;\n    style?: React.CSSProperties\n}\n\n// Time to export! \nexport default TopMenu;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"72px\",\n        width: \"100%\",\n        margin: \"0 auto\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        color: \"white\",\n    },\n    menuBar: {\n        marginRight: \"3vw\"\n    },\n\n}));","import React, { useState, useEffect } from 'react';\nimport useStyles from \"./styles\";\nimport { Route, useHistory } from 'react-router-dom';\nimport { useStore } from 'store/hooks';\nimport { backgroundThemes } from 'utils/backgroundThemes';\nimport Menu from '../Menu';\nimport TopMenu from 'components/common/TopMenu';\n\nconst HighlightsLazy = React.lazy(() => import(\"../Highlights/\"));\nconst RoomLazy = React.lazy(() => import(\"../Room/\"));\n\nconst RoomsLazy = React.lazy(() => import(\"../Rooms/\"));\nconst PeopleLazy = React.lazy(() => import(\"../People/\"));\n\nfunction Home() {\n  const classes = useStyles();\n  const history = useHistory();\n\n\n  // @ts-ignore\n  const bgTheme = useStore(state => state?.preferences?.backgroundTheme || backgroundThemes[0])\n\n  const [isRoomsView] = useState(true);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    history.push(\"/home/highlights\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <section className={classes.root}>\n        <div className={classes.sidebar}>\n          <Menu />\n        </div>\n        <div className={classes.container}>\n          <TopMenu />\n          <main className={classes.mainSection}>\n            {/* new conversation and Layouts for home screen */}\n            {isRoomsView ? <RoomsLazy /> : <PeopleLazy />}\n            <Route path=\"/home/highlights\" component={HighlightsLazy} />\n            <Route path=\"/home/room/:id\" component={RoomLazy} /> \n          </main>\n        </div>\n      </section>\n      <div className={classes.backgroundImageBacklit} ></div>\n      <div className={classes.backgroundImage} style={{ backgroundImage: `url(${bgTheme?.url}${window.innerWidth}x${window.innerHeight})` }} ></div>\n    </>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}