{"version":3,"sources":["store/hooks.ts","store/reducer.ts","components/utils/Flex.tsx","utils/hooks/general.ts","storage/hooks.ts","storage/storage.ts","assets/wave.svg","api/auth.ts","components/pages/Signup/styles.ts","components/pages/Signup/trans.ts","assets/celebration.svg","components/pages/Signup/index.tsx"],"names":["useStore","stateFn","context","useContext","StoreContext","useMemo","useDispatch","useRef","action","console","log","type","payload","setStore","state","changes","currentAccount","preferences","backgroundTheme","reduceState","current","Flex","props","reducedProps","_props","args","key","includes","reduceProps","style","Object","freeze","display","rootEl","rootComponent","React","createElement","cloneElement","onClick","className","children","useForkedState","fn","ref","signal","useSignal","value","setState","val","useEffect","useRestrictedPage","condition","path","history","useHistory","push","useRestrictedPageForCurrentAccount","useState","updateState","useCallback","useStorage","storageFn","localStorage","useStorageSetter","undefined","resetLocalStorageValue","setLocalStorageValue","setItem","removeItem","signInWithPopup","a","Promise","resolve","reject","provider","firebase","GoogleAuthProvider","addScope","then","result","fetchAccountIdToken","catch","error","errorCode","code","errorMessage","message","signInWithCredentials","email","password","signInWithEmailAndPassword","currentUser","getIdToken","idToken","signUpWithCredentials","createUserWithEmailAndPassword","signOut","useStyles","makeStyles","theme","root","minHeight","alignItems","breakpoints","up","container","maxWidth","values","md","width","padding","spacing","inputWrapper","signImage","height","position","right","bottom","imgContainer","overflow","background","palette","primary","dark","main","wave","zIndex","left","footerWrapper","margin","translations","preset","title","en_US","pl_PL","de_DE","yes","Signup","useLittera","translated","classes","storageSetter","emailInput","setEmailInput","passwordInput","setPasswordInput","confirmPasswordInput","setConfirmPasswordInput","errorMsg","setErrorMsg","isLoading","setIsLoading","handleInputChange","inputName","event","newValue","target","src","alt","waveAsset","justifyContent","Typography","variant","paragraph","onSubmit","preventDefault","length","user","uid","err","flexDirection","TextField","marginBottom","id","onChange","label","Alert","severity","AlertTitle","Button","color","Fab","aria-label","Icon","align","Backdrop","open","CircularProgress"],"mappings":"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","file":"static/js/11.cd24decc.chunk.js","sourcesContent":["import { useContext, useRef, useMemo } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return useMemo(() => stateFn(context[0]), [context, stateFn]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"ðŸ“\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n        \n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n\n            case \"SET_BACKGROUND_THEME\":\n                // TODO: Make sure to initialize preferences before accessing reducer...\n                if (!changes.preferences) changes.preferences = {};\n                // @ts-ignore\n                changes.preferences.backgroundTheme = { ...action.payload } as { id: string, url: string, label: string }\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  onClick?: () => void\n  rootComponent?: React.Component\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n      display: \"flex\",\n      ...reducedProps,\n      ...props.style\n  });\n\n  const rootEl = props.rootComponent ?? React.createElement(\"div\");\n\n  return React.cloneElement(rootEl as React.ReactElement<any>, { onClick: props.onClick, style, className: props.className, children: props.children });\n}\n\nexport default Flex;","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\n/**\n * Redirect to page if condition met\n * @param path for redirect\n * @param condition\n */\nexport const useRestrictedPage = (condition: boolean, path: string = \"/home\" ) => {\n    const history = useHistory();\n    useEffect(() => {\n        if (condition) \n            history.push(path)\n        \n    }, [condition, path, history]);\n}\n\n/**\n * Redirect to page if current account is active\n * @param path for redirect\n */\nexport const useRestrictedPageForCurrentAccount = (path: string = \"/home\") => {\n    const currentAccount = useStore(state => state.currentAccount);\n    useRestrictedPage(!!currentAccount, path)\n}\n\n\n\nexport const useSignal = () => {\n    const [, updateState] = useState();\n    // @ts-ignore\n    return useCallback(() => updateState({}), []);\n}\n","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","export interface IStorage {\n    accountIdToken?: string;\n}\n\nexport const getLocalStorageValue = (key: keyof IStorage) => {\n    const storage = localStorage as unknown as IStorage;\n\n    return storage[key];\n}\n\nexport const getLocalStorage = () => {\n    return localStorage as unknown as IStorage;\n}\n\nexport const setLocalStorageValue = (key: keyof IStorage, value: string) => {\n    localStorage.setItem(key, value);\n}\n\nexport const resetLocalStorageValue = (key: keyof IStorage) => {\n    localStorage.removeItem(key);\n}","export default __webpack_public_path__ + \"static/media/wave.f70c3bfc.svg\";","import * as firebase from \"firebase/app\";\nimport { messaging } from \"config/firebase\";\nimport { setLocalStorageValue } from \"storage/storage\";\n\nexport const signInWithPopup = async () => {\n    return new Promise((resolve, reject) => {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n        \n       firebase.auth().signInWithPopup(provider).then(function(result) {\n            fetchAccountIdToken();\n            resolve(result);\n          }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"ðŸ”’ Authorization =>\", errorCode, errorMessage);\n            reject(error);\n            // ...\n          });\n          \n    });\n}\n\nexport const signInWithCredentials = async (email: string, password: string) => {\n    return new Promise((resolve, reject) => {\n       firebase.auth().signInWithEmailAndPassword(email, password)\n            .then((result) => {\n                fetchAccountIdToken();\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"ðŸ”’ Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const fetchAccountIdToken = () => {\n    const currentUser = firebase.auth()?.currentUser ?? null;\n\n    if(currentUser)\n        currentUser.getIdToken(/* forceRefresh */ true).then(function(idToken) {\n            console.log(idToken);\n            setLocalStorageValue(\"accountIdToken\", idToken);\n        }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"ðŸ”’ Authorization =>\", errorCode, errorMessage);\n        });\n}\n\nexport const signUpWithCredentials = async (email: string, password: string) => {\n    return new Promise((resolve, reject) => {\n       firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then((result) => {\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"ðŸ”’ Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const signOut = async () => {\n    return new Promise((resolve, reject) => {\n       firebase.auth().signOut()\n            .then((result) => {\n                resolve(result);\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(\"ðŸ”’ Authorization =>\", errorCode, errorMessage);\n                reject(error);\n                // ...\n            });\n    });\n}\n\nexport const getCurrentUserIdToken = async () => {\n    return new Promise<string>((resolve, reject) => {\n        firebase.auth()?.currentUser?.getIdToken(true).then(function(idToken) {\n            resolve(idToken);\n          }).catch(function(error) {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"ðŸ”’ User Id Token =>\", errorCode, errorMessage);\n            reject(error);\n          });\n    });\n}\n\n// TODO: Implement!\nexport const getDeviceToken = async () => {\n    return new Promise<string>((resolve, reject) => {\n        // Get Instance ID token. Initially this makes a network call, once retrieved\n        // subsequent calls to getToken will return from cache.\n        messaging.getToken().then((currentToken) => {\n            if (currentToken) {\n                resolve(currentToken)\n            } else {\n                console.log(\"ðŸ”’ Device Token =>\", \"No Instance ID token available. Request permission to generate one.\");\n                reject(new Error(\"No Instance ID token available. Request permission to generate one.\"));\n            }\n        }).catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(\"ðŸ”’ Device Token =>\", errorCode, errorMessage);\n            reject(error);\n        });\n  \n    });\n}\n\n// export function getAccessToken() {\n//     return new Promise(function(resolve, reject) {\n//       const key = require('../placeholders/service-account.json');\n//       const jwtClient = new google.auth.JWT(\n//         key.client_email,\n//         null,\n//         key.private_key,\n//         SCOPES,\n//         null\n//       );\n//       jwtClient.authorize(function(err, tokens) {\n//         if (err) {\n//           reject(err);\n//           return;\n//         }\n//         resolve(tokens.access_token);\n//       });\n//     });\n//   }","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    signImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign up\",\n        pl_PL: \"BÄ…dÅº w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/celebration.9e01a526.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon, Backdrop, CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport signImage from \"assets/celebration.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signUpWithCredentials } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useStorageSetter } from \"storage/hooks\";\nimport { useRestrictedPageForCurrentAccount } from \"utils/hooks/general\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Signup = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const storageSetter = useStorageSetter();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false)\n    useRestrictedPageForCurrentAccount();\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n        setIsLoading(true)\n\n        if (!isLoading) {\n            const email = emailInput;\n            const password = passwordInput;\n            const confirmPassword = confirmPasswordInput;\n\n            if (confirmPassword !== password) {\n                setErrorMsg(\"Passwords are not identical.\");\n                setIsLoading(false);\n                return;\n            }\n\n            if (password.length < 13) {\n                setErrorMsg(\"Password is too short.\");\n                setIsLoading(false);\n                return;\n            }\n\n            signUpWithCredentials(email, password).then(async (result: any) => {\n                console.log(\"Result =>\", result);\n\n                /*const acc = await dispatchCommand(AccountCreate, { email: emailInput, password: passwordInput });\n                console.log(\"Account Data =>\", acc);\n                if(acc.status === 200) {\n                    storageSetter(\"currentAccountId\", acc.data.account_id);\n                    \n                    console.log(\"All success! Fuck yea!\");\n                    history.push(\"/welcome\");\n                } else if(acc.status === 404) {\n                    // TODO: Account not found!\n                    setErrorMsg(\"Account not found!\");\n                }*/\n                result?.user?.uid && storageSetter(\"accountIdToken\", result.user.uid)\n\n                history.push(\"/welcome\");\n\n            }).catch(err => {\n                setErrorMsg(err.message);\n                setIsLoading(false);\n            });\n        }\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n        if (!isLoading) {\n            if (inputName === \"email\") setEmailInput(newValue);\n            if (inputName === \"password\") setPasswordInput(newValue);\n            if (inputName === \"password-confirm\") setConfirmPasswordInput(newValue);\n        }\n\n    }\n\n    const handleBack = () => {\n        history.push(\"/login\");\n    }\n\n    return <div style={{ width: \"100%\" }}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.signImage} src={signImage} alt=\"signImage\" />\n            <img className={classes.wave} src={waveAsset} alt=\"\" />\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"confirm-password-input\" value={confirmPasswordInput} onChange={handleInputChange(\"password-confirm\")} type=\"password\" label=\"Confirm password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{ margin: \"10px 0\" }} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n                    <Flex justifyContent=\"space-between\">\n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Login</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{ color: \"white\" }}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                </form>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\"></Typography>\n        </Flex>\n        {!isLoading ? null :\n            <Backdrop open={true} style={{ zIndex: 5 }}>\n                <CircularProgress color=\"primary\" />\n            </Backdrop>}\n\n    </div>\n}\n\nexport default Signup;"],"sourceRoot":""}