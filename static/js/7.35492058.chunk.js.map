{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","store/hooks.ts","store/reducer.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/utils/Flex.tsx","api/commands.ts","api/hooks.ts","utils/hooks/general.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","api/models/Account.model.ts","store/actions.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","api/client.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","api/utils.ts","config/config.ts","storage/hooks.ts","storage/storage.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","utils/backgroundThemes.ts","../node_modules/regenerator-runtime/runtime.js","assets/circles-logo.svg","components/pages/Splash/styles.ts","components/pages/Splash/index.tsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","useStore","stateFn","context","useContext","StoreContext","useMemo","useDispatch","useRef","action","console","log","type","payload","setStore","state","changes","currentAccount","preferences","backgroundTheme","reduceState","current","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","err","undefined","Flex","props","reducedProps","_props","includes","reduceProps","style","freeze","display","rootEl","rootComponent","React","createElement","cloneElement","onClick","className","children","AccountInfo","account_id","flags","rooms","friends","checkType","status","data","checkField","contact","created_at","Date","Command","AccountChange","JSON","stringify","AccountList","included","volume","AccountLogin","token","RoomInfo","room_id","accounts","RoomCreate","label","invite","AccountGetSuggestions","HOST_URL","config","host_url","cli","Client","useCommand","command","ref","signal","useSignal","useEffect","a","_args","execute","rq","useDispatchCommand","useAccount","updateStore","options","Account","dispatchStore","dispatchCommand","id","contacts","accountInfoRq","acc","setCurrentAccount","useRoom","roomInfoRq","useForkedState","setState","val","useRestrictedPage","condition","path","history","useHistory","useRestrictedPageForCurrentAccount","useState","updateState","useCallback","_defineProperty","obj","configurable","writable","account","avatar_url","details","include","map","inc","join","Boolean","first_name","last_name","toUpperCase","updateCurrentAccount","setBackgroundTheme","theme","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","call","e","url","entries","once","cmd","exec","makeArguments","reqUrl","headers","Headers","fetch","mode","response","json","parsed_response","catch","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","isLoaded","request","arrayToStringList","replace","name","t","types","Error","field","useStorage","storageFn","localStorage","useStorageSetter","resetLocalStorageValue","setLocalStorageValue","setItem","removeItem","_inherits","subClass","superClass","create","constructor","_construct","Parent","Class","Function","bind","_getPrototypeOf","getPrototypeOf","_typeof","_possibleConstructorReturn","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","NewTarget","backgroundThemes","runtime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","useStyles","makeStyles","root","backgroundColor","palette","background","paper","logo","width","height","Splash","location","classes","dispatch","enqueueSnackbar","useSnackbar","accountIdToken","storage","accountLogin","accountInfo","bgThemeId","getItem","bgTheme","find","bgT","messaging","firebase","Notification","requestPermission","getToken","tokens","newTokens","navigator","serviceWorker","addEventListener","message","notification","body","initialPath","alignItems","justifyContent","src","alt"],"mappings":"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","file":"static/js/7.35492058.chunk.js","sourcesContent":["import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useContext, useRef, useMemo } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return useMemo(() => stateFn(context[0]), [context, stateFn]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"ðŸ“\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n        \n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n\n            case \"SET_BACKGROUND_THEME\":\n                // TODO: Make sure to initialize preferences before accessing reducer...\n                if (!changes.preferences) changes.preferences = {};\n                // @ts-ignore\n                changes.preferences.backgroundTheme = { ...action.payload } as { id: string, url: string, label: string }\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  onClick?: () => void\n  rootComponent?: React.Component\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n * @deprecated Use Box from Material-UI instead. https://material-ui.com/components/box/\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n      display: \"flex\",\n      ...reducedProps,\n      ...props.style\n  });\n\n  const rootEl = props.rootComponent ?? React.createElement(\"div\");\n\n  return React.cloneElement(rootEl as React.ReactElement<any>, { onClick: props.onClick, style, className: props.className, children: props.children });\n}\n\nexport default Flex;","import { Command } from \"./client\";\nimport { IAccount } from \"types\";\nimport { checkField, checkType } from \"./utils\";\n\nexport class AccountInfo extends Command {\n    constructor(account_id: string, flags?: boolean, rooms?: boolean, friends?: boolean) {\n        super([\"account-accountInfo\", { account_id, flags: !!flags, rooms: !!rooms, friends: !!friends }]);\n\n        checkType(\"account_id\", account_id, \"string\");\n\n        checkType(\"flags\", flags, \"boolean\", \"undefined\");\n        checkType(\"rooms\", rooms, \"boolean\", \"undefined\");\n        checkType(\"friends\", friends, \"boolean\", \"undefined\");\n    }\n\n    parse(status: number, data: IAccount): IAccount {\n        if(status !== 200) return data;\n\n        checkType(\"data\", data, \"object\");\n\n        checkField(data, \"id\", \"string\");\n        checkField(data, \"label\", \"string\");\n        checkField(data, \"created_at\", \"string\");\n        checkField(data, \"avatar_url\", \"string\", \"undefined\");\n\n        checkField(data, \"contact\", \"object\");\n        if (data.contact)\n            checkField(data.contact, \"email\", \"string\");\n\n        checkField(data, \"details\", \"object\");\n        checkField(data, \"flags\", \"object\", \"undefined\");\n        checkField(data, \"friends\", \"array\", \"undefined\");\n        checkField(data, \"rooms\", \"array\", \"undefined\");\n        \n        return { ...data, created_at: new Date(data.created_at) };\n    }\n}\n\nexport class AccountChange extends Command {\n    constructor(account_id: string, changes: { label?: string, name?: string, surname?: string }) {\n        super([\"account-accountChange\", {account_id, changes: JSON.stringify(changes)}]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountList extends Command {\n    constructor(included?: string[], volume?: number) {\n        super([\"account-accountList\", { volume, included }]);\n\n        checkType(\"volume\", volume, \"number\", \"undefined\");\n        checkType(\"included\", included, \"array\", \"undefined\");\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountCreate extends Command {\n    constructor(data: {email: string, password: string, label?: string}) {\n        super([\"account-accountCreate\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountLogin extends Command {\n    constructor(token: string) {\n        super([\"account-accountLogin\", { token }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountFind extends Command {\n    constructor(data: { email?: string, label?: string }) {\n        super([\"account-accountFind\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountAddContact extends Command {\n    constructor(data: {account_id: string, contact_id: string}) {\n        super([\"account-accountAddContact\", data]);\n    }   \n    \n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n        \n        return data;\n    }\n}\n\nexport class RoomInfo extends Command {\n    constructor(room_id: string, accounts?: boolean) {\n        super([\"room-roomInfo\", { room_id, accounts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class RoomCreate extends Command {\n    constructor(account_id: string, label: string, invite: string[]) {\n        super([\"room-roomCreate\", { label, invite: [...invite, account_id] }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountGetSuggestions extends Command{\n    // deepcode ignore no-any: Type declaration of 'any' loses type-safety\n    constructor(account_id: string){\n        super([\"account-accountGetSuggestions\", {account_id}]);\n    };\n\n    parse(status: number, data: any){\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n\n}\n","import { useRef, useEffect } from 'react';\nimport { Client } from './client';\nimport { useSignal } from '../utils/hooks/general';\nimport config from '../config/config';\nimport { IRoom } from 'types';\nimport { AccountInfo, RoomInfo } from './commands';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { setCurrentAccount } from 'store/actions';\nimport Account from \"./models/Account.model\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\nexport const useCommand = (command: any, ...args: any[]) => {\n    const ref = useRef(null as unknown as { status: number, data?: any, message?: string });\n    const signal = useSignal();\n\n    useEffect(() => {\n        ref.current = { status: 102 };\n        \n        const fn = async () => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            ref.current = rq;\n            signal();\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    return ref.current;\n}\n\n/**\n * \n * @param command \n * @param args \n * @example\n * const dispatchCommand = useDispatchCommand();\n * ...\n * dispatchCommand(AccountCreate, \"mike.eling97@gmail.com\", \"ThisIsMyPassBro\")\n */\nexport const useDispatchCommand = () => {\n    const ref = useRef(null as unknown as (command: any, ...args: any[]) => Promise<{ status: number, data: any }>);\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        \n        const fn = async (command: any, ...args: any[]) => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            signal();\n            return rq;\n        }\n        ref.current = (command: any, ...args: any[]) => fn(command, ...args);\n    }\n    \n    return ref.current;\n}\n\nexport const useAccount = (account_id?: string, updateStore: boolean = false, options?: { rooms?: boolean, flags?: boolean, contacts?: boolean }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n    const ref = useRef<Account | null | undefined>(!account_id ? new Account(currentAccount as any) ?? undefined : undefined);\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const accountInfoRq = (await dispatchCommand(AccountInfo, account_id || currentAccount?.id, options?.flags, options?.rooms, options?.contacts ));\n            \n            if(accountInfoRq.status === 200) {\n                const acc = new Account({ id: account_id || currentAccount?.id, ...accountInfoRq.data });\n\n                ref.current = acc as Account | null;\n                if (updateStore) dispatchStore(setCurrentAccount(acc));\n                signal();\n            }\n        }\n    \n        if(account_id || currentAccount?.id)\n            fn();\n            \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [account_id]);\n    \n    return ref.current ?? null;\n}\n\nexport const useRoom = (room_id: string, accounts?: boolean) => {\n    const ref = useRef<IRoom | null | undefined>();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const roomInfoRq = (await dispatchCommand(RoomInfo, room_id, !!accounts));\n\n            if(roomInfoRq.status === 200) {\n                ref.current = roomInfoRq.data as IRoom | null;\n                signal();\n            }\n        }\n\n        if(room_id) fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n    \n    return ref.current ?? null;\n}","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\n/**\n * Redirect to page if condition met\n * @param path for redirect\n * @param condition\n */\nexport const useRestrictedPage = (condition: boolean, path: string = \"/home\" ) => {\n    const history = useHistory();\n    useEffect(() => {\n        if (condition) \n            history.push(path)\n        \n    }, [condition, path, history]);\n}\n\n/**\n * Redirect to page if current account is active\n * @param path for redirect\n */\nexport const useRestrictedPageForCurrentAccount = (path: string = \"/home\") => {\n    const currentAccount = useStore(state => state.currentAccount);\n    useRestrictedPage(!!currentAccount, path)\n}\n\n\n\nexport const useSignal = () => {\n    const [, updateState] = useState();\n    // @ts-ignore\n    return useCallback(() => updateState({}), []);\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { Dictionary, TAccountDetails, IRoom, IFriend } from \"types\";\n\n/**\n * Model representing an Account.\n */\nclass Account {\n    id: string;\n    label: string;\n    created_at: Date;\n    contact: Dictionary<string>;\n    avatar_url?: string;\n\n    details: TAccountDetails;\n\n    flags?: string[];\n    rooms?: IRoom[];\n    friends?: IFriend[];\n\n    constructor(account: Dictionary<any>) {\n        this.id = account.id;\n        this.label = account.label;\n        this.created_at = new Date(account.created_at);\n        this.contact = account.contact ?? [];\n        this.avatar_url = account.avatar_url;\n        this.details = account.details ?? {};\n        this.flags = account.flags;\n        this.rooms = account.rooms;\n        this.friends = account.friends;\n    }\n\n    get isValid() {\n        return Boolean(this.id && this.label)\n    }\n\n    name(...include: (\"first_name\" | \"last_name\" | \"middle_name\")[]) {\n        if (!include || include.length <= 0) include = [\"first_name\", \"last_name\"];\n\n        return include.map(inc => this?.details?.[inc] ?? null).filter(inc => !!inc).join(\" \") ?? this.label;\n    }\n\n    get initials() {\n        if (!this.details.first_name && !this.details.last_name)\n            return \"Unknown\";\n        return (`${this.details.first_name[0]}${this.details.last_name[0]}`).toUpperCase();\n    }\n}\n\nexport default Account;","import config from \"config/config\";\nimport { AccountInfo } from \"api/commands\";\nimport { Client } from \"api/client\";\nimport Account from \"api/models/Account.model\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\n/**\n * Set current account.\n * @param payload Account info.\n * @see api/commands/AccountInfo\n */\nexport const setCurrentAccount = (payload: Account | null) => {\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Update current account.\n * @param payload account_id\n * @see api/commands/AccountInfo\n */\nexport const updateCurrentAccount = async (account_id: string) => {\n    const rq = await cli.execute(new AccountInfo(account_id, true, true, true))\n    const payload = new Account(rq.data);\n\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Set background theme.\n * @param theme \n */\nexport const setBackgroundTheme = (theme: { id: string, url: string, label: string }) => {\n    return ({ type: \"SET_BACKGROUND_THEME\", payload: theme });\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export type TResponse = {status: number, message?: string, data: any};\n\nexport interface IClient {\n    url: string\n}\n\nexport class Client implements IClient {\n    url: string\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    makeArguments(args: {[key: string]: string}) {\n        return Object.entries(args).map((e => `${e[0]}=${typeof e[1] === \"object\" ? JSON.stringify(e[1]) : e[1]}`)).join(\"&\");\n    }\n\n    execute(command: ICommand) {\n        return new Promise<{status: number, data: any}>((resolve, reject) => {\n            let once = false;\n            const cmd = command.exec[0];\n            const args = this.makeArguments(command.exec[1]);\n    \n            const reqUrl = `${this.url}${cmd}?${args}`;\n\n            const handleResolve = (response: any) => {\n                if(!once) {\n                    once = true;\n                    \n                    const parsed_response = response\n                    \n                    console.log(\"ðŸ“¶\", cmd, \"=>\", parsed_response);\n                    resolve(parsed_response);\n                }\n                \n            }\n\n            let headers = new Headers({\n                'Access-Control-Allow-Origin':'*',\n                'Content-Type': 'multipart/form-data'\n            });\n\n            fetch(reqUrl, { mode: \"cors\", headers })\n                .then(response => response.json())\n                .then(handleResolve)\n                .catch(reject);\n        })\n    }\n}\n\n\nexport interface ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    parse(status: number, data: any): any\n}\n\nexport class Command implements ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    constructor(exec: [string, {[key: string]: any}]) {\n        this.exec = exec;\n        this.status = 0;\n    }\n\n    parse(status: number, data: any) {\n        return data;\n    }\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const isLoaded = (request: any) => {\n    return request !== null && request.status !== 102\n}\n\nconst arrayToStringList = (arr: string[]) => \n        arr.toString().replace(/,/g, \", \")\n\ntype TType = \"string\" | \"number\" | \"bigint\" | \"boolean\" | \"symbol\" | \"undefined\" | \"object\" | \"function\" | \"null\" | \"array\";\n\n/**\n * Throws an exception if the types are not correct.\n * @param name \n * @param value \n * @param types \n */\nexport const checkType = (name: string, value: any, ...types: TType[]) => {\n    let t: TType = typeof value;\n\n    if (t === \"object\")\n        if (value === null)\n            t = \"null\";\n        else if (Array.isArray(value))\n            t = \"array\";\n\n    if (!types.includes(t))\n        throw new Error(`Expected ${arrayToStringList(types)} for ${name}, got ${typeof value}`)\n\n    return value;\n}\n\n/**\n * Same as checkType but accepts an parent object.\n * @param obj \n * @param field \n * @param types \n */\nexport const checkField = <T, K extends keyof T>(obj: T, field: K, ...types: TType[]) => {\n    let val = obj[field];\n    checkType(field as string, val, ...types);\n    return val;\n}","const config = {\n    host_url: \"https://us-central1-ping-82fee.cloudfunctions.net/\" //\"http://localhost:5001/ping-82fee/us-central1/\" //\n};\n\nexport default config;","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","export interface IStorage {\n    accountIdToken?: string;\n}\n\nexport const getLocalStorageValue = (key: keyof IStorage) => {\n    const storage = localStorage as unknown as IStorage;\n\n    return storage[key];\n}\n\nexport const getLocalStorage = () => {\n    return localStorage as unknown as IStorage;\n}\n\nexport const setLocalStorageValue = (key: keyof IStorage, value: string) => {\n    localStorage.setItem(key, value);\n}\n\nexport const resetLocalStorageValue = (key: keyof IStorage) => {\n    localStorage.removeItem(key);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","\nexport const backgroundThemes = [\n    {\n        id: \"1103088\",\n        label: \"One color\",\n        url: \"https://source.unsplash.com/collection/1103088/\"\n    },\n    {\n        id: '1971015',\n        label: \"Simplicity\",\n        url: \"https://source.unsplash.com/collection/1971015/\"\n    },\n    {\n        id: '1426076',\n        label: \"Pastel & Sparkle\",\n        url: \"https://source.unsplash.com/collection/1426076/\"\n    },\n    {\n        id: \"1111575\",\n        label: \"Space\",\n        url: \"https://source.unsplash.com/collection/1111575/\"\n    },\n    {\n        id: \"1922729\",\n        label: \"From above\",\n        url: \"https://source.unsplash.com/collection/1922729/\"\n    },\n];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","export default __webpack_public_path__ + \"static/media/circles-logo.420d4698.svg\";","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    backgroundColor: theme.palette.background.paper\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin, AccountChange } from 'api/commands';\nimport { setBackgroundTheme, setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\nimport firebase from \"firebase/app\"\nimport { useSnackbar } from \"notistack\";\nimport { backgroundThemes } from 'utils/backgroundThemes';\nimport Account from 'api/models/Account.model';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(new Account({ id: account_id, ...accountInfo.data })));\n\n                    // Initialize bgTheme.\n                    const bgThemeId = localStorage.getItem('background-theme') || '1922729';\n                    const bgTheme = (backgroundThemes.find(bgT => bgT.id.toString() === bgThemeId.toString()) ?? backgroundThemes[0]) as { id: string, url: string, label: string };\n\n                    dispatch(setBackgroundTheme(bgTheme));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        // Navigate to welcome page.\n                        history.push(\"/welcome\")\n                    } else {\n                        // TODO: Find a better place for this!\n                        const messaging = firebase?.messaging();\n                        if(messaging && accountInfo.data) {\n                            Notification.requestPermission()\n                                .then(async function() {\n                                    const token = await messaging.getToken();\n                            \n                                    if((!accountInfo.data?.tokens || !accountInfo.data?.tokens?.includes(token))) {\n                                        \n                                        let newTokens = accountInfo.data?.tokens ?? [];\n                                        newTokens.push(token);\n                            \n                                        await dispatchCommand(AccountChange, accountInfo.data?.id, { tokens: newTokens })\n\n                                        console.log(\"â„¹ï¸ New messaging token added.\");\n                                    }\n                                })\n                                .catch(function(err) {\n                                    console.log(\"Unable to get permission to notify.\", err);\n                                });\n\n                            navigator.serviceWorker.addEventListener(\"message\", (message) => {\n                                enqueueSnackbar(message?.data?.[\"firebase-messaging-msg-data\"]?.notification?.body);\n                                console.log(message);\n                            });\n                        }\n\n                        // Navigate to initial path or fallback to home.\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\" className={classes.root}>\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;"],"sourceRoot":""}