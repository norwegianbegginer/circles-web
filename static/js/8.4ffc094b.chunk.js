(this["webpackJsonpcircles-web"]=this["webpackJsonpcircles-web"]||[]).push([[8,10],{141:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n(0),a=n(51),c=n(140),i=function(t){var e=Object(r.useContext)(a.b);return Object(r.useMemo)((function(){return t(e[0])}),[e,t])},o=function(){var t=Object(r.useContext)(a.b);return Object(r.useRef)((function(e){console.log("\ud83d\udcc1",e.type,"=>",e.payload),function(t,e){t((function(t){var n={};switch(e.type){case"SET_CURRENT_ACCOUNT":n.currentAccount=Object(c.a)({},e.payload);break;case"SET_BACKGROUND_THEME":n.preferences||(n.preferences={}),n.preferences.backgroundTheme=Object(c.a)({},e.payload)}return Object(c.a)(Object(c.a)({},t),n)}))}(t[1],e)})).current}},145:function(t,e,n){"use strict";var r=n(140),a=n(0),c=n.n(a);e.a=function(t){var e,n=function(t){for(var e=Object(r.a)({},t),n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];for(var i in e)a.includes(i)&&delete e[i];return e}(t,"children","className"),a=Object.freeze(Object(r.a)(Object(r.a)({display:"flex"},n),t.style)),i=null!==(e=t.rootComponent)&&void 0!==e?e:c.a.createElement("div");return c.a.cloneElement(i,{onClick:t.onClick,style:a,className:t.className,children:t.children})}},146:function(t,e,n){"use strict";n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return v})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return j})),n.d(e,"b",(function(){return O}));var r=n(158),a=n(140),c=n(152),i=n(153),o=n(170),u=n(173),s=n(156),l=n(160),f=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t,r,a,i){var o;return Object(c.a)(this,n),o=e.call(this,["account-accountInfo",{account_id:t,flags:!!r,rooms:!!a,friends:!!i}]),Object(l.b)("account_id",t,"string"),Object(l.b)("flags",r,"boolean","undefined"),Object(l.b)("rooms",a,"boolean","undefined"),Object(l.b)("friends",i,"boolean","undefined"),o}return Object(i.a)(n,[{key:"parse",value:function(t,e){return 200!==t?e:(Object(l.b)("data",e,"object"),Object(l.a)(e,"id","string"),Object(l.a)(e,"label","string"),Object(l.a)(e,"created_at","string"),Object(l.a)(e,"avatar_url","string","undefined"),Object(l.a)(e,"contact","object"),e.contact&&Object(l.a)(e.contact,"email","string"),Object(l.a)(e,"details","object"),Object(l.a)(e,"flags","object","undefined"),Object(l.a)(e,"friends","array","undefined"),Object(l.a)(e,"rooms","array","undefined"),Object(a.a)(Object(a.a)({},e),{},{created_at:new Date(e.created_at)}))}}]),n}(s.b),d=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t,r){return Object(c.a)(this,n),e.call(this,["account-accountChange",{account_id:t,changes:JSON.stringify(r)}])}return Object(i.a)(n,[{key:"parse",value:function(t,e){return e}}]),n}(s.b),b=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t,r){var a;return Object(c.a)(this,n),a=e.call(this,["account-accountList",{volume:r,included:t}]),Object(l.b)("volume",r,"number","undefined"),Object(l.b)("included",t,"array","undefined"),a}return Object(i.a)(n,[{key:"parse",value:function(t,e){return e}}]),n}(s.b),v=(s.b,function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,["account-accountLogin",{token:t}])}return Object(i.a)(n,[{key:"parse",value:function(t,e){return e}}]),n}(s.b)),p=(s.b,s.b,function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t,r){return Object(c.a)(this,n),e.call(this,["room-roomInfo",{room_id:t,accounts:r}])}return Object(i.a)(n,[{key:"parse",value:function(t,e){return e}}]),n}(s.b)),j=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t,a,i){return Object(c.a)(this,n),e.call(this,["room-roomCreate",{label:a,invite:[].concat(Object(r.a)(i),[t])}])}return Object(i.a)(n,[{key:"parse",value:function(t,e){return e}}]),n}(s.b),O=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,["account-accountGetSuggestions",{account_id:t}])}return Object(i.a)(n,[{key:"parse",value:function(t,e){return e}}]),n}(s.b)},149:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(26),a=n(0),c=n(141),i=n(9),o=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var c=Object(a.useRef)(null),i=l();if(null===c.current){var o=t.apply(void 0,n),u=function(t){c.current[0]=t,i()};c.current=[o,u]}return Object(a.useEffect)((function(){var e=t.apply(void 0,n);c.current[0]!==e&&c.current[1](e)}),[t,n]),c.current},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/home",n=Object(i.f)();Object(a.useEffect)((function(){t&&n.push(e)}),[t,e,n])},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",e=Object(c.b)((function(t){return t.currentAccount}));u(!!e,t)},l=function(){var t=Object(a.useState)(),e=Object(r.a)(t,2)[1];return Object(a.useCallback)((function(){return e({})}),[])}},150:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"a",(function(){return g})),n.d(e,"d",(function(){return x}));var r=n(140),a=n(142),c=n.n(a),i=n(171),o=n(158),u=n(143),s=n(0),l=n(156),f=n(149),d=n(162),b=n(146),v=n(141),p=n(151),j=n(157),O=d.a.host_url,h=new l.a(O),m=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=Object(s.useRef)(null),l=Object(f.c)();return Object(s.useEffect)((function(){a.current={status:102},function(){var e=Object(u.a)(c.a.mark((function e(){var r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||[],e.next=3,h.execute(Object(i.a)(t,Object(o.a)(r)));case 3:u=e.sent,a.current=u,l();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),a.current},y=function(){var t=Object(s.useRef)(null),e=Object(f.c)();if(null===t.current){var n=function(){var t=Object(u.a)(c.a.mark((function t(n){var r,a,o,u,s,l=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=l.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=l[o];return u=a||[],t.next=4,h.execute(Object(i.a)(n,u));case 4:return s=t.sent,e(),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.current=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return n.apply(void 0,[t].concat(r))}}return t.current},g=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,i=Object(v.b)((function(t){return t.currentAccount})),o=Object(s.useRef)(t?void 0:null!==i&&void 0!==i?i:void 0),l=Object(v.a)(),d=y(),O=Object(f.c)();return Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(c.a.mark((function e(){var u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(b.c,t||(null===i||void 0===i?void 0:i.id),null===a||void 0===a?void 0:a.flags,null===a||void 0===a?void 0:a.rooms,null===a||void 0===a?void 0:a.contacts);case 2:200===(u=e.sent).status&&(s=new j.a(Object(r.a)({id:t||(null===i||void 0===i?void 0:i.id)},u.data)),o.current=s,n&&l(Object(p.b)(s)),O());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(t||(null===i||void 0===i?void 0:i.id))&&e()}),[t]),null!==(e=o.current)&&void 0!==e?e:null},x=function(t,e){var n,r=Object(s.useRef)(),a=y(),i=Object(f.c)();return Object(s.useEffect)((function(){t&&function(){var n=Object(u.a)(c.a.mark((function n(){var o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(b.g,t,!!e);case 2:200===(o=n.sent).status&&(r.current=o.data,i());case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[t]),null!==(n=r.current)&&void 0!==n?n:null}},151:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return b}));var r=n(142),a=n.n(r),c=n(143),i=n(162),o=n(146),u=n(156),s=i.a.host_url,l=new u.a(s),f=function(t){return{type:"SET_CURRENT_ACCOUNT",payload:t}},d=function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.execute(new o.c(e,!0,!0,!0));case 2:return n=t.sent,r=n.data,t.abrupt("return",{type:"SET_CURRENT_ACCOUNT",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(t){return{type:"SET_BACKGROUND_THEME",payload:t}}},152:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},153:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return a}))},154:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},155:function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},156:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return i}));var r=n(152),a=n(153),c=function(){function t(e){Object(r.a)(this,t),this.url=void 0,this.url=e}return Object(a.a)(t,[{key:"makeArguments",value:function(t){return Object.entries(t).map((function(t){return"".concat(t[0],"=").concat("object"===typeof t[1]?JSON.stringify(t[1]):t[1])})).join("&")}},{key:"execute",value:function(t){var e=this;return new Promise((function(n,r){var a=!1,c=t.exec[0],i=e.makeArguments(t.exec[1]),o="".concat(e.url).concat(c,"?").concat(i),u=new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data"});fetch(o,{mode:"cors",headers:u}).then((function(t){return t.json()})).then((function(t){if(!a){a=!0;var e=t;console.log("\ud83d\udcf6",c,"=>",e),n(e)}})).catch(r)}))}}]),t}(),i=function(){function t(e){Object(r.a)(this,t),this.exec=void 0,this.status=void 0,this.exec=e,this.status=0}return Object(a.a)(t,[{key:"parse",value:function(t,e){return e}}]),t}()},157:function(t,e,n){"use strict";var r=n(152),a=n(153),c=function(){function t(e){var n,a;Object(r.a)(this,t),this.id=void 0,this.label=void 0,this.created_at=void 0,this.contact=void 0,this.avatar_url=void 0,this.details=void 0,this.flags=void 0,this.rooms=void 0,this.friends=void 0,this.id=e.id,this.label=e.label,this.created_at=new Date(e.created_at),this.contact=null!==(n=e.contact)&&void 0!==n?n:[],this.avatar_url=e.avatar_url,this.details=null!==(a=e.details)&&void 0!==a?a:{},this.flags=e.flags,this.rooms=e.rooms,this.friends=e.friends}return Object(a.a)(t,[{key:"name",value:function(){for(var t,e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(!r||r.length<=0)&&(r=["first_name","last_name"]),null!==(t=r.map((function(t){var n,r;return null!==(n=null===e||void 0===e||null===(r=e.details)||void 0===r?void 0:r[t])&&void 0!==n?n:null})).filter((function(t){return!!t})).join(" "))&&void 0!==t?t:this.label}},{key:"isValid",get:function(){return Boolean(this.id&&this.label)}},{key:"initials",get:function(){return this.details.first_name||this.details.last_name?"".concat(this.details.first_name[0]).concat(this.details.last_name[0]).toUpperCase():"Unknown"}}]),t}();e.a=c},158:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(50);var a=n(62);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},160:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return i}));var r=function(t){return null!==t&&102!==t.status},a=function(t){return t.toString().replace(/,/g,", ")},c=function(t,e){var n=typeof e;"object"===n&&(null===e?n="null":Array.isArray(e)&&(n="array"));for(var r=arguments.length,c=new Array(r>2?r-2:0),i=2;i<r;i++)c[i-2]=arguments[i];if(!c.includes(n))throw new Error("Expected ".concat(a(c)," for ").concat(t,", got ").concat(typeof e));return e},i=function(t,e){for(var n=t[e],r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return c.apply(void 0,[e,n].concat(a)),n}},162:function(t,e,n){"use strict";e.a={host_url:"https://us-central1-ping-82fee.cloudfunctions.net/"}},168:function(t,e,n){"use strict";e.a=n.p+"static/media/wave.f70c3bfc.svg"},170:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(154);function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},171:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(154),a=n(155);function c(t,e,n){return(c=Object(a.a)()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var c=new(Function.bind.apply(t,a));return n&&Object(r.a)(c,n.prototype),c}).apply(null,arguments)}},173:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return o}));var a=n(155);function c(t){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){var e=Object(a.a)();return function(){var n,a=r(t);if(e){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}},195:function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(142),c=n.n(a),i=n(140),o=n(143),u=n(26),s=n(0),l=n(61),f=n(148),d=n(127),b=Object(d.a)((function(t){return{root:{position:"relative",maxWidth:t.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(t.spacing(4))},inputWrapper:{},wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},personalImage:Object(f.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},t.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(f.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")")},t.breakpoints.up("sm"),{height:"350px"}),welcomeTitle:{color:t.palette.primary.main}}})),v=function(t){return{title:{en_US:"Welcome,",pl_PL:"Witamy",de_DE:"Willkommen"},yes:t.yes}},p=n(236),j=n(141),O=n(348),h=n(145),m=n(132),y=n(168),g=n.p+"static/media/personal.ebfa5829.svg",x=n(150),w=n(146),_=n(151),k=n(9),S=n(157);e.default=function(){var t,e,n,a,f,d,C,A,E,N,R,T=Object(k.f)(),B=Object(l.useLittera)(v),P=Object(u.a)(B,1)[0],U=b(),I=Object(j.a)(),D=Object(x.c)(),L=Object(j.b)((function(t){return t.currentAccount})),J=Object(s.useState)(null!==(t=null===L||void 0===L?void 0:L.label)&&void 0!==t?t:""),W=Object(u.a)(J,2),H=W[0],M=W[1],G=Object(s.useState)(null!==(e=null===L||void 0===L||null===(n=L.details)||void 0===n?void 0:n.first_name)&&void 0!==e?e:""),z=Object(u.a)(G,2),F=z[0],K=z[1],V=Object(s.useState)(null!==(a=null===L||void 0===L||null===(f=L.details)||void 0===f?void 0:f.middle_name)&&void 0!==a?a:""),q=Object(u.a)(V,2),Q=q[0],X=q[1],Y=Object(s.useState)(null!==(d=null===L||void 0===L||null===(C=L.details)||void 0===C?void 0:C.last_name)&&void 0!==d?d:""),Z=Object(u.a)(Y,2),$=Z[0],tt=Z[1],et=Object(s.useState)(null!==(A=null===L||void 0===L||null===(E=L.details)||void 0===E?void 0:E.birthdate)&&void 0!==A?A:new Date),nt=Object(u.a)(et,2),rt=nt[0],at=nt[1],ct=Object(s.useState)(null!==(N=null===L||void 0===L||null===(R=L.details)||void 0===R?void 0:R.sex)&&void 0!==N?N:"O"),it=Object(u.a)(ct,2),ot=it[0],ut=it[1],st=function(t){var e,n,r,a,c=null!==(e=null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.id)&&void 0!==e?e:"",i=null!==(r=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==r?r:"";switch(c){case"label":M(i);break;case"first_name":K(i);break;case"middle_name":X(i);break;case"last_name":tt(i);break;case"birthday":at(i);break;case"sex":ut(i)}},lt=function(){var t=Object(o.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(H&&F&&Q&&$&&rt&&ot)){t.next=12;break}return t.next=3,D(w.a,(null===L||void 0===L?void 0:L.id)||"",JSON.parse(JSON.stringify({label:H,details:{first_name:F,middle_name:Q,last_name:$,birthdate:rt.toString(),sex:ot}})));case 3:if(204!==t.sent.status){t.next=10;break}return t.next=7,D(w.c,(null===L||void 0===L?void 0:L.id)||"",!0);case 7:200===(e=t.sent).status&&I(Object(_.b)(new S.a(Object(i.a)({id:null===L||void 0===L?void 0:L.id},e.data)))),T.push("/home");case 10:t.next=13;break;case 12:alert("Implement error handling!");case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:U.imgContainer,children:[Object(r.jsx)("img",{className:U.personalImage,src:g,alt:"PersonalInformation"}),Object(r.jsx)("img",{className:U.wave,src:y.a,alt:"wave"})]}),Object(r.jsxs)("div",{className:U.root,children:[Object(r.jsxs)(p.a,{className:U.welcomeTitle,variant:"h2",children:[P.title," ",null===L||void 0===L?void 0:L.label]}),Object(r.jsx)(p.a,{style:{opacity:"0.7",marginBottom:"35px"},paragraph:!0,children:"Here you need to provide us with some data about you. Name, Surname etc."}),Object(r.jsx)(p.a,{style:{paddingBottom:"16px"},variant:"h4",children:"Personal information"}),Object(r.jsxs)(h.a,{flexDirection:"column",className:U.inputWrapper,children:[Object(r.jsx)(O.a,{style:{marginBottom:"15px"},id:"label",label:"Label",variant:"outlined",value:H,onChange:st}),Object(r.jsx)(O.a,{style:{marginBottom:"15px"},id:"first_name",label:"First Name",variant:"outlined",value:F,onChange:st}),Object(r.jsx)(O.a,{style:{marginBottom:"15px"},id:"middle_name",label:"Middle Name",helperText:"Optional",variant:"outlined",value:Q,onChange:st}),Object(r.jsx)(O.a,{style:{marginBottom:"15px"},id:"last_name",label:"Last Name",variant:"outlined",value:$,onChange:st}),Object(r.jsx)(O.a,{id:"birthday",label:"Birthday",type:"date",defaultValue:"1990-01-01",InputLabelProps:{shrink:!0},value:rt,onChange:st})]}),Object(r.jsx)(m.a,{style:{color:"white",float:"right",marginBottom:"15px"},variant:"contained",color:"primary",onClick:lt,children:"Save"})]})]})}}}]);
//# sourceMappingURL=8.4ffc094b.chunk.js.map