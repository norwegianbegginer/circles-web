{"version":3,"sources":["utils/general.ts","storage/hooks.ts","utils/backgroundThemes.ts","api/messages.ts","components/pages/Intro/styles.ts","components/pages/Intro/trans.ts","components/pages/Intro/IntroView.tsx","assets/intro00.svg","assets/intro01.svg","assets/intro02.svg","components/pages/Intro/index.tsx","components/pages/Signup/styles.ts","components/pages/Signup/trans.ts","assets/celebration.svg","components/pages/Signup/index.tsx","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","assets/personal.svg","components/pages/Welcome/index.tsx","assets/circles-logo.svg","components/pages/Splash/styles.ts","components/pages/Splash/index.tsx","components/pages/Rooms/styles.ts","components/pages/Room/styles.ts","components/pages/Room/Messages.tsx","components/common/MessageInput/styles.ts","components/common/MessageInput/index.tsx","api/fcm.ts","components/pages/Room/MessageForm.tsx","components/pages/Room/MessagesSkeleton.tsx","components/pages/Room/RoomView.tsx","components/pages/Room/index.tsx","components/pages/Highlights/styles.ts","components/pages/Highlights/trans.ts","components/common/AccountSugestions/trans.ts","components/common/AccountSugestions/styles.ts","components/common/AccountSugestions/Suggestion.tsx","components/common/AccountSugestions/index.tsx","components/common/AccountFavContacts/styles.ts","components/common/AccountFavContacts/index.tsx","components/pages/Highlights/index.tsx","components/pages/People/styles.ts","components/pages/People/ContactLabel.tsx","components/pages/People/trans.ts","components/pages/People/index.tsx","components/common/AccountPicker/index.tsx","components/pages/Rooms/trans.ts","components/pages/Rooms/CreateRoom.tsx","components/pages/Rooms/RoomsItem.tsx","components/pages/Rooms/index.tsx","components/shared/FloatingList/index.tsx","components/shared/FloatingList/styles.ts","components/pages/Home/styles.ts","components/pages/Menu/styles.ts","components/pages/Menu/trans.ts","components/pages/Menu/index.tsx","components/pages/Profile/styles.ts","components/pages/Profile/trans.ts","components/pages/Profile/index.tsx","components/common/SettingsDrawer/trans.ts","components/common/SettingsDrawer/index.tsx","components/common/SettingsDrawer/styles.ts","components/common/TopMenu/MenuPopover/trans.ts","components/common/TopMenu/MenuPopover/index.tsx","components/common/TopMenu/MenuPopover/styles.ts","components/common/Logo/styles.ts","components/common/Logo/index.tsx","components/common/TopMenu/index.tsx","components/common/TopMenu/styles.ts","components/pages/Home/index.tsx"],"names":["ensureArray","arr","Array","isArray","makeInitials","first_name","last_name","fallback","toUpperCase","makeFullName","capitalizeFirstLetter","value","substring","length","toLowerCase","useStorage","storageFn","localStorage","useStorageSetter","signal","useSignal","useRef","key","undefined","resetLocalStorageValue","setLocalStorageValue","current","backgroundThemes","id","label","url","useMessages","room_id","useState","messages","setMessages","useEffect","firebase","ref","makeRefPath","on","snapshot","msgs","val","m","useMessageSubmit","account_id","useCallback","message","author","timestamp","Date","toString","newMsgKey","child","push","updates","update","useStyles","makeStyles","theme","root","introViewRoot","maxWidth","breakpoints","values","md","margin","introViewContentWrapper","marginTop","translations","preset","title","en_US","pl_PL","de_DE","firstTitle","secondTitle","thirdTitle","yes","ProgressIcons","activePart","Flex","justifyContent","alignItems","active","ProgressIcon","useTheme","Icon","style","opacity","fontSize","color","palette","primary","main","IntroView","props","classes","partId","prevButtonText","nextButtonText","className","height","flexDirection","src","image","alt","Typography","variant","align","paragraph","description","width","Button","onClick","onPrev","onNext","Intro","history","useHistory","useLittera","translated","setActivePart","handleNext","ap","handlePrev","intro00","intro01","intro02","minHeight","up","container","padding","spacing","inputWrapper","signImage","position","right","bottom","imgContainer","overflow","background","dark","wave","zIndex","left","footerWrapper","Signup","storageSetter","emailInput","setEmailInput","passwordInput","setPasswordInput","confirmPasswordInput","setConfirmPasswordInput","errorMsg","setErrorMsg","isLoading","setIsLoading","useRestrictedPageForCurrentAccount","handleInputChange","inputName","event","newValue","target","waveAsset","onSubmit","preventDefault","email","password","signUpWithCredentials","then","result","a","console","log","user","uid","catch","err","TextField","marginBottom","onChange","type","Alert","severity","AlertTitle","Fab","aria-label","Backdrop","open","CircularProgress","personalImage","welcomeTitle","Welcome","dispatchStore","useDispatch","dispatchCommand","useDispatchCommand","currentAccount","useStore","state","labelField","setLabelField","details","firstNameField","setFirstNameField","middle_name","middleNameField","setMiddleNameField","lastNameField","setLastNameField","birthdate","dateOfBirth","setDateOfBirth","sex","setSex","handleChange","field","handleSubmit","AccountChange","JSON","parse","stringify","status","AccountInfo","account","setCurrentAccount","Account","data","alert","personalInformationImage","paddingBottom","helperText","defaultValue","InputLabelProps","shrink","float","backgroundColor","paper","logo","Splash","location","dispatch","enqueueSnackbar","useSnackbar","accountIdToken","storage","AccountLogin","accountLogin","accountInfo","bgThemeId","getItem","bgTheme","find","bgT","setBackgroundTheme","flags","includes","messaging","Notification","requestPermission","getToken","token","tokens","newTokens","navigator","serviceWorker","addEventListener","notification","body","initialPath","fn","display","flexWrap","topMenu","roomsButton","borderRadiusBottom","borderRadius","roomItemWrapper","textAlign","cursor","transition","avatarPlaceholder","marginRight","lastMessageTypography","textOverflow","whiteSpace","minWidth","backdropFilter","borderTopLeftRadius","shape","borderTopRightRadius","down","flexBasis","inputContainer","inputBackground","roomTitle","roomTitleBox","marginLeft","messagesRoot","maxHeight","flexGrow","messageRoot","ownedMessage","alignSelf","wordBreak","notOwnedMessage","messageWithManyLines","nextMessageOwned","borderBottomRightRadius","nextMessageNotOwned","borderBottomLeftRadius","prevMessageOwned","prevMessageNotOwned","equalToLine","paddingLeft","sendMessageArea","avatar","chatBoxHeader","Message","isOwned","displayAvatar","isOwnedNextMessage","isOwnedPrevMessage","setHeight","atob","rootClasses","cx","bubbleClasses","offsetHeight","authorFullName","authorInitials","Box","Avatar","avatar_url","source","Messages","roomId","accounts","getAuthor","author_id","hasMessages","Object","keys","overflowY","reverse","map","message_id","index","MessageInput","onKeyPress","shiftKey","inputRef","fullWidth","placeholder","sendPushNotification","registration_ids","MessageForm","input","setInput","handleTextFieldFocus","focus","btoa","IconButton","MessagesSkeleton","Skeleton","animation","RoomView","params","useParams","room","useRoom","submitMessage","roomMembers","filter","acc","reducedRoomMembers","roomName","membersEl","useMemo","slice","join","Room","flex","welcome","avatarContainer","welcomeWraper","greetings","textShadow","fontFamily","fontWeight","suggestionsInfo","greeting","suggestions","firstMessage","card","suggestionAvatar","gsap","registerPlugin","ScrollTrigger","Suggestion","suggestion","payload","scrollRef","accountRq","useCommand","useForkedState","rq","isLoaded","accountFullName","accountInitials","Grow","in","Card","parseInt","CardContent","AccountSuggestions","suggestionsRq","AccountGetSuggestions","indexOf","boxShadow","AccountContactBadge","Zoom","AccountFavContacts","friends","c","favorite","findPathNameEnding","Highlights","useLocation","pathname","pn","heap","split","borderBottom","personData","contacts","text","subtitle","ContactLabel","useAccount","ListItem","warn","name","peopleMessage","renderItem","item","keyExtractor","People","isRoomOpen","FloatingList","expanded","ListHeaderComponent","CreateRoom","ListEmptyComponent","SingleAccount","selected","paddingTop","contact","AccountPicker","accountsRq","AccountList","friend","prevValue","currentAccount_id","disabled","multiple","splice","conversation","createRoom","invite","select","React","error","setError","loading","setLoading","setOpen","setSelected","setLabel","handleClose","RoomCreate","newRoom","updateCurrentAccount","isSubmitDisabled","disableElevation","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","autoFocus","RoomsItem","roomUri","lastMessage","lastMessageValue","AvatarGroup","max","accountsMapAvatars","initials","Rooms","rooms","createStyles","common","white","shadows","unexpanded","list","classesMap","List","itemWrapperStyle","ListFooterComponent","sidebarWidth","sidebar","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","top","transform","backgroundImageBacklit","mainSection","menuIcon","menu","icon","people","MenuItem","isActive","Tooltip","onNavigation","Menu","handleNavigation","path","checkActive","profileContainer","head","img","topData","nickName","detailsContainer","textTransform","detail","verify","fullName","birthDate","edit","M","F","O","warning","notGiven","signOut","DetailComponent","Profile","isValid","translatedSex","scroll","PaperProps","VersionSettings","gutterBottom","process","toDateString","ThemeSettings","preferences","backgroundTheme","setTheme","setItem","ThemePanel","h2","drawer","paperDrawer","SettingsDrawer","Drawer","anchor","keepMounted","example","manageAccount","settings","h4","avatarWrapper","borderWidth","borderStyle","borderColor","avatarBig","popoverPaper","header","MenuPopover","shownSettingsDrawer","setShownSettingsDrawer","openSettingsDrawer","shownProfileDrawer","setShownProfileDrawer","openProfileDrawer","anchorEl","setAnchorEl","Boolean","storeDispatch","handleSignOut","window","reload","aria-describedby","currentTarget","Popover","anchorReference","anchorOrigin","vertical","horizontal","transformOrigin","button","ListItemIcon","ListItemText","onOpen","Logo","typographyProps","menuBar","TopMenu","HighlightsLazy","lazy","RoomLazy","RoomsLazy","PeopleLazy","Home","component","innerWidth","innerHeight"],"mappings":"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","file":"static/js/9.c74fe549.chunk.js","sourcesContent":["export function validURL(str: string) {\n    var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n    return !!pattern.test(str);\n}\n\nexport function ensureArray(arr: any) {\n  if (Array.isArray(arr)) return arr;\n\n  return [];\n}\n\nexport function makeInitials(first_name: string | undefined, last_name: string | undefined, fallback: string) {\n  if (first_name && last_name)\n    return (`${first_name[0]}${last_name[0]}`).toUpperCase();\n\n  return fallback[0].toUpperCase();\n}\n\nexport function makeFullName(first_name: string | undefined, last_name: string | undefined, fallback: string) {\n  if (first_name && last_name)\n    return (`${capitalizeFirstLetter(first_name)} ${capitalizeFirstLetter(last_name)}`);\n\n  return fallback;\n}\n\nexport const capitalizeFirstLetter = (value: string) => `${value[0].toUpperCase()}${value.substring(1, value.length).toLowerCase()}`","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","\nexport const backgroundThemes = [\n    {\n        id: \"1103088\",\n        label: \"One color\",\n        url: \"https://source.unsplash.com/collection/1103088/\"\n    },\n    {\n        id: '1971015',\n        label: \"Simplicity\",\n        url: \"https://source.unsplash.com/collection/1971015/\"\n    },\n    {\n        id: '1426076',\n        label: \"Pastel & Sparkle\",\n        url: \"https://source.unsplash.com/collection/1426076/\"\n    },\n    {\n        id: \"1111575\",\n        label: \"Space\",\n        url: \"https://source.unsplash.com/collection/1111575/\"\n    },\n    {\n        id: \"1922729\",\n        label: \"From above\",\n        url: \"https://source.unsplash.com/collection/1922729/\"\n    },\n];","import * as firebase from \"firebase/app\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { IMessage } from \"types\";\n//import { useAudio } from \"utils/hooks/sound\";\n\nconst makeRefPath = (room_id: string) => {\n    return `rooms/${room_id}/messages`;\n}\n\nexport const useMessages = (room_id: string) => {\n    //const [, toggle] = useAudio(\"https://cdn-02.anonfiles.com/B4z8W9Bbo8/14878adc-1592945278/notification_sound.mp3\");\n    const [messages, setMessages] = useState<any>(null);\n\n    useEffect(() => {\n        const messagesRef = firebase.database().ref(makeRefPath(room_id));\n\n        messagesRef.on('value', (snapshot) => {\n            const msgs = snapshot.val() ?? [];\n\n            setMessages((m: any) => {\n                //if(m !== null && typeof toggle === \"function\") toggle();\n                return msgs;\n            });\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n\n    return messages as {[key: string]: IMessage};\n}\n\ntype SubmitFunction = ((value: string) => void);\n\nexport const useMessageSubmit = (room_id: string, account_id: string) => {\n\n    return useCallback((value: string) => {\n        const message = {\n            author: account_id,\n            value,\n            timestamp: new Date().toString()\n        }\n\n        //firebase.database().ref(makeRefPath(room_id)).set(message);\n        var newMsgKey = firebase.database().ref().child('rooms').child(room_id).child(\"messages\").push().key;\n\n        var updates: any = {};\n        updates[`/rooms/${room_id}/messages/${newMsgKey}`] = message;\n\n        return firebase.database().ref().update(updates);\n\n    }, [account_id, room_id]) as SubmitFunction;\n}","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    },\n    introViewRoot:{\n        maxWidth: theme.breakpoints.values.md,\n        margin: \"0 auto\",\n    },\n    introViewContentWrapper:{\n      maxWidth: \"60%\",\n      marginTop: \"5%\",\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Intro\",\n        pl_PL: \"Intro\",\n        de_DE: \"Intro\"\n    },\n    firstTitle: {\n        en_US: \"Welcome to safe chat!\",\n        pl_PL: \"Pierwszy Part\",\n        de_DE: \"Erstes Part\"\n    },\n\n    secondTitle: {\n        en_US: \"Available everywhere\",\n        pl_PL: \"Drugi Part\",\n        de_DE: \"Zweiten Part\"\n    },\n\n    thirdTitle: {\n        en_US: \"Reliable and Stable\",\n        pl_PL: \"Trzeci Part\",\n        de_DE: \"Dreien Part\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { Button, Typography, Icon, useTheme } from \"@material-ui/core\";\nimport Flex from \"components/utils/Flex\";\nimport useStyles from \"./styles\";\n\ntype IntroViewProps = {\n    partId: number;\n    activePart: number;\n    \n    title: string;\n    description: string;\n    image: any;\n    \n    onNext: () => void;\n    onPrev: () => void;\n}\n\nconst IntroView = (props: IntroViewProps) => {\n    const classes = useStyles();\n\n    // Prevent rendering if not active.\n    if(props.activePart !== props.partId) return null;\n\n    // TODO: Add translations.\n    const prevButtonText = props.partId === 0 ? \"Skip\" : \"Back\";\n    const nextButtonText = props.partId === 2 ? \"Continue\" : \"Next\";\n\n    return <div className={classes.introViewRoot} style={{height: \"100vh\"}}>\n        <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-between\">\n            <Flex flexDirection=\"column\" height=\"90vh\" alignItems=\"center\" justifyContent=\"center\">\n                {/* Image */}\n                <Flex alignItems=\"center\" justifyContent=\"center\">\n                    <img src={props.image} alt={props.title} style={{maxWidth: \"300px\", height: \"auto\"}} />\n                </Flex>\n\n                {/* Content */}\n                <Flex className={classes.introViewContentWrapper} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n                    <Typography variant=\"h2\">{props.title}</Typography>\n                    <Typography align=\"center\" paragraph >{props.description}</Typography>\n                </Flex>\n            </Flex>\n\n            {/* Actions */}\n            <Flex justifyContent=\"space-evenly\" height=\"10vh\" alignItems=\"center\" width=\"60%\">\n                <Button onClick={props.onPrev}>{prevButtonText}</Button>\n                <ProgressIcons activePart={props.activePart} />\n                <Button variant=\"contained\" color=\"primary\" onClick={props.onNext}>{nextButtonText}</Button>\n            </Flex>\n        </Flex>\n        \n        \n        \n        </div>\n}\n\nconst ProgressIcons = ({activePart} : {activePart: number}) => {\n    \n    return  <Flex justifyContent=\"center\" alignItems=\"center\">\n                <ProgressIcon active={activePart >= 0} />\n                <ProgressIcon active={activePart >= 1} />\n                <ProgressIcon active={activePart >= 2} />\n            </Flex>\n}\n\nconst ProgressIcon = ({active}: {active: boolean}) => {\n    const theme = useTheme();\n\n    return <Icon style={{ opacity: active ? 1 : 0.15, fontSize: \"14px\", color: active ? theme.palette.primary.main : \"#000\" }}>lens</Icon>;\n}\n\nexport default IntroView;\n","export default __webpack_public_path__ + \"static/media/intro00.6588dfdc.svg\";","export default __webpack_public_path__ + \"static/media/intro01.1025310d.svg\";","export default __webpack_public_path__ + \"static/media/intro02.819f31a9.svg\";","import React, { useState, useCallback } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport IntroView from \"./IntroView\";\n\nimport intro00 from \"assets/intro00.svg\";\nimport intro01 from \"assets/intro01.svg\";\nimport intro02 from \"assets/intro02.svg\";\n\nimport { useHistory } from \"react-router-dom\";\n\n/**\n * Home page component.\n */\nconst Intro = () => {\n    // history.push(\"/path\");\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    // Controls the active part.\n    const [activePart, setActivePart] = useState<number>(0);\n    \n\n    const handleNext = useCallback(() => {\n        // To get the correct result, I'm looking up activePart (ap) passed to setActivePart method instead of using the in scope state variable.\n        setActivePart(ap => { \n\n            // Handle end of intro by navigating to login screen.\n            if(ap === 2) {\n                history.push(\"/login\");\n                // ? Changing value here after navigating might result in a memory leak as the Intro component is then unmounted. Move outside setActivePart and use \"activePart\" variable instead of \"ap\" to prevent state change.\n                return ap;\n            }\n\n            // Increment activePart.\n            return ap+1;\n        });\n    }, [setActivePart, history]);\n\n    const handlePrev = useCallback(() => {\n        setActivePart(ap => {\n\n            if(ap === 0) {\n                history.push(\"/login\");\n                return ap;\n            }\n\n            return ap-1;\n        });\n    }, [setActivePart, history]);\n\n    return <div className={classes.root}>\n        <IntroView activePart={activePart} partId={0} onNext={handleNext} onPrev={handlePrev} image={intro00} title={translated.firstTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={1} onNext={handleNext} onPrev={handlePrev} image={intro01} title={translated.secondTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={2} onNext={handleNext} onPrev={handlePrev} image={intro02} title={translated.thirdTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n    </div>\n}\n\nexport default Intro;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    signImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign up\",\n        pl_PL: \"Bd w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/celebration.9e01a526.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon, Backdrop, CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport signImage from \"assets/celebration.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signUpWithCredentials } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useStorageSetter } from \"storage/hooks\";\nimport { useRestrictedPageForCurrentAccount } from \"utils/hooks/general\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Signup = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const storageSetter = useStorageSetter();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false)\n    useRestrictedPageForCurrentAccount();\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n        setIsLoading(true)\n\n        if (!isLoading) {\n            const email = emailInput;\n            const password = passwordInput;\n            const confirmPassword = confirmPasswordInput;\n\n            if (confirmPassword !== password) {\n                setErrorMsg(\"Passwords are not identical.\");\n                setIsLoading(false);\n                return;\n            }\n\n            if (password.length < 13) {\n                setErrorMsg(\"Password is too short.\");\n                setIsLoading(false);\n                return;\n            }\n\n            signUpWithCredentials(email, password).then(async (result: any) => {\n                console.log(\"Result =>\", result);\n\n                /*const acc = await dispatchCommand(AccountCreate, { email: emailInput, password: passwordInput });\n                console.log(\"Account Data =>\", acc);\n                if(acc.status === 200) {\n                    storageSetter(\"currentAccountId\", acc.data.account_id);\n                    \n                    console.log(\"All success! Fuck yea!\");\n                    history.push(\"/welcome\");\n                } else if(acc.status === 404) {\n                    // TODO: Account not found!\n                    setErrorMsg(\"Account not found!\");\n                }*/\n                result?.user?.uid && storageSetter(\"accountIdToken\", result.user.uid)\n\n                history.push(\"/welcome\");\n\n            }).catch(err => {\n                setErrorMsg(err.message);\n                setIsLoading(false);\n            });\n        }\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n        if (!isLoading) {\n            if (inputName === \"email\") setEmailInput(newValue);\n            if (inputName === \"password\") setPasswordInput(newValue);\n            if (inputName === \"password-confirm\") setConfirmPasswordInput(newValue);\n        }\n\n    }\n\n    const handleBack = () => {\n        history.push(\"/login\");\n    }\n\n    return <div style={{ width: \"100%\" }}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.signImage} src={signImage} alt=\"signImage\" />\n            <img className={classes.wave} src={waveAsset} alt=\"\" />\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"confirm-password-input\" value={confirmPasswordInput} onChange={handleInputChange(\"password-confirm\")} type=\"password\" label=\"Confirm password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{ margin: \"10px 0\" }} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n                    <Flex justifyContent=\"space-between\">\n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Login</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{ color: \"white\" }}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                </form>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\"></Typography>\n        </Flex>\n        {!isLoading ? null :\n            <Backdrop open={true} style={{ zIndex: 5 }}>\n                <CircularProgress color=\"primary\" />\n            </Backdrop>}\n\n    </div>\n}\n\nexport default Signup;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/personal.ebfa5829.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport Account from \"api/models/Account.model\";\n\ntype EditableField = \"label\" | \"first_name\" | \"middle_name\" | \"last_name\" | \"birthday\" | \"sex\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [firstNameField, setFirstNameField] = useState(currentAccount?.details?.first_name ?? \"\");\n    const [middleNameField, setMiddleNameField] = useState(currentAccount?.details?.middle_name ?? \"\");\n    const [lastNameField, setLastNameField] = useState(currentAccount?.details?.last_name ?? \"\");\n    const [dateOfBirth, setDateOfBirth] = useState(currentAccount?.details?.birthdate ?? new Date());\n    const [sex, setSex] = useState(currentAccount?.details?.sex ?? \"O\");\n\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch (field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"first_name\":\n                setFirstNameField(value)\n                break;\n            case \"middle_name\":\n                setMiddleNameField(value)\n                break;\n            case \"last_name\":\n                setLastNameField(value)\n                break;\n            case \"birthday\":\n                setDateOfBirth(value)\n                break;\n            case \"sex\":\n                setSex(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if (labelField && firstNameField && middleNameField && lastNameField && dateOfBirth && sex) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", JSON.parse(JSON.stringify({ label: labelField, details: {  first_name: firstNameField, middle_name: middleNameField, last_name: lastNameField, birthdate: dateOfBirth.toString(), sex: sex } })));\n\n            if (changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if (account.status === 200) {\n                    dispatchStore(setCurrentAccount(new Account({ id: currentAccount?.id, ...account.data })));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage} alt=\"PersonalInformation\" />\n            <img className={classes.wave} src={waveAsset} alt=\"wave\" />\n        </div>\n        <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n\n            <Typography style={{ opacity: \"0.7\", marginBottom: \"35px\" }} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n\n            <Typography style={{ paddingBottom: \"16px\" }} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>\n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"first_name\" label=\"First Name\" variant=\"outlined\" value={firstNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"middle_name\" label=\"Middle Name\" helperText=\"Optional\" variant=\"outlined\" value={middleNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"last_name\" label=\"Last Name\" variant=\"outlined\" value={lastNameField} onChange={handleChange} />\n                <TextField id=\"birthday\" label=\"Birthday\" type=\"date\" defaultValue=\"1990-01-01\" InputLabelProps={{ shrink: true, }} value={dateOfBirth} onChange={handleChange}/>\n            </Flex>\n\n            <Button style={{ color: \"white\", float: \"right\", marginBottom: \"15px\" }} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n\n        </div>\n\n    </div>\n}\n\nexport default Welcome;","export default __webpack_public_path__ + \"static/media/circles-logo.420d4698.svg\";","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    backgroundColor: theme.palette.background.paper\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin, AccountChange } from 'api/commands';\nimport { setBackgroundTheme, setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\nimport firebase from \"firebase/app\"\nimport { useSnackbar } from \"notistack\";\nimport { backgroundThemes } from 'utils/backgroundThemes';\nimport Account from 'api/models/Account.model';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(new Account({ id: account_id, ...accountInfo.data })));\n\n                    // Initialize bgTheme.\n                    const bgThemeId = localStorage.getItem('background-theme') || '1922729';\n                    const bgTheme = (backgroundThemes.find(bgT => bgT.id.toString() === bgThemeId.toString()) ?? backgroundThemes[0]) as { id: string, url: string, label: string };\n\n                    dispatch(setBackgroundTheme(bgTheme));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        // Navigate to welcome page.\n                        history.push(\"/welcome\")\n                    } else {\n                        // TODO: Find a better place for this!\n                        const messaging = firebase?.messaging();\n                        if(messaging && accountInfo.data) {\n                            Notification.requestPermission()\n                                .then(async function() {\n                                    const token = await messaging.getToken();\n                            \n                                    if((!accountInfo.data?.tokens || !accountInfo.data?.tokens?.includes(token))) {\n                                        \n                                        let newTokens = accountInfo.data?.tokens ?? [];\n                                        newTokens.push(token);\n                            \n                                        await dispatchCommand(AccountChange, accountInfo.data?.id, { tokens: newTokens })\n\n                                        console.log(\" New messaging token added.\");\n                                    }\n                                })\n                                .catch(function(err) {\n                                    console.log(\"Unable to get permission to notify.\", err);\n                                });\n\n                            navigator.serviceWorker.addEventListener(\"message\", (message) => {\n                                enqueueSnackbar(message?.data?.[\"firebase-messaging-msg-data\"]?.notification?.body);\n                                console.log(message);\n                            });\n                        }\n\n                        // Navigate to initial path or fallback to home.\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\" className={classes.root}>\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    topMenu: {\n        display: \"flex\",\n    },\n    // listWrapper: {\n    //     position: \"relative\",\n    //     overflowY: \"scroll\",\n    //     width: \"100%\",\n    //     height: \"calc(100% - 100px)\",\n    // },\n    // roomWrapper: {\n    //     position: \"relative\",\n    //     margin: \"auto 10px auto 0\",\n    //     width: \"385px\",\n    //     backgroundColor: \"#fff\",\n    //     boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n    //     borderRadius: \"20px\",\n    //     height: \"80vh\",\n    //     overflow: \"hidden\",\n    //     minWidth: \"296px\",\n    //     transition: \"all 255ms ease\"\n    // },\n    // roomWrapperExpanded: {\n    //     margin: \"auto 0px auto 0\",\n    //     width: \"385px\",\n    //     boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n    //     borderRadius: \"20px 0px 0 20px\",\n    //     height: \"100%\",\n    //     minWidth: \"296px\",\n    // },\n    roomsButton: {\n        display: \"block\",\n        width: \"100%\",\n        height: \"100px\",\n        backgroundColor: \"#fff\",\n        borderRadiusBottom: \"1px solid #eee\",\n        borderRadius: \"0px\"\n    },\n    roomItemWrapper: {\n        overflow: \"hidden\",\n        width: \"100%\",\n        padding: \"30px 24px\",\n        textAlign: \"left\",\n        backgroundColor: \"#fff\",\n        cursor: \"pointer\",\n        transition: \"backgroundColor 255ms ease\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        \"&:hover\": {\n            backgroundColor: \"#f5f5f5\",\n        }\n    },\n    avatarPlaceholder: {\n        height: \"42px\",\n        width: \"42px\",\n        borderRadius: \"42px\",\n        backgroundColor: \"#9C6\",\n        marginRight: \"20px\"\n    },\n    lastMessageTypography: { fontSize: \"14px\", opacity: 0.45, textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\" }\n  }));\n\n  export default useStyles;\n","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    minWidth: \"calc(100% - 385px)\",\n    maxWidth: \"max-content\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"calc(100vh - 72px)\",\n    justifyContent: \"space-between\",\n    backdropFilter: \"blur(10px)\",\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius,\n    \n    [theme.breakpoints.down(\"sm\")]: {\n      flexBasis: \"100%\",\n      minWidth: \"100%\",\n      width: \"100%\",\n    },\n  },\n  inputContainer: {\n    position: \"relative\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  inputBackground: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 200,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    width: \"95%\",\n  },\n  roomTitle: {\n  },\n  roomTitleBox: {\n    marginLeft: \"12px\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  messagesRoot: {\n    minWidth: \"70vw\",\n    width: \"100%\",\n    position: \"relative\",\n    maxHeight: \"calc(100vh - 36px)\",\n    height: \"90%\",\n    flexGrow: 1,\n    overflow: \"auto\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"70vw\" // TODO: Change to more static value.\n\n    }\n  },\n  messageRoot: {\n    borderRadius: \"15px\",\n  },\n  ownedMessage: {\n    margin: \"3px \",\n    alignSelf: \"flex-end\",\n    color: \"#000\",\n    backgroundColor: \"#eee\",\n    borderRadius: \"25px\",\n    '& > *': {\n      margin: 0,\n      maxWidth: \"240px\",\n      whiteSpace: \"normal\",\n      wordBreak: \"break-word\",\n    },\n    '& > * > *':{\n      maxWidth: \"240px\",\n    },\n  },\n  notOwnedMessage: {\n    alignSelf: \"flex-start\",\n    margin: \"15px 0\",\n    color: \"#FFF\",\n    background: theme.palette.primary.main,\n    '& > *': {\n      margin: 0,\n      maxWidth: \"240px\",\n      whiteSpace: \"normal\",\n      wordBreak: \"break-word\",\n    },\n    '& > * > *':{\n      maxWidth: \"240px\",\n    },\n  },\n  messageWithManyLines:{\n    margin: \"8px 0\",\n  },\n  message: {\n    maxWidth: \"450px\",\n    position: \"relative\",\n    padding: \"16px 18px\",\n    borderRadius: \"25px\",\n    textAlign: \"left\",\n  },\n  nextMessageOwned:{\n    borderBottomRightRadius: \"4px\",\n  },\n  nextMessageNotOwned:{\n    borderBottomLeftRadius: \"4px\",\n    marginBottom: \"3px\",\n  },\n  prevMessageOwned: {\n    borderTopRightRadius: \"4px\",\n  },\n  prevMessageNotOwned: {\n    borderTopLeftRadius: \"4px\",\n    marginTop: \"3px\",\n  },\n  equalToLine: {\n    paddingLeft: \"28px\",\n  },\n  sendMessageArea:{\n    position: \"fixed\",\n  },\n  avatar: { borderRadius: \"28px\", width: \"28px\", height: \"28px\", backgroundColor: \"white\", color: \"#242424\", right: \"-19px\", bottom: \"0px\", position: \"relative\", padding: \"3px\", zIndex: 5 },\n  chatBoxHeader: {\n    width: \"100%\",\n    height: \"100px\",\n    backgroundColor: theme.palette.background.paper\n  },\n}));\n\nexport default useStyles;","import React, { useCallback, useState, useEffect, useRef } from \"react\";\nimport { Typography, Avatar, Box } from \"@material-ui/core\";\nimport { useMessages } from \"api/messages\";\nimport { IAccount, IMessage } from \"types\";\nimport { useStore } from \"store/hooks\";\nimport useStyles from \"./styles\";\nimport Flex from \"components/utils/Flex\";\nimport cx from \"classnames\";\nimport ReactMarkdown from \"react-markdown\";\nimport { makeFullName, makeInitials } from \"utils/general\";\n\nconst Messages = ({ roomId, accounts }: { roomId: string, accounts: IAccount[] }) => {\n    const messages = useMessages(roomId) || {};\n\n    const getAuthor = useCallback((author_id) => accounts.find(account => account.id === author_id) ?? null, [accounts]);\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n    const hasMessages = Object.keys(messages).length !== 0;\n\n    return <Flex flexDirection=\"column-reverse\" style={{ marginBottom: \"15px\", overflowY: \"scroll\", height: \"calc(90vh - 152px)\" }}>\n        {messages && !hasMessages ?\n            <Typography variant=\"h2\" style={{ marginLeft: \"30px\" }}>Say Hi!</Typography>\n            :\n            Object.keys(messages).reverse().map((message_id: string, index: number) => {\n\n                const message = messages[message_id];\n\n                return <Message\n                    key={message_id}\n                    message={message}\n                    author={getAuthor(message.author)}\n                    displayAvatar={message.author !== messages[Object.keys(messages).reverse()[index - 1]]?.author}\n                    isOwnedNextMessage = {message.author === messages[Object.keys(messages).reverse()[index - 1]]?.author}\n                    isOwnedPrevMessage = {message.author === messages[Object.keys(messages).reverse()[index + 1]]?.author}\n                    isOwned={currentAccount?.id === message.author} />\n            })\n        }\n    </Flex>\n}\n\nconst Message = ({ message, author, isOwned, displayAvatar, isOwnedNextMessage, isOwnedPrevMessage }: { message: IMessage, author: IAccount | null, isOwned: boolean, displayAvatar: boolean, isOwnedNextMessage: boolean, isOwnedPrevMessage: boolean }) => {\n    const classes = useStyles();\n    const [height, setHeight] = useState(0);\n    const ref = useRef(null);\n\n    let value = message.value;\n    try {\n        value = atob(message.value);\n    } catch (err) {\n        console.log(err);\n    }\n\n    const rootClasses = cx(classes.message, { [classes.ownedMessage]: isOwned, [classes.notOwnedMessage]: !isOwned, [classes.messageWithManyLines]: height>150, [classes.nextMessageNotOwned]: isOwnedNextMessage && !isOwned, [classes.prevMessageNotOwned]: isOwnedPrevMessage && !isOwned, [classes.nextMessageOwned]: isOwnedNextMessage && isOwned, [classes.prevMessageOwned]: isOwnedPrevMessage && isOwned});\n    const bubbleClasses = cx({[classes.ownedMessage]: isOwned ,[classes.messageRoot]: !isOwned ,[classes.equalToLine]: !displayAvatar && !isOwned})\n\n    useEffect(() => {\n        setHeight((ref as any).current.offsetHeight);\n    }, [])\n\n    const authorFullName = makeFullName(author?.details?.first_name, author?.details?.last_name, author?.label ?? \"Unknown\")\n    const authorInitials = makeInitials(author?.details?.first_name, author?.details?.last_name, author?.label ?? \"Unknown\")\n\n    return <Box alignItems=\"flex-end\" className={bubbleClasses} style={{ alignSelf: isOwned ? \"flex-end\" : \"flex-start\" }}>\n            {displayAvatar && !isOwned && author && <Avatar alt={authorFullName} className={classes.avatar} src={author.avatar_url}>{authorInitials}</Avatar>}\n            <div className={rootClasses} ref={ref}>\n                <ReactMarkdown source={value} />\n            </div>\n    </Box>\n}\n\nexport default Messages;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [`& fieldset`]: {\n            borderRadius: 200,\n        },\n    },  \n}));\n\nexport default useStyles;","import { TextField } from \"@material-ui/core\";\nimport React from \"react\";\nimport useStyles from \"./styles\";\n\n// TODO: ref type.\nconst MessageInput = (props: { inputRef?: any, value: string, onChange: (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => void, onSubmit?: () => void }) => {\n    const classes = useStyles();\n\n    const handleKeyPress = (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if(event.key === \"Enter\" && !event.shiftKey) {\n            event.preventDefault();\n            props.onSubmit && props.onSubmit();\n        }\n    }\n\n    return <TextField onKeyPress={handleKeyPress} ref={props.inputRef} fullWidth value={props.value} onChange={props.onChange} placeholder=\"Write your message...\" classes={{ root: classes.root }} variant=\"outlined\" />\n}\n\nexport default MessageInput;","export const sendPushNotification = async (registration_ids: string[], title: string, body: string) => {\n  console.log(registration_ids, title, body)\n  //   const FIREBASE_API_KEY = process.env.REACT_APP_FIREBASE_APIKEY ?? \"\";\n  //   const message = {\n  //       token: registration_ids[0], \n  //       notification: {\n  //           title,\n  //           body,\n  //           \"vibrate\": 1,\n  //           \"sound\": 1,\n  //           \"show_in_foreground\": true,\n  //           \"priority\": \"high\",\n  //           \"content_available\": true,\n  //       },\n  //       data: {\n  //           title,\n  //           body,\n  //           score: 50,\n  //           wicket: 1\n  //       }\n  // }\n  \n  //   let headers = new Headers({\n  //     \"Content-Type\": \"application/json\",\n  //     \"Authorization\": \"Bearer \" + FIREBASE_API_KEY\n  //   });\n\n  //   let response = await fetch(\"https://fcm.googleapis.com/v1/projects/ping-82fee/messages:send\", { method: \"POST\", headers, body: JSON.stringify(message) })\n  //   response = await response.json();\n  //   console.log(response);\n  }","import React, { useState, useRef } from 'react';\nimport { IconButton, Icon, Box } from '@material-ui/core';\nimport MessageInput from 'components/common/MessageInput';\nimport { sendPushNotification } from \"api/fcm\";\nimport useStyles from './styles';\n\nconst MessageForm = (props: { onSubmit: (value: string) => void }) => {\n    const [input, setInput] = useState(\"\");\n    const classes = useStyles();\n    const ref = useRef<HTMLInputElement | undefined>();\n\n    const handleTextFieldFocus = () => {\n        if(ref.current)\n            ref.current?.focus();\n    }\n\n    const handleSubmit = async (event?: React.FormEvent<HTMLFormElement>) => {\n        if(event) event.preventDefault();\n\n        if(input.length > 0) {\n            try {\n                props.onSubmit(btoa(input));\n                setInput(\"\");\n                handleTextFieldFocus();\n\n                await sendPushNotification([\"dcSXVLtXIAUTyhxv_vpAOC:APA91bE-13ugAh4qEcf8PT3n1r84pbIGZ2Hm5xv4S054SO_wRs3mGM0xCw-0nphyB7wYVthrL6lGZR8qy6qx1--wzUIuqACVNGfow29Lf1EdA-Bh6bb1-VPgiGtx-EF_Z1KPxRu6nZE4\"], \"New message\", input);\n            } catch(err) {\n                console.log(err);\n                alert(\"Message contains invalid characters.\")\n            }\n        }\n    }\n    \n    const handleChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        // @ts-ignore\n        setInput(event.target?.value ?? \"\");\n    }\n\n    return <form id=\"message-form\" className={classes.inputContainer} onSubmit={handleSubmit}>\n        <Box className={classes.inputBackground}>\n            <MessageInput inputRef={ref} value={input} onChange={handleChange} onSubmit={handleSubmit} />\n            <IconButton onClick={() => handleSubmit()}>\n                <Icon color=\"primary\">send</Icon>\n            </IconButton>\n        </Box>\n    </form>\n}\n\nexport default MessageForm;","import React from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\n\nconst MessagesSkeleton = () => {\n    return (\n        <div style={{ width: \"fit-content\", marginLeft: \"10px\" }}>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={150} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={120} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={80} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={120} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={100} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={160} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n        </div>\n    );\n};\n\nexport default MessagesSkeleton;","import React, { useMemo } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { Typography, Box, IconButton } from \"@material-ui/core\";\nimport Messages from \"./Messages\";\nimport MessageForm from \"./MessageForm\";\nimport { useRoom } from \"api/hooks\";\nimport { useMessageSubmit } from \"api/messages\";\nimport MessagesSkeleton from \"./MessagesSkeleton\";\nimport useStyles from './styles';\nimport { ensureArray, makeFullName } from \"utils/general\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { useHistory } from 'react-router-dom';\n\n// TODO: Show skeleton when switching rooms.\nconst RoomView = () => {\n    const params = useParams<{id: string}>();\n    const classes = useStyles();\n    const history = useHistory();\n\n    const currentAccount = useStore(state => state.currentAccount);\n    const room = useRoom(params.id);\n    const submitMessage = useMessageSubmit(params.id, currentAccount?.id ?? \"\");\n\n    const roomMembers = ensureArray(room?.accounts).filter(acc => acc.id !== currentAccount?.id);\n    const reducedRoomMembers = roomMembers.map(acc => makeFullName(acc?.details?.first_name, acc?.details?.last_name, acc?.label))\n    const roomName = roomMembers.length > 1 ? room?.label : makeFullName(roomMembers?.[0]?.details?.first_name, roomMembers?.[0]?.details?.last_name, roomMembers?.[0]?.label ?? \"Unknown\");\n\n    const membersEl = useMemo(() => {\n        let result = reducedRoomMembers.slice(0, 3).join(\", \");\n\n        if (reducedRoomMembers.length > 3) {\n            // TODO: Include translations - requires react-littera upgrade.\n            result += ` and ${reducedRoomMembers.length - 3} more`\n        }\n\n        return result;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [reducedRoomMembers.length]);\n\n    const closeRoomView = () => {history.push(\"/home/rooms\");}\n\n    return <Box className={classes.root}>\n        {(!room || !room.id) ?\n            <MessagesSkeleton />\n            :\n            <>\n                <Box className={classes.chatBoxHeader} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Box className={classes.roomTitleBox}>\n                        <Box>\n                            <IconButton onClick={() => closeRoomView()} >\n                                <ArrowBackIcon style={{fontSize: \"1.8rem\"}}/>\n                            </IconButton>   \n                        </Box>\n                        <Box>\n                            <Typography variant=\"h5\" className={classes.roomTitle}>{roomName}</Typography>\n                            {roomMembers.length > 1 && <Typography style={{ opacity: 0.65 }}>{membersEl}</Typography>}\n                        </Box>      \n                    </Box>\n                </Box>\n                <Box>\n                    <Messages accounts={room?.accounts ?? []} roomId={room.id} />\n                    <MessageForm onSubmit={submitMessage} />\n                </Box>\n            </>\n        }\n    </Box>\n}\n\nexport default RoomView;\n","import React from \"react\";\nimport RoomView from \"./RoomView\";\n\n/**\n * Room page component.\n */\nconst Room = () => {\n\n    return (\n        <RoomView />\n    )\n}\n\nexport default Room;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    marginRight: \"10%\",\n    flex: 1,\n    height: \"70%\",\n\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\"\n    },\n    welcome: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    avatarContainer: {\n      position: \"relative\",\n    },\n  welcomeWraper: {\n      position: \"relative\",\n      display: \"flex\",\n    },\n    greetings: {\n      width: \"100%\",\n      color: \"white\",\n      margin: 0,\n      textShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\",\n      fontFamily: \"'Roboto Condensed', sans-serif\",\n      fontWeight: 400\n\n    },\n    suggestionsInfo: {\n      width: \"100%\",\n      margin: 0,\n      color: \"white\",\n      fontSize: \"26px\",\n      textShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\"\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n  greeting: {\n    en_US: \"Hi\",\n    pl_PL: \"Witaj\",\n    de_DE: \"Hallo\",\n  },\n  suggestions: {\n    en_US: \"Here are some suggestions for you\",\n    pl_PL: \"Mamy dla Ciebie kilka sugesti\",\n    de_DE: \"\",\n  },\n  // Example preset use. See src/utils/hooks/locale.ts for more.\n});\n\nexport default translations;","// * Translations\nconst translations = (preset: any) => ({\n    firstMessage: {\n        en_US: \"Write to this member 1st time\",\n        pl_PL: \"Napisz do tej osoby poraz pierwszy\",\n        de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginTop: \"20px\",\n        overflowY: \"auto\",\n    },\n    card: {\n        borderRadius: \"8px\",\n        margin: \"10px auto\", width: \"100%\"\n    },\n    suggestionAvatar: {\n        marginRight: theme.spacing(4),\n        width: \"48px\",\n        height: \"48px\"\n    }\n}));\n\nexport default useStyles;","import React, { useEffect, useRef } from 'react';\nimport { AccountInfo } from 'api/commands';\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { useCommand } from 'api/hooks';\nimport { Card, CardContent, Typography, Box, Avatar, Grow } from '@material-ui/core';\nimport translations from \"./trans\";\nimport { useLittera } from \"react-littera\";\nimport { IAccount, TSuggestion } from \"types\";\nimport useStyles from \"./styles\";\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\nimport { makeFullName, makeInitials } from 'utils/general';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst Suggestion = ({suggestion, index}: {suggestion: TSuggestion, index: string}) => {\n    const classes = useStyles();\n\n    const [translated] = useLittera(translations);\n    const { payload, type } = suggestion;\n    const scrollRef = useRef(null);\n\n    const accountRq = useCommand(AccountInfo, payload?.account_id);\n    const [account] = useForkedState<any, IAccount>(rq => isLoaded(rq) ? rq.data : null, accountRq);\n  \n    useEffect(() => {\n        \n    }, [suggestion])\n\n    if (!account || account.flags?.includes(\"needs_init\")) return null; // TODO: Add a loader...\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label);\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label);\n\n    return (\n        <Grow in>\n            <Card className={classes.card} id={index} ref={scrollRef} style={{zIndex: parseInt(index)}}>\n                    <CardContent>\n                    <Box display=\"flex\" alignItems=\"center\" justifyContent=\"flex-start\">\n                        <Avatar className={classes.suggestionAvatar} src={account.avatar_url} alt={accountFullName} >{accountInitials}</Avatar>\n                        <Box>\n                            <Typography variant=\"h5\">\n                                {accountFullName}\n                            </Typography>\n\n                            <Typography>\n                                {type === \"never-messaged\" ? translated.firstMessage : type}\n                            </Typography>\n                        </Box>\n                    </Box>\n                    </CardContent>\n                </Card>\n        </Grow>\n    );\n};\n\nexport default Suggestion;","import { AccountGetSuggestions } from 'api/commands';\nimport { useCommand } from 'api/hooks';\nimport React, {useRef} from 'react';\nimport { useStore } from 'store/hooks';\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport Suggestion from './Suggestion';\nimport useStyles from \"./styles\";\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst AccountSuggestions = () => {\n    const classes = useStyles();\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n    const scrollRef = useRef(null);\n\n    const suggestionsRq = useCommand(AccountGetSuggestions, currentAccount?.id)\n    const [suggestions] = useForkedState(rq => isLoaded(rq) ? rq.data : null, suggestionsRq);\n\n    return (\n           <section className={classes.root} ref={scrollRef}>\n           {suggestions?.length !== 0 ? suggestions?.map((suggestion:any) => {\n               return (                  \n                        <Suggestion \n                        suggestion={suggestion}  \n                        index={suggestions.indexOf(suggestion)} \n                        key={suggestions.indexOf(suggestion)}   \n                        />\n               )\n           }): null}\n           </section>\n    );\n};\n\nexport default AccountSuggestions;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        margin: \"10px 0\",\n    },\n    image: {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"50px\",\n        marginRight: \"10px\",\n        boxShadow: \"0px 3px 9px rgba(0, 0, 0, .25)\"\n    }\n}));\n\nexport default useStyles;","import { Avatar, Zoom } from \"@material-ui/core\";\nimport { AccountInfo } from \"api/commands\";\nimport { useCommand } from \"api/hooks\";\nimport { isLoaded } from \"api/utils\";\nimport React from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { ensureArray, makeFullName, makeInitials } from \"utils/general\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport useStyles from \"./styles\";\n\ntype AccountFavContactsProps = {\n\n}\n\nconst AccountFavContacts = (props: AccountFavContactsProps) => {\n    const classes = useStyles(); \n\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n\n    return <div className={classes.root}>\n        {\n            ensureArray(currentAccount?.friends)\n                .filter(c => !!c.favorite)\n                .map(c => <AccountContactBadge {...c} />)\n        }\n    </div>\n}\n\ntype AccountContactBadgeProps = {\n    account_id: string;\n    favorite: boolean;\n    last_contacted?: string;\n}\n\nconst AccountContactBadge = (props: AccountContactBadgeProps) => {\n    const classes = useStyles();\n    const accountRq = useCommand(AccountInfo, props.account_id);\n    const [account] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountRq);\n\n    if (!account || account.flags?.includes(\"needs_init\")) return null; // TODO: Add loader...\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label);\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label);\n\n    return <Zoom in>\n        <Avatar className={classes.image} src={account.avatar_url} alt={accountFullName}>{accountInitials}</Avatar>\n    </Zoom>\n}\n\nexport default AccountFavContacts","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\";\nimport translations from \"./trans\";\nimport { Box, Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport AccountSuggestions from \"components/common/AccountSugestions\";\nimport AccountFavContacts from \"components/common/AccountFavContacts\";\nimport { useLocation } from \"react-router-dom\";\n\n/**\n * Home page component.\n */\nconst Highlights = () => {\n  const [translated] = useLittera(translations);\n  const classes = useStyles();\n  const location = useLocation();\n\n  const currentAccount = useStore((state) => state.currentAccount);\n\n  const shouldDisplay = findPathNameEnding(location.pathname.toLowerCase(), [\"rooms\", \"people\"]);\n  if(!shouldDisplay)\n    return null;\n\n  return (\n    <Box className={classes.root}>\n      <Box>\n        <Box className={classes.welcomeWraper}>\n          <Box className={classes.welcome}>\n            <Typography className={classes.greetings} variant=\"h2\">\n              {translated.greeting}, {currentAccount?.details?.first_name}!\n            </Typography>\n            <Typography className={classes.suggestionsInfo} variant=\"h5\">\n              {translated.suggestions}\n            </Typography>\n          </Box>\n        </Box>\n        <AccountFavContacts />\n        <AccountSuggestions />\n      </Box>\n    </Box>\n  );\n};\n\nexport default Highlights;\n\nconst findPathNameEnding = (pn: string, heap: string[]) =>\n  heap.includes(pn.split(\"/\").reverse()[0]);\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    padding: \"3vh\",\n    width: \"100%\",\n    textAlign: \"center\",\n    borderBottom: \"2px #999 solid\",\n  },\n  root: {\n    position: \"relative\",\n    margin: \"auto 10px auto 0\",\n    width: \"385px\",\n    backgroundColor: \"#fff\",\n    boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n    borderRadius: \"20px\",\n    height: \"80vh\",\n    overflow: \"hidden\",\n    minWidth: \"296px\",\n    transition: \"all 255ms ease\",\n  },\n  personData: {\n    overflow: \"hidden\",\n    width: \"100%\",\n    padding: \"30px 24px\",\n    textAlign: \"left\",\n    backgroundColor: \"#fff\",\n    cursor: \"pointer\",\n    transition: \"backgroundColor 255ms ease\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    \"&:hover\": {\n      backgroundColor: \"#f5f5f5\",\n    }\n  },\n  contacts: {\n    width: \"100%\",\n  },\n  avatar: {\n  },\n  text: {\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  subtitle: { fontSize: \"14px\", opacity: 0.45, textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\" }\n}));\n\n  export default useStyles;\n","import { Avatar, Box, ListItem, Typography, Grow } from '@material-ui/core';\nimport React from 'react';\nimport { TContact } from \"types\";\nimport { useAccount } from 'api/hooks';\nimport useStyles from \"./styles\";\nimport { Skeleton } from '@material-ui/lab';\n\nconst ContactLabel = (props: TContact) => {\n    const classes = useStyles();\n    const account = useAccount(props.account_id);\n\n    const handleClick = () => {\n        // TODO: Open existing chat or create a new room. (1 on 1)\n        console.warn(\"TODO: Open existing chat or create a new room. (1 on 1)\");\n    }\n\n    if (!account)\n        return <Box className={classes.personData}>\n            <Skeleton variant=\"rect\" width={160} height={28} />\n            <Skeleton variant=\"circle\" width={48} height={48} />\n        </Box>; \n\n    return (\n        <ListItem onClick={handleClick} style={{ padding: 0 }}>\n            <Grow in>\n                <Box className={classes.personData}>\n                    <Box>\n                        <Typography variant=\"h6\" style={{ fontSize: \"20px\" }}>\n                            {account.name()}\n                        </Typography>\n                        <Typography className={classes.subtitle}>{account.label}</Typography>\n                    </Box>\n                    <Avatar className={classes.avatar} alt={account.name()} src={account.avatar_url} />\n                </Box>\n            </Grow>\n        </ListItem>    \n    );\n};\n\nexport default ContactLabel;","// * Translations\nconst translations = (preset: any) => ({\n    peopleMessage: {\n        en_US: \"You don't have any frients on the list.\",\n        pl_PL: \"Nie masz nikogo na licie znajomych.\",\n        // de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","import React from 'react';\nimport { Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport ContactLabel from './ContactLabel';\nimport { useLittera } from \"react-littera\";\nimport translations from \"./trans\";\nimport FloatingList from 'components/shared/FloatingList';\nimport { IFriend } from 'types';\nimport { ensureArray } from 'utils/general';\nimport CreateRoom from '../Rooms/CreateRoom';\nimport { useHistory } from 'react-router-dom';\n\n\nconst People = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n\n    const currentAccount = useStore(state => state.currentAccount);\n    const isRoomOpen = history.location.pathname.includes(\"/room/\");\n\n    return <FloatingList\n        data={ensureArray(currentAccount?.friends)}\n        renderItem={renderItem}\n        keyExtractor={keyExtractor}\n        expanded={isRoomOpen}\n        // Using CreateRoom for now till we figure out what to do with the button...\n        ListHeaderComponent={<CreateRoom />}\n        ListEmptyComponent={<Typography variant=\"h4\" align=\"center\">{translated.peopleMessage}</Typography>}\n    />\n}\n\nconst renderItem = ({ item }: { item: IFriend }) => <ContactLabel {...item} />;\nconst keyExtractor = ({ item }: { item: IFriend }) => item.account_id;\n\nexport default People;","import React, { useEffect } from \"react\";\nimport { useCommand } from \"api/hooks\";\nimport { AccountList } from \"api/commands\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { IAccount } from \"types\";\nimport { CircularProgress, Avatar, Typography, Icon } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport Flex from \"components/utils/Flex\";\nimport { makeFullName, makeInitials } from \"utils/general\";\n\ntype AccountPickerProps = {\n    onChange: React.Dispatch<React.SetStateAction<string[]>> | React.Dispatch<React.SetStateAction<string>>;\n    value: string | string[]\n    multiple?: boolean;\n    style?: any;\n    disabled?: boolean;\n}\n\n/**\n * \n * describe this function...\n */\nconst AccountPicker = (props: AccountPickerProps) => {\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const accountsRq = useCommand(AccountList, currentAccount?.friends?.map(friend => friend.account_id));\n    const [accounts] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountsRq)\n\n    useEffect(() => {\n        // @ts-ignore\n        props.onChange((prevValue: any) => ([]));\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleChange = (account_id: string) => {\n        if (props.disabled) return;\n\n        // TODO: Ugly code, refactor that!!\n        // @ts-ignore\n        props.onChange((value: any) => {\n            if (props.multiple && Array.isArray(value)) {\n                let arr = [...value];\n\n                if (arr.includes(account_id)) arr.splice(value.indexOf(account_id), 1);\n                else arr.push(account_id);\n\n                return [...arr];\n            } else {\n                return value === account_id ? \"\" : account_id;\n            }\n        });\n    }\n\n    const mapAccounts = (currentAccount_id: string | undefined) => (account: IAccount) => {\n        if (account.id === currentAccount_id) return null;\n        return <SingleAccount key={account.id} account={account} onClick={(account_id) => handleChange(account_id)} selected={props.value.includes(account.id)} />\n    }\n\n    if (!accounts) return <Flex width=\"100%\" height=\"60px\" alignItems=\"center\" justifyContent=\"center\"><CircularProgress /></Flex>\n\n    return <>\n        {\n            accounts.map(mapAccounts(currentAccount?.id))\n        }\n    </>\n}\n\n/**\n * \n * Describe this function...\n */\nconst SingleAccount = ({ account, onClick, selected }: { account: IAccount, onClick: (account_id: string) => void, selected: boolean }) => {\n\n    const handleClick = () => {\n        onClick(account.id);\n    }\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label)\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label)\n\n    return <Flex style={{ paddingTop: \"12px\", cursor: \"pointer\" }} onClick={handleClick} justifyContent=\"flex-start\" alignItems=\"center\">\n        <Avatar\n            style={{ width: \"54px\", height: \"54px\", backgroundColor: selected ? \"green\" : undefined }}\n            alt={accountFullName}\n            src={selected ? undefined : account.avatar_url}>\n            {selected ? <Icon>check</Icon> : accountInitials}\n        </Avatar>\n\n        <div style={{ margin: \"0 0 0 20px\" }}>\n            <Typography style={{ margin: \"0\" }} variant=\"h6\">{accountFullName}</Typography>\n            <Typography style={{ margin: \"0\", opacity: \".6\" }}>{account.contact?.email}</Typography>\n        </div>\n    </Flex>\n}\n\nexport default AccountPicker;","// * Translations\nconst translations = (preset: any) => ({\n    conversation: {\n        en_US: \"New conversation\",\n        pl_PL: \"Nowa rozmowa\",\n        de_DE: \"Hallo!\",\n    },\n    createRoom: {\n        en_US: \"Create room\",\n        pl_PL: \"Stwrz pokj!\",\n        de_DE: \"Hallo!\",\n    },\n    invite: {\n        en_US: \"Invite Friends\",\n        pl_PL: \"Zapro znajomych\",\n        de_DE: \"Hallo!\",\n    },\n    select: {\n        en_US: \"Select a Friend\",\n        pl_PL: \"Wybierz znajomych\",\n        de_DE: \"Hallo!\",\n    },\n    selected: {\n        en_US: \"Selected\",\n        pl_PL: \"Wybrano\",\n        de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from 'react'\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Typography } from '@material-ui/core';\nimport AccountPicker from 'components/common/AccountPicker';\nimport { useHistory } from 'react-router-dom';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { useDispatchCommand } from 'api/hooks';\nimport { RoomCreate } from 'api/commands';\nimport Flex from 'components/utils/Flex';\nimport { Alert } from '@material-ui/lab';\nimport { updateCurrentAccount } from 'store/actions';\nimport { useLittera } from \"react-littera\";\nimport translations from \"./trans\";\nimport useStyles from \"./styles\";\n\nconst CreateRoom = () => {\n    const [error, setError] = React.useState(\"\");\n    const [loading, setLoading] = React.useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [selected, setSelected] = React.useState<string[]>([]);\n    const [label, setLabel] = React.useState(\"\");\n    const classes = useStyles();\n  \n    const history = useHistory();\n    const currentAccount = useStore(state => state.currentAccount);\n    const dispatchCommand = useDispatchCommand();\n    const dispatchStore = useDispatch();\n    const [translated] = useLittera(translations);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleSubmit = async () => {\n      setLoading(true);\n      const newRoom = await dispatchCommand(RoomCreate, currentAccount?.id ?? \"\", label, selected);\n\n      if (newRoom.status === 200) {\n        // Refetch current account to display updated rooms list.\n        dispatchStore(await updateCurrentAccount(currentAccount?.id ?? \"\"));\n\n        const room_id = newRoom!.data!.room_id;\n        history.push(`/home/room/${room_id}`)\n      } else if(newRoom.status === 404) {\n        // @ts-ignore\n        setError(newRoom?.message ?? \"Unexpected error occurred\")\n      }\n\n      setLoading(false);\n    }\n\n    const handleLabelChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      // @ts-ignore\n      const value = event?.target?.value ?? \"\";\n\n      setLabel(value);\n    }\n\n    const isSubmitDisabled = label.length === 0 || selected.length === 0 || loading;\n\n    return <div>\n      <Button variant=\"contained\" disableElevation onClick={handleClickOpen} className={classes.roomsButton}>{translated.conversation}</Button>\n        \n        <Dialog fullWidth onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n          <DialogTitle id=\"customized-dialog-title\">\n            {translated.createRoom}\n          </DialogTitle>\n          \n          <DialogContent dividers>\n            {error && <Alert severity=\"error\">{error}</Alert>}\n\n            <TextField disabled={loading} fullWidth id=\"outlined-basic\" label=\"Room name\" value={label} onChange={handleLabelChange} variant=\"outlined\" />\n\n            <Typography style={{marginTop: \"35px\"}} variant=\"h5\" >{translated.invite}</Typography>\n            \n            <AccountPicker disabled={loading} style={{margin: \"20px 0\"}} multiple value={selected} onChange={setSelected} />\n          </DialogContent>\n          \n          <DialogActions>\n            <Flex width=\"100%\" justifyContent=\"space-between\" alignItems=\"center\">\n              \n              {selected.length > 0 ? <Typography>Selected {selected.length} {selected.length > 1 ? \"friends\" : \"friend\"}</Typography>\n              : <Typography>Select a friend</Typography>}\n\n              <div>\n                <Button autoFocus onClick={handleClose} color=\"primary\">\n                  Close\n                </Button>\n                <Button disabled={isSubmitDisabled} autoFocus onClick={handleSubmit} color=\"primary\">\n                  Create\n                </Button>\n              </div>\n            </Flex>\n          </DialogActions>\n        </Dialog>\n    </div>\n\n\n}\n\n\n\nexport default CreateRoom;\n","import React from 'react';\nimport { Typography, Box, ListItem, Avatar, Grow } from \"@material-ui/core\";\nimport { AvatarGroup, Skeleton } from \"@material-ui/lab\";\nimport { useHistory } from \"react-router-dom\";\nimport { IRoom } from \"types\";\nimport useStyles from \"./styles\";\nimport { useAccount, useRoom } from 'api/hooks';\nimport { ensureArray } from 'utils/general';\nimport { useMessages } from 'api/messages';\nimport Account from \"api/models/Account.model\"\n\nexport const RoomsItem = (props: IRoom) => {\n    const history = useHistory();\n    const classes = useStyles();\n\n    const roomUri = `/home/rooms/room/${props.id}`;\n    const handleNavigation = () => history.push(roomUri);\n\n    const account = useAccount();\n    const room = useRoom(props.id, true);\n    const messages = useMessages(props.id);\n\n    if (!room || !room.accounts)\n        return <Box className={classes.roomItemWrapper}>\n            <Skeleton variant=\"rect\" width={160} height={28} />\n            <Skeleton variant=\"circle\" width={48} height={48} />\n        </Box>; \n\n    const lastMessage = Object.values(messages ?? {})[Object.keys(messages ?? {}).length - 1];\n\n    let lastMessageValue: string | null = lastMessage?.value ?? null;\n    try {\n        if (lastMessageValue)\n            lastMessageValue = atob(lastMessage.value);\n    } catch (err) {\n        lastMessageValue = null;\n        console.log(err);\n    }\n\n    const roomMembers = ensureArray(room?.accounts).filter(acc => acc.id !== account?.id).map(acc => new Account(acc));\n    const roomName = roomMembers.length > 1 ? props.label : roomMembers[0].name();\n\n    return <ListItem style={{ padding: 0 }} onClick={handleNavigation} >\n        <Grow in>\n            <Box className={classes.roomItemWrapper}>\n                <Box style={{ marginRight: \"10px\", maxWidth: \"220px\" }}>\n                    <Typography variant=\"h6\" style={{ fontSize: \"20px\" }}>{roomName}</Typography>\n                    {lastMessageValue && <Typography className={classes.lastMessageTypography}>{lastMessageValue}</Typography>}\n                </Box>\n                <AvatarGroup style={{}} max={3} spacing={16}>\n                    {roomMembers.map(accountsMapAvatars)}\n                </AvatarGroup>\n            </Box>\n        </Grow>\n    </ListItem>;\n};\n\nconst accountsMapAvatars = (account: Account) => {\n    return <Avatar alt={account.name()} src={account.avatar_url} >\n        {account.initials}\n    </Avatar>\n}","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { IRoom } from \"types\";\nimport { ensureArray } from 'utils/general';\nimport FloatingList from 'components/shared/FloatingList';\nimport { RoomsItem } from './RoomsItem';\nimport CreateRoom from './CreateRoom';\n\nconst Rooms = () => {\n    const history = useHistory();\n\n    const isRoomOpen = history.location.pathname.includes(\"/room/\");\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return <FloatingList\n        data={ensureArray(currentAccount?.rooms)}\n        renderItem={renderItem}\n        keyExtractor={keyExtractor}\n        ListHeaderComponent={<CreateRoom />}\n        expanded={isRoomOpen}\n    />\n}\n\nconst renderItem = ({ item }: { item: IRoom }) => <RoomsItem {...item} />;\nconst keyExtractor = ({ item }: { item: IRoom }) => item.id;\n\nexport default Rooms;","// Deps scoped imports.\nimport React from \"react\";\nimport { makeStyles, List, Box } from \"@material-ui/core\";\nimport cx from \"classnames\";\nimport * as CSS from \"csstype\";\n\n// Project scoped imports.\n\n// Component scoped imports.\nimport styles from \"./styles\";\n\n/**\n * Floating list component\n * @description This is used mostly on the home page for displaying rooms and friends etc...\n * @version 1.0.0\n */\nconst FloatingList = (props: FloatingListProps) => {\n    const classes = useStyles();\n\n    const classesMap = {\n        root: cx(classes.root, { [classes.expanded]: props.expanded, [classes.unexpanded]: !props.expanded }, props.className),\n        list: cx(classes.list)\n    }\n\n    return <Box className={classesMap.root} style={props.style}>\n        {props.ListHeaderComponent}\n\n        {props.data.length > 0 ?\n            <List className={classesMap.list}>\n\n                {props.data.map((item) =>\n                    <Box key={props.keyExtractor({ item })} style={props.itemWrapperStyle as any}>\n                        {props.renderItem({ item })}\n                    </Box>\n                )}\n\n            </List>\n            // If list is empty it will display the fallback component (if provided).\n            : props.ListEmptyComponent\n        }\n\n        {props.ListFooterComponent}\n    </Box>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype FloatingListProps<D = any> = {\n    className?: string;\n    style?: React.CSSProperties;\n\n    expanded?: boolean;\n\n    data: D[];\n    renderItem: ({ item }: { item: D }) => JSX.Element | JSX.Element[] | null;\n    keyExtractor: ({ item }: { item: D }) => string | number;\n\n    itemWrapperStyle?: CSS.Properties;\n\n    ListHeaderComponent?: JSX.Element | JSX.Element[] | null;\n    ListFooterComponent?: JSX.Element | JSX.Element[] | null;\n    ListEmptyComponent?: JSX.Element | JSX.Element[] | null;\n}\n\n// Time to export! \nexport default FloatingList;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        position: \"relative\",\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n\n        width: 385,\n        minWidth: 296,\n\n        backgroundColor: theme.palette.common.white,\n        boxShadow: theme.shadows[5],\n\n        overflow: \"hidden\",\n\n        transition: \"all 255ms ease\"\n    },\n    expanded: {\n        height: \"100%\",\n        maxHeight: \"100%\",\n\n        borderRadius: `${theme.shape.borderRadius * 3}px 0 0 0`,\n\n        margin: \"auto 0 auto\"\n    },\n    unexpanded: {\n        height: \"80vh\",\n        maxHeight: \"80vh\",\n\n        borderRadius: theme.shape.borderRadius * 3,\n\n        margin: \"auto 10px auto 0\"\n    },\n\n    list: {\n        position: \"relative\",\n\n        flex: 1,\n\n        overflow: \"auto\"\n    }\n}));","import { makeStyles } from \"@material-ui/core\";\n\nconst sidebarWidth = 86;\nconst sidebarMargin = 14;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"100vh\",\n        width: \"100vw\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"auto\"\n        }\n    },\n    container: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flexGrow: 2,\n        width: `calc(100% - ${sidebarWidth + sidebarMargin}px)`,\n        height: \"100%\"\n    },\n    sidebar: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: sidebarWidth,\n        marginRight: sidebarMargin,\n        height: \"100vh\",\n        padding: \"15px 0\",\n        background: \"linear-gradient(to right, rgba(0, 0, 0, 0.3), transparent)\"\n    },\n    backgroundImage: {\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        height: \"100vh\",\n        width: \"auto\",\n        minWidth: \"100%\",\n        zIndex: -2\n    },\n    backgroundImageBacklit: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        zIndex: -1,\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"rgba(0, 0, 0, .45)\"\n    },\n    mainSection: {\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100vh - 72px)\", // depends on appbar height.\n        [theme.breakpoints.down(\"sm\")]: {\n            flexDirection: \"column-reverse\",\n            justifyContent: \"flex-start\",\n            alignItems: \"center\"\n        }\n    }\n}));\n\nexport default useStyles;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  menuIcon: {\n    fontSize: \"40px\",\n    cursor: \"pointer\",\n    color: \"white\",\n    \"& svg\": {\n      boxShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\",\n    },\n  },\n  menu: {\n    marginTop: \"10vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    color: \"#FFF\"\n  },\n  icon: {\n    margin: \"10px auto\",\n  }\n}));\n\nexport default useStyles;\n","\n\nconst translations = {\n    people: {\n        en_US: \"Friends\",\n        de_DE: \"Freunde\",\n        pl_PL: \"Znajomi\"\n    },\n    rooms: {\n        en_US: \"Rooms\",\n        de_DE: \"Rume\",\n        pl_PL: \"Pokoje\"\n    }\n}\n\nexport default translations;","import React from \"react\";\nimport useStyles from \"./styles\";\nimport { Box, IconButton, Icon, Tooltip } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { useLittera } from \"react-littera\";\n\nimport translations from \"./trans\";\n\nconst Menu = () => {\n  const translated = useLittera(translations);\n  const classes = useStyles();\n  const history = useHistory();\n\n  const handleNavigation = (path: string) => () => {\n    history.push(path);\n  }\n\n  const checkActive = (label: \"people\" | \"rooms\") => history.location.pathname.includes(label);\n\n  return (\n    <Box className={classes.menu}>\n\n      <MenuItem isActive={checkActive(\"people\")} onNavigation={handleNavigation(\"/home/people\")} icon=\"people\" label={translated.people} />\n      <MenuItem isActive={checkActive(\"rooms\")} onNavigation={handleNavigation(\"/home/rooms\")} icon=\"chat\" label={translated.rooms} />\n\n    </Box>\n  );\n};\n\nconst MenuItem = (props: { onNavigation: () => void; isActive: boolean, icon: string, label: string }) => {\n  const classes = useStyles();\n\n  const color = props.isActive ? \"primary\" : \"inherit\";\n\n  return <Tooltip title={props.label}>\n    <IconButton aria-label={props.label} color={color} classes={{ root: classes.icon }} onClick={props.onNavigation}>\n      <Icon>{props.icon}</Icon>\n    </IconButton>\n  </Tooltip>\n}\n\nexport default Menu;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n\n  },\n\n  profileContainer: {\n    width: \"40vw\",\n    minWidth: '250px',\n    height: '55vh',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n  head: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: \"center\",\n  },\n\n  imgContainer: {\n    position: 'absolute',\n    top: 0,\n    right: '50%',\n    transform: 'translate(50%, -50%)',\n  },\n\n  img: {\n    borderRadius: '50%',\n    width: '150px',\n    height: '150px',\n    boxShadow: 'rgba(14, 30, 37, 0.12) 0px 2px 4px 0px, rgba(14, 30, 37, 0.32) 0px 2px 16px 0px',\n  },\n\n  topData: {\n    textAlign: 'center',\n  },\n\n  name: {\n    marginTop: theme.spacing(2),\n    fontWeight: 500,\n  },\n\n  nickName: {\n    fontSize: '15px',\n    opacity: 0.7,\n  },\n\n  detailsContainer: {\n    flex: '1',\n    padding: '30px 20px 30px 20px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n\n  label: {\n    marginBottom: '3px',\n    opacity: 0.7,\n    fontSize: '13px',\n    textTransform: 'uppercase',\n  },\n\n  detail: {\n    marginBottom: '19px',\n    paddingBottom: '3px',\n    borderBottom: '1px solid #e3e3e3',\n    fontWeight: 500,\n  },\n\n  verify: {\n    fontSize: '14px',\n    color: '#fc2626',\n\n  },\n}));\n\nexport default useStyles;","// * Translations\nconst translations = (preset: any) => ({\n\n    fullName: {\n        en_US: \"Full name\",\n        pl_PL: \"Imi i nazwisko\",\n        de_DE: \"Name und Nachname\",\n    },\n\n    birthDate: {\n        en_US: \"Date of birth\",\n        pl_PL: \"Data urodzenia\",\n        de_DE: \"Geburtsdatum\", \n    },\n\n    sex: {\n        en_US: \"Sex\",\n        pl_PL: \"Pe\",\n        de_DE: \"Geschlecht\",\n    },\n\n    email: {\n        en_US: \"E-Mail Address\",\n        pl_PL: \"Adres E-Mail\",\n        de_DE: \"E-Mail-Adresse\",\n    },\n\n    edit: {\n        en_US: \"Edit\",\n        pl_PL: \"Edytuj\",\n        de_DE: \"Bearbeiten\",\n    },\n\n    M: {\n        en_US: \"Male\",\n        pl_PL: \"Mczyzna\",\n        de_DE: \"Mann\",\n    },\n\n    F: {\n        en_US: \"Female\",\n        pl_PL: \"Kobieta\",\n        de_DE: \"Frau\",\n    },\n\n    O: {\n        en_US: \"Other\",\n        pl_PL: \"Inna\",\n        de_DE: \"Anderes\",\n    },\n\n    warning: {\n        en_US: \"Address not verified\",\n        pl_PL: \"Adres niezweryfikowany\",\n        de_DE: \"Adresse nicht verifiziert\",\n    },\n\n    notGiven: {\n        en_US: \"Not provided\",\n        pl_PL: \"Nie podano\",\n        de_DE: \"Nicht vorhanden\"\n    },\n\n    signOut: {\n        en_US: \"Sign Out\",\n        pl_PL: \"Wyloguj si\",\n        de_DE: \"Ausloggen\",\n    },\n\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography, Button, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, Box } from \"@material-ui/core\";\nimport { useAccount } from \"api/hooks\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport cx from \"classnames\";\n\n\n/**\n * Profile page component.\n */\n\nconst Profile = (props: ProfileDrawerProps) => {\n  const [translated] = useLittera(translations);\n  const classes = useStyles();\n\n  const currentAccount = useAccount(undefined, true);\n\n  if (!currentAccount || !currentAccount.isValid) return null;\n\n  const translatedSex = translated[currentAccount?.details?.sex || 'notGiven'];\n\n  return (\n    <Box className={cx(classes.root, props.className)} style={props.style}>\n\n      <Dialog open={props.open} onClose={props.onClose} maxWidth='xl' scroll='paper' PaperProps={{ style: { overflowY: 'visible' } }}>\n        <DialogTitle id=\"scroll-dialog-title\">\n          <Box className={classes.imgContainer}>\n            <img alt=\"profile avatar\" src={currentAccount.avatar_url} className={classes.img} />\n          </Box>\n          <Box className={classes.head}>\n            <Button variant='text' >\n              {translated.edit}\n            </Button>\n            <DialogActions><IconButton onClick={props.onClose}><CloseIcon /></IconButton></DialogActions>\n          </Box>\n          <Box className={classes.topData}>\n            <Typography className={classes.name} variant=\"h4\">{currentAccount.name()}</Typography>\n            <Typography className={classes.nickName}>{currentAccount.label}</Typography>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <Box className={classes.profileContainer}>\n            <Box className={classes.detailsContainer}>\n              <DetailComponent\n                label={translated.fullName}\n                value={currentAccount.name(\"first_name\", \"middle_name\", \"last_name\")} />\n              <DetailComponent\n                label={translated.birthDate}\n                value={currentAccount?.details?.birthdate} />\n              <DetailComponent\n                label={translated.email}\n                value={currentAccount?.contact?.email}\n                warning={currentAccount?.flags?.includes('verify_email')} />\n              <DetailComponent\n                label={translated.sex}\n                value={translatedSex} />\n            </Box>\n          </Box>\n        </DialogContent>\n      </Dialog>\n    </Box >\n  )\n}\n\n// Props the component accepts.\n\ntype ProfileDrawerProps = {\n  className?: string;\n  style?: React.CSSProperties;\n  open: boolean;\n  onOpen: () => void;\n  onClose: () => void;\n}\n\nconst DetailComponent = ({ label, value, warning }: { label: string, value?: any, warning?: boolean }) => {\n  const classes = useStyles();\n  const translated = useLittera(translations);\n  if (value === undefined) return null;\n\n  return <Box>\n    <Typography className={classes.label} variant=\"h5\">\n      {label}\n    </Typography>\n    {warning && <span className={classes.verify} > {translated.warning} </span>}\n    <Typography className={classes.detail}>\n      {value}\n    </Typography>\n  </Box>\n}\n\n\nexport default Profile;","// Here we define translations for the component.\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    title: {\n        de_DE: \"Einstellungen\",\n        en_US: \"Settings\",\n        pl_PL: \"Ustawienia\"\n    }\n}","// Deps scoped imports.\nimport React from \"react\";\nimport { Drawer, IconButton, makeStyles, Typography } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport { useLittera } from \"react-littera\";\nimport cx from \"classnames\";\n\n// Project scoped imports.\nimport { useDispatch, useStore } from \"store/hooks\";\nimport { setBackgroundTheme } from \"store/actions\";\nimport Flex from \"components/utils/Flex\";\nimport { backgroundThemes } from \"utils/backgroundThemes\";\n\n// Component scoped imports.\nimport styles from \"./styles\";\nimport translations from \"./trans\";\n\n/**\n * Settings drawer component.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst SettingsDrawer = (props: SettingsDrawerProps) => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    return <div className={cx(classes.root, props.className)} style={props.style}>\n        <Drawer open={props.open} anchor=\"right\" onClose={props.onClose} className={classes.drawer} keepMounted>\n            <div className={classes.paperDrawer}>\n                <Flex alignItems=\"center\" justifyContent=\"space-between\" style={{ marginBottom: \"10px\" }}>\n                    <Typography variant=\"h4\">{translated.title}</Typography>\n                    <IconButton onClick={props.onClose}><CloseIcon /></IconButton>\n                </Flex>\n\n                <ThemeSettings />\n                <VersionSettings />\n            </div>\n        </Drawer>\n    </div>\n}\n\nconst VersionSettings = () => {\n\n    return <div style={{ margin: \"20px 0\" }}>\n        <Typography variant=\"h5\" gutterBottom>Version</Typography>\n        <Typography>{process.env.REACT_APP_VERSION ?? \"0.0.0-dev.0\"}</Typography>\n        <Typography>{process.env.REACT_APP_BUILD_TIME ?? new Date().toDateString()}</Typography>\n    </div>\n}\n\nconst ThemeSettings = () => {\n    // @ts-ignore\n    const bgTheme = useStore(state => state.preferences?.backgroundTheme);\n    const dispatch = useDispatch();\n\n    const setTheme = (index: number) => {\n        dispatch(setBackgroundTheme(backgroundThemes[index]))\n        localStorage.setItem('background-theme', backgroundThemes[index].id)\n    }\n\n    return <div style={{ margin: \"20px 0\" }}>\n        <Typography variant=\"h5\" gutterBottom>Theme</Typography>\n\n        <Flex flexWrap=\"wrap\">\n            {backgroundThemes.map((theme, index) => <ThemePanel key={theme.id} setTheme={() => setTheme(index)} active={(bgTheme?.id?.toString() || '1922729') === theme.id} {...theme} />)}\n        </Flex>\n    </div>\n}\n\nconst ThemePanel = (props: { id: string, label: string, url: string, setTheme: () => void, active: boolean }) => {\n\n    return <div style={{ margin: \"0 5px\", cursor: 'pointer' }} onClick={props.setTheme}>\n        <div style={{ width: \"200px\", height: \"125px\", overflow: \"hidden\", borderRadius: \"8px\" }}>\n            <img src={`${props.url}200x125`} alt=\"theme thumbnail\" />\n        </div>\n        <p style={{ marginTop: \"5px\", fontWeight: props.active ? \"bold\" : \"normal\" }}>{props.label}</p>\n    </div>\n}\n\n// Creates a hook for generating classnames.\n// @ts-ignore\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype SettingsDrawerProps = {\n    className?: string;\n    style?: React.CSSProperties\n    open: boolean;\n    onOpen: () => void;\n    onClose: () => void;\n}\n\n// Time to export! \nexport default SettingsDrawer;","// Here we define styles for the component.\n\nimport { Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => ({\n    root: {\n        // Container styles...\n    },\n    h2: {\n        // Head text styles...\n        color: \"#000\"\n    },\n    drawer: {\n        //width: \"40vw\"\n    },\n    paperDrawer: {\n        position: \"relative\", padding: \"10px 20px\",\n        width: \"40vw\"\n    }\n}));","// Here we define translations for the component.\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    example: {\n        en_US: \"Example\",\n        de_DE: \"Beispiel\",\n        pl_PL: \"Przykad\"\n    },\n    signOut: {\n        en_US: \"Sign out\",\n        de_DE: \"Ausloggen\",\n        pl_PL: \"Wyloguj si\"\n\n    },\n    manageAccount: {\n        en_US: \"Manage account\",\n        de_DE: \"Konto verwalten\",\n        pl_PL: \"Zarzdzaj kontem\"\n\n    },\n    settings: {\n        de_DE: \"Einstellungen\",\n        en_US: \"Settings\",\n        pl_PL: \"Ustawienia\"\n    }\n}","// Deps scoped imports.\nimport React, { useState } from \"react\";\nimport { Avatar, Box, Icon, List, ListItem, ListItemIcon, ListItemText, makeStyles, Popover, Typography } from \"@material-ui/core\";\nimport cx from \"classnames\";\nimport { useDispatch } from \"store/hooks\";\nimport { useLittera } from \"react-littera\";\n\n// Project scoped imports.\nimport { Profile } from \"components/pages\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useStorageSetter } from \"storage/hooks\";\nimport { signOut } from \"api/auth\";\nimport SettingsDrawer from \"components/common/SettingsDrawer\";\nimport { useAccount } from \"api/hooks\";\n\n// Component scoped imports.\nimport translations from \"./trans\"\nimport styles from \"./styles\";\n\n/**\n * Menu Popover\n * @description The popover showed when clicking on own profile picture.\n * @version 1.0.0\n */\nconst MenuPopover = (props: MenuPopoverProps) => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const [shownSettingsDrawer, setShownSettingsDrawer] = useState(false);\n    const openSettingsDrawer = () => setShownSettingsDrawer(true);\n    const closeSettingsDrawer = () => setShownSettingsDrawer(false);\n\n    const [shownProfileDrawer, setShownProfileDrawer] = useState(false);\n    const openProfileDrawer = () => setShownProfileDrawer(true);\n    const closeProfileDrawer = () => setShownProfileDrawer(false);\n\n    const currentAccount = useAccount();\n\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? 'profile-popover' : undefined;\n\n    const storageSetter = useStorageSetter();\n    const storeDispatch = useDispatch();\n\n    const handleSignOut = async () => {\n        await signOut();\n        storageSetter(\"accountIdToken\");\n        storeDispatch(setCurrentAccount(null));\n        window.location.reload(true);\n    };\n\n    return <>\n        {currentAccount &&\n            <Box className={classes.avatarWrapper}>\n                <Avatar variant=\"circle\" aria-describedby={id} className={classes.avatar} alt={currentAccount?.name()} src={currentAccount?.avatar_url} onClick={handleClick} />\n            </Box>\n        }\n\n        <Popover\n            id={id}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={handleClose}\n            classes={{\n                root: cx(classes.root, props.className),\n                paper: classes.popoverPaper\n            }}\n            style={props.style}\n            anchorReference=\"anchorEl\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'right',\n            }}\n            transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n            }}\n        >\n            <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\n                <Box className={classes.header} display=\"flex\" flexDirection=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\n                    <Avatar className={classes.avatarBig} alt={currentAccount?.name()} src={currentAccount?.avatar_url} />\n                    <Typography variant=\"h5\">{currentAccount?.name()}</Typography>\n                    <Typography style={{ opacity: 0.6 }}>{currentAccount?.contact?.email}</Typography>\n                </Box>\n\n                <List aria-label=\"profile settings signout\" style={{ width: \"88%\" }}>\n                    <ListItem button onClick={() => { openProfileDrawer(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>person</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.manageAccount} />\n                    </ListItem>\n\n                    <ListItem button onClick={() => { openSettingsDrawer(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>settings</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.settings} />\n                    </ListItem>\n\n                    <ListItem button onClick={() => { handleSignOut(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>lock</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.signOut} />\n                    </ListItem>\n                </List>\n            </Box>\n        </Popover>\n\n        <Profile open={shownProfileDrawer} onClose={closeProfileDrawer} onOpen={openProfileDrawer} />\n        <SettingsDrawer open={shownSettingsDrawer} onClose={closeSettingsDrawer} onOpen={openSettingsDrawer} />\n    </>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype MenuPopoverProps = {\n    className?: string;\n    style?: React.CSSProperties;\n}\n\n// Time to export! \nexport default MenuPopover;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        // Container styles...\n        marginTop: \"10px\"\n    },\n    h4: {\n        // Head text styles...\n        color: theme.palette.primary.main\n    },\n    avatar: {\n        cursor: \"pointer\",\n        position: \"relative\",\n        width: theme.spacing(10),\n        height: theme.spacing(10),\n    },\n    avatarWrapper: {\n        marginLeft: \"15px\",\n        borderRadius: 100,\n        borderWidth: \"3px\",\n        borderStyle: \"solid\",\n        borderColor: theme.palette.primary.main,\n        padding: 3,\n\n    },\n    avatarBig: {\n        cursor: \"pointer\",\n        width: \"82px\",\n        height: \"82px\",\n        position: \"relative\",\n        marginBottom: theme.spacing(4)\n    },\n    popoverPaper: {\n        width: \"288px\",\n        borderRadius: \"10px\"\n    },\n    header: {\n        padding: `${theme.spacing(5)}px ${theme.spacing(4)}px`,\n    },\n\n}));","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        textAlign: \"left\",\n        margin: \"0 0\",\n        textShadow: \"1px 3px 4px rgba(0, 0, 0, .3)\",\n        fontFamily: \"'Montserrat', sans-serif\",\n        fontWeight: 600\n    },\n}));\n\nexport default useStyles;\n","import { Typography, TypographyProps } from \"@material-ui/core\";\nimport useStyles from \"./styles\";\nimport React from \"react\";\n\ntype LogoProps = {\n    typographyProps?: TypographyProps,\n    style?: Object\n    onClick?: () => void;\n}\n\nconst Logo = (props: LogoProps) => {\n    const classes = useStyles();\n\n    const style = {\n        ...props.style,\n        // Set cursor to pointer if the Logo is clickable.\n        cursor: props.onClick ? \"pointer\" : \"initial\"\n    }\n\n    return <Typography onClick={props.onClick} variant=\"h2\" className={classes.root} style={style} {...props.typographyProps}>Circles</Typography>\n}\n\nexport default Logo;","// Deps scoped imports.\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\n\n// Project scoped imports.\nimport MenuPopover from \"./MenuPopover\";\nimport Logo from \"../Logo\";\nimport Flex from \"components/utils/Flex\";\n\n// Component scoped imports.\nimport styles from \"./styles\";\n\n/**\n * Example component\n * @description This is an example component including translations and theming.\n * @version 1.0.0\n */\nconst TopMenu = (props: TopMenuProps) => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const handleNavigation = (path: string) => () =>\n        history.push(path)\n\n    return <section className={classes.root} style={props.style}>\n        <Logo style={{ fontSize: \"56px\", margin: \"16px 0\" }} onClick={handleNavigation('/home/rooms')} />\n        <Flex justifyContent=\"flex-end\" alignItems=\"center\" className={classes.menuBar}>\n            <MenuPopover />\n        </Flex>\n    </section>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype TopMenuProps = {\n    className?: string;\n    style?: React.CSSProperties\n}\n\n// Time to export! \nexport default TopMenu;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"72px\",\n        width: \"100%\",\n        margin: \"0 auto\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        color: \"white\",\n    },\n    menuBar: {\n        marginRight: \"3vw\"\n    },\n\n}));","import React, { useEffect } from 'react';\nimport useStyles from \"./styles\";\nimport { Route, useHistory } from 'react-router-dom';\nimport { useStore } from 'store/hooks';\nimport { backgroundThemes } from 'utils/backgroundThemes';\nimport Menu from '../Menu';\nimport TopMenu from 'components/common/TopMenu';\n\nconst HighlightsLazy = React.lazy(() => import(\"../Highlights/\"));\nconst RoomLazy = React.lazy(() => import(\"../Room/\"));\n\nconst RoomsLazy = React.lazy(() => import(\"../Rooms/\"));\nconst PeopleLazy = React.lazy(() => import(\"../People/\"));\n\nfunction Home() {\n  const classes = useStyles();\n  const history = useHistory();\n\n  // @ts-ignore\n  const bgTheme = useStore(state => state?.preferences?.backgroundTheme || backgroundThemes[0])\n\n  useEffect(() => {\n    history.push(\"/home/rooms\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <section className={classes.root}>\n        <div className={classes.sidebar}>\n          <Menu />\n        </div>\n        <div className={classes.container}>\n          <TopMenu />\n          <main className={classes.mainSection}>\n            {/* new conversation and Layouts for home screen */}\n            <Route path=\"/home/rooms\" component={RoomsLazy} />\n            <Route path=\"/home/people\" component={PeopleLazy} />\n            <Route path={[\"/home/rooms/room/:id\", \"/home/people/room/:id\"]} component={RoomLazy} />\n\n            <HighlightsLazy />\n          </main>\n        </div>\n      </section>\n      <div className={classes.backgroundImageBacklit}></div>\n      <div\n        className={classes.backgroundImage}\n        style={{\n          backgroundImage: `url(${bgTheme?.url}${window.innerWidth}x${window.innerHeight})`,\n        }}\n      ></div>\n    </>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}