{"version":3,"sources":["store/hooks.ts","store/reducer.ts","api/commands.ts","components/utils/Flex.tsx","utils/hooks/general.ts","api/hooks.ts","store/actions.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","api/client.ts","api/utils.ts","api/models/Account.model.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","config/config.ts","assets/wave.svg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","assets/personal.svg","components/pages/Welcome/index.tsx"],"names":["useStore","stateFn","context","useContext","StoreContext","useMemo","useDispatch","useRef","action","console","log","type","payload","setStore","state","changes","currentAccount","preferences","backgroundTheme","reduceState","current","AccountInfo","account_id","flags","rooms","friends","checkType","status","data","checkField","contact","created_at","Date","Command","AccountChange","JSON","stringify","AccountList","included","volume","AccountLogin","token","RoomInfo","room_id","accounts","RoomCreate","label","invite","AccountGetSuggestions","Flex","props","reducedProps","_props","args","key","includes","reduceProps","style","Object","freeze","display","rootEl","rootComponent","React","createElement","cloneElement","onClick","className","children","useForkedState","fn","ref","signal","useSignal","value","setState","val","useEffect","useRestrictedPage","condition","path","history","useHistory","push","useRestrictedPageForCurrentAccount","useState","updateState","useCallback","HOST_URL","config","host_url","cli","Client","useCommand","command","a","_args","execute","rq","useDispatchCommand","useAccount","updateStore","options","undefined","dispatchStore","dispatchCommand","id","contacts","accountInfoRq","acc","Account","setCurrentAccount","useRoom","roomInfoRq","updateCurrentAccount","setBackgroundTheme","theme","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","call","e","url","this","entries","map","join","Promise","resolve","reject","once","cmd","exec","makeArguments","reqUrl","headers","Headers","fetch","mode","then","response","json","parsed_response","catch","isLoaded","request","arrayToStringList","arr","replace","name","t","Array","isArray","types","Error","obj","field","account","avatar_url","details","include","inc","filter","Boolean","_toConsumableArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","_inherits","subClass","superClass","create","constructor","_construct","Parent","Class","apply","Function","bind","arguments","_getPrototypeOf","getPrototypeOf","_typeof","_possibleConstructorReturn","self","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","NewTarget","useStyles","makeStyles","root","position","maxWidth","breakpoints","values","md","margin","padding","spacing","inputWrapper","wave","zIndex","bottom","left","width","height","personalImage","right","up","imgContainer","overflow","background","palette","primary","dark","main","welcomeTitle","color","translations","preset","title","en_US","pl_PL","de_DE","yes","Welcome","useLittera","translated","classes","labelField","setLabelField","first_name","firstNameField","setFirstNameField","middle_name","middleNameField","setMiddleNameField","last_name","lastNameField","setLastNameField","birthdate","dateOfBirth","setDateOfBirth","sex","setSex","handleChange","event","handleSubmit","parse","alert","src","personalInformationImage","alt","waveAsset","Typography","variant","opacity","marginBottom","paragraph","paddingBottom","flexDirection","TextField","onChange","helperText","defaultValue","InputLabelProps","shrink","Button","float"],"mappings":"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","file":"static/js/8.1b77b1e5.chunk.js","sourcesContent":["import { useContext, useRef, useMemo } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return useMemo(() => stateFn(context[0]), [context, stateFn]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"ðŸ“\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n        \n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n\n            case \"SET_BACKGROUND_THEME\":\n                // TODO: Make sure to initialize preferences before accessing reducer...\n                if (!changes.preferences) changes.preferences = {};\n                // @ts-ignore\n                changes.preferences.backgroundTheme = { ...action.payload } as { id: string, url: string, label: string }\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","import { Command } from \"./client\";\nimport { IAccount } from \"types\";\nimport { checkField, checkType } from \"./utils\";\n\nexport class AccountInfo extends Command {\n    constructor(account_id: string, flags?: boolean, rooms?: boolean, friends?: boolean) {\n        super([\"account-accountInfo\", { account_id, flags: !!flags, rooms: !!rooms, friends: !!friends }]);\n\n        checkType(\"account_id\", account_id, \"string\");\n\n        checkType(\"flags\", flags, \"boolean\", \"undefined\");\n        checkType(\"rooms\", rooms, \"boolean\", \"undefined\");\n        checkType(\"friends\", friends, \"boolean\", \"undefined\");\n    }\n\n    parse(status: number, data: IAccount): IAccount {\n        if(status !== 200) return data;\n\n        checkType(\"data\", data, \"object\");\n\n        checkField(data, \"id\", \"string\");\n        checkField(data, \"label\", \"string\");\n        checkField(data, \"created_at\", \"string\");\n        checkField(data, \"avatar_url\", \"string\", \"undefined\");\n\n        checkField(data, \"contact\", \"object\");\n        if (data.contact)\n            checkField(data.contact, \"email\", \"string\");\n\n        checkField(data, \"details\", \"object\");\n        checkField(data, \"flags\", \"object\", \"undefined\");\n        checkField(data, \"friends\", \"array\", \"undefined\");\n        checkField(data, \"rooms\", \"array\", \"undefined\");\n        \n        return { ...data, created_at: new Date(data.created_at) };\n    }\n}\n\nexport class AccountChange extends Command {\n    constructor(account_id: string, changes: { label?: string, name?: string, surname?: string }) {\n        super([\"account-accountChange\", {account_id, changes: JSON.stringify(changes)}]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountList extends Command {\n    constructor(included?: string[], volume?: number) {\n        super([\"account-accountList\", { volume, included }]);\n\n        checkType(\"volume\", volume, \"number\", \"undefined\");\n        checkType(\"included\", included, \"array\", \"undefined\");\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountCreate extends Command {\n    constructor(data: {email: string, password: string, label?: string}) {\n        super([\"account-accountCreate\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountLogin extends Command {\n    constructor(token: string) {\n        super([\"account-accountLogin\", { token }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountFind extends Command {\n    constructor(data: { email?: string, label?: string }) {\n        super([\"account-accountFind\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountAddContact extends Command {\n    constructor(data: {account_id: string, contact_id: string}) {\n        super([\"account-accountAddContact\", data]);\n    }   \n    \n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n        \n        return data;\n    }\n}\n\nexport class RoomInfo extends Command {\n    constructor(room_id: string, accounts?: boolean) {\n        super([\"room-roomInfo\", { room_id, accounts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class RoomCreate extends Command {\n    constructor(account_id: string, label: string, invite: string[]) {\n        super([\"room-roomCreate\", { label, invite: [...invite, account_id] }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountGetSuggestions extends Command{\n    // deepcode ignore no-any: Type declaration of 'any' loses type-safety\n    constructor(account_id: string){\n        super([\"account-accountGetSuggestions\", {account_id}]);\n    };\n\n    parse(status: number, data: any){\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n\n}\n","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  onClick?: () => void\n  rootComponent?: React.Component\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n      display: \"flex\",\n      ...reducedProps,\n      ...props.style\n  });\n\n  const rootEl = props.rootComponent ?? React.createElement(\"div\");\n\n  return React.cloneElement(rootEl as React.ReactElement<any>, { onClick: props.onClick, style, className: props.className, children: props.children });\n}\n\nexport default Flex;","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\n/**\n * Redirect to page if condition met\n * @param path for redirect\n * @param condition\n */\nexport const useRestrictedPage = (condition: boolean, path: string = \"/home\" ) => {\n    const history = useHistory();\n    useEffect(() => {\n        if (condition) \n            history.push(path)\n        \n    }, [condition, path, history]);\n}\n\n/**\n * Redirect to page if current account is active\n * @param path for redirect\n */\nexport const useRestrictedPageForCurrentAccount = (path: string = \"/home\") => {\n    const currentAccount = useStore(state => state.currentAccount);\n    useRestrictedPage(!!currentAccount, path)\n}\n\n\n\nexport const useSignal = () => {\n    const [, updateState] = useState();\n    // @ts-ignore\n    return useCallback(() => updateState({}), []);\n}\n","import { useRef, useEffect } from 'react';\nimport { Client } from './client';\nimport { useSignal } from '../utils/hooks/general';\nimport config from '../config/config';\nimport { IRoom } from 'types';\nimport { AccountInfo, RoomInfo } from './commands';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { setCurrentAccount } from 'store/actions';\nimport Account from \"./models/Account.model\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\nexport const useCommand = (command: any, ...args: any[]) => {\n    const ref = useRef(null as unknown as { status: number, data?: any, message?: string });\n    const signal = useSignal();\n\n    useEffect(() => {\n        ref.current = { status: 102 };\n        \n        const fn = async () => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            ref.current = rq;\n            signal();\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    return ref.current;\n}\n\n/**\n * \n * @param command \n * @param args \n * @example\n * const dispatchCommand = useDispatchCommand();\n * ...\n * dispatchCommand(AccountCreate, \"mike.eling97@gmail.com\", \"ThisIsMyPassBro\")\n */\nexport const useDispatchCommand = () => {\n    const ref = useRef(null as unknown as (command: any, ...args: any[]) => Promise<{ status: number, data: any }>);\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        \n        const fn = async (command: any, ...args: any[]) => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            signal();\n            return rq;\n        }\n        ref.current = (command: any, ...args: any[]) => fn(command, ...args);\n    }\n    \n    return ref.current;\n}\n\nexport const useAccount = (account_id?: string, updateStore: boolean = false, options?: { rooms?: boolean, flags?: boolean, contacts?: boolean }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n    const ref = useRef<Account | null | undefined>(!account_id ? currentAccount ?? undefined : undefined);\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const accountInfoRq = (await dispatchCommand(AccountInfo, account_id || currentAccount?.id, options?.flags, options?.rooms, options?.contacts ));\n            \n            if(accountInfoRq.status === 200) {\n                const acc = new Account({ id: account_id || currentAccount?.id, ...accountInfoRq.data });\n\n                ref.current = acc as Account | null;\n                if (updateStore) dispatchStore(setCurrentAccount(acc));\n                signal();\n            }\n        }\n    \n        if(account_id || currentAccount?.id)\n            fn();\n            \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [account_id]);\n    \n    return ref.current ?? null;\n}\n\nexport const useRoom = (room_id: string, accounts?: boolean) => {\n    const ref = useRef<IRoom | null | undefined>();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const roomInfoRq = (await dispatchCommand(RoomInfo, room_id, !!accounts));\n\n            if(roomInfoRq.status === 200) {\n                ref.current = roomInfoRq.data as IRoom | null;\n                signal();\n            }\n        }\n\n        if(room_id) fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n    \n    return ref.current ?? null;\n}","import { IAccount } from \"types\";\nimport config from \"config/config\";\nimport { AccountInfo } from \"api/commands\";\nimport { Client } from \"api/client\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\n/**\n * Set current account.\n * @param payload Account info.\n * @see api/commands/AccountInfo\n */\nexport const setCurrentAccount = (payload: IAccount | null) => {\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Update current account.\n * @param payload account_id\n * @see api/commands/AccountInfo\n */\nexport const updateCurrentAccount = async (account_id: string) => {\n    const rq = await cli.execute(new AccountInfo(account_id, true, true, true))\n\n    const payload: IAccount = rq.data;\n\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Set background theme.\n * @param theme \n */\nexport const setBackgroundTheme = (theme: { id: string, url: string, label: string }) => {\n    return ({ type: \"SET_BACKGROUND_THEME\", payload: theme });\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export type TResponse = {status: number, message?: string, data: any};\n\nexport interface IClient {\n    url: string\n}\n\nexport class Client implements IClient {\n    url: string\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    makeArguments(args: {[key: string]: string}) {\n        return Object.entries(args).map((e => `${e[0]}=${typeof e[1] === \"object\" ? JSON.stringify(e[1]) : e[1]}`)).join(\"&\");\n    }\n\n    execute(command: ICommand) {\n        return new Promise<{status: number, data: any}>((resolve, reject) => {\n            let once = false;\n            const cmd = command.exec[0];\n            const args = this.makeArguments(command.exec[1]);\n    \n            const reqUrl = `${this.url}${cmd}?${args}`;\n\n            const handleResolve = (response: any) => {\n                if(!once) {\n                    once = true;\n                    \n                    const parsed_response = response\n                    \n                    console.log(\"ðŸ“¶\", cmd, \"=>\", parsed_response);\n                    resolve(parsed_response);\n                }\n                \n            }\n\n            let headers = new Headers({\n                'Access-Control-Allow-Origin':'*',\n                'Content-Type': 'multipart/form-data'\n            });\n\n            fetch(reqUrl, { mode: \"cors\", headers })\n                .then(response => response.json())\n                .then(handleResolve)\n                .catch(reject);\n        })\n    }\n}\n\n\nexport interface ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    parse(status: number, data: any): any\n}\n\nexport class Command implements ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    constructor(exec: [string, {[key: string]: any}]) {\n        this.exec = exec;\n        this.status = 0;\n    }\n\n    parse(status: number, data: any) {\n        return data;\n    }\n}","export const isLoaded = (request: any) => {\n    return request !== null && request.status !== 102\n}\n\nconst arrayToStringList = (arr: string[]) => \n        arr.toString().replace(/,/g, \", \")\n\ntype TType = \"string\" | \"number\" | \"bigint\" | \"boolean\" | \"symbol\" | \"undefined\" | \"object\" | \"function\" | \"null\" | \"array\";\n\n/**\n * Throws an exception if the types are not correct.\n * @param name \n * @param value \n * @param types \n */\nexport const checkType = (name: string, value: any, ...types: TType[]) => {\n    let t: TType = typeof value;\n\n    if (t === \"object\")\n        if (value === null)\n            t = \"null\";\n        else if (Array.isArray(value))\n            t = \"array\";\n\n    if (!types.includes(t))\n        throw new Error(`Expected ${arrayToStringList(types)} for ${name}, got ${typeof value}`)\n\n    return value;\n}\n\n/**\n * Same as checkType but accepts an parent object.\n * @param obj \n * @param field \n * @param types \n */\nexport const checkField = <T, K extends keyof T>(obj: T, field: K, ...types: TType[]) => {\n    let val = obj[field];\n    checkType(field as string, val, ...types);\n    return val;\n}","import { Dictionary, TAccountDetails, IRoom, IFriend } from \"types\";\n\n/**\n * Model representing an Account.\n */\nclass Account {\n    id: string;\n    label: string;\n    created_at: Date;\n    contact: Dictionary<string>;\n    avatar_url?: string;\n\n    details: TAccountDetails;\n\n    flags?: string[];\n    rooms?: IRoom[];\n    friends?: IFriend[];\n\n    constructor(account: Dictionary<any>) {\n        this.id = account.id;\n        this.label = account.label;\n        this.created_at = new Date(account.created_at);\n        this.contact = account.contact ?? [];\n        this.avatar_url = account.avatar_url;\n        this.details = account.details ?? {};\n        this.flags = account.flags;\n        this.rooms = account.rooms;\n        this.friends = account.friends;\n    }\n\n    get isValid() {\n        return Boolean(this.id && this.label)\n    }\n\n    name(...include: (\"first_name\" | \"last_name\" | \"middle_name\")[]) {\n        if (!include || include.length <= 0) include = [\"first_name\", \"last_name\"];\n\n        return include.map(inc => this?.details?.[inc] ?? null).filter(inc => !!inc).join(\" \") ?? this.label;\n    }\n}\n\nexport default Account;","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","const config = {\n    host_url: \"https://us-central1-ping-82fee.cloudfunctions.net/\" //\"http://localhost:5001/ping-82fee/us-central1/\" //\n};\n\nexport default config;","export default __webpack_public_path__ + \"static/media/wave.f70c3bfc.svg\";","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/personal.ebfa5829.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport Account from \"api/models/Account.model\";\n\ntype EditableField = \"label\" | \"first_name\" | \"middle_name\" | \"last_name\" | \"birthday\" | \"sex\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [firstNameField, setFirstNameField] = useState(currentAccount?.details?.first_name ?? \"\");\n    const [middleNameField, setMiddleNameField] = useState(currentAccount?.details?.middle_name ?? \"\");\n    const [lastNameField, setLastNameField] = useState(currentAccount?.details?.last_name ?? \"\");\n    const [dateOfBirth, setDateOfBirth] = useState(currentAccount?.details?.birthdate ?? new Date());\n    const [sex, setSex] = useState(currentAccount?.details?.sex ?? \"O\");\n\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch (field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"first_name\":\n                setFirstNameField(value)\n                break;\n            case \"middle_name\":\n                setMiddleNameField(value)\n                break;\n            case \"last_name\":\n                setLastNameField(value)\n                break;\n            case \"birthday\":\n                setDateOfBirth(value)\n                break;\n            case \"sex\":\n                setSex(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if (labelField && firstNameField && middleNameField && lastNameField && dateOfBirth && sex) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", JSON.parse(JSON.stringify({ label: labelField, details: {  first_name: firstNameField, middle_name: middleNameField, last_name: lastNameField, birthdate: dateOfBirth.toString(), sex: sex } })));\n\n            if (changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if (account.status === 200) {\n                    dispatchStore(setCurrentAccount(new Account({ id: currentAccount?.id, ...account.data })));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage} alt=\"PersonalInformation\" />\n            <img className={classes.wave} src={waveAsset} alt=\"wave\" />\n        </div>\n        <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n\n            <Typography style={{ opacity: \"0.7\", marginBottom: \"35px\" }} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n\n            <Typography style={{ paddingBottom: \"16px\" }} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>\n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"first_name\" label=\"First Name\" variant=\"outlined\" value={firstNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"middle_name\" label=\"Middle Name\" helperText=\"Optional\" variant=\"outlined\" value={middleNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"last_name\" label=\"Last Name\" variant=\"outlined\" value={lastNameField} onChange={handleChange} />\n                <TextField id=\"birthday\" label=\"Birthday\" type=\"date\" defaultValue=\"1990-01-01\" InputLabelProps={{ shrink: true, }} value={dateOfBirth} onChange={handleChange}/>\n            </Flex>\n\n            <Button style={{ color: \"white\", float: \"right\", marginBottom: \"15px\" }} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n\n        </div>\n\n    </div>\n}\n\nexport default Welcome;"],"sourceRoot":""}