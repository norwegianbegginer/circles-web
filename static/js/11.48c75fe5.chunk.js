(this["webpackJsonpcircles-web"]=this["webpackJsonpcircles-web"]||[]).push([[11],{142:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n(0),a=n(53),c=n(141),i=function(t){var e=Object(r.useContext)(a.b);return Object(r.useMemo)((function(){return t(e[0])}),[e,t])},o=function(){var t=Object(r.useContext)(a.b);return Object(r.useRef)((function(e){console.log("\ud83d\udcc1",e.type,"=>",e.payload),function(t,e){t((function(t){var n={};switch(e.type){case"SET_CURRENT_ACCOUNT":n.currentAccount=Object(c.a)({},e.payload);break;case"SET_BACKGROUND_THEME":n.preferences||(n.preferences={}),n.preferences.backgroundTheme=Object(c.a)({},e.payload)}return Object(c.a)(Object(c.a)({},t),n)}))}(t[1],e)})).current}},146:function(t,e,n){"use strict";var r=n(141),a=n(0),c=n.n(a);e.a=function(t){var e,n=function(t){for(var e=Object(r.a)({},t),n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];for(var i in e)a.includes(i)&&delete e[i];return e}(t,"children","className"),a=Object.freeze(Object(r.a)(Object(r.a)({display:"flex"},n),t.style)),i=null!==(e=t.rootComponent)&&void 0!==e?e:c.a.createElement("div");return c.a.cloneElement(i,{onClick:t.onClick,style:a,className:t.className,children:t.children})}},150:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(26),a=n(0),c=n(142),i=n(9),o=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var c=Object(a.useRef)(null),i=l();if(null===c.current){var o=t.apply(void 0,n),u=function(t){c.current[0]=t,i()};c.current=[o,u]}return Object(a.useEffect)((function(){var e=t.apply(void 0,n);c.current[0]!==e&&c.current[1](e)}),[t,n]),c.current},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/home",n=Object(i.f)();Object(a.useEffect)((function(){t&&n.push(e)}),[t,e,n])},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",e=Object(c.b)((function(t){return t.currentAccount}));u(!!e,t)},l=function(){var t=Object(a.useState)(),e=Object(r.a)(t,2)[1];return Object(a.useCallback)((function(){return e({})}),[])}},167:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(168),a=n(0),c=n(150),i=function(t){return t(localStorage)},o=function(){var t=Object(c.c)();return Object(a.useRef)((function(e,n){void 0===n||null===n?Object(r.a)(e):Object(r.b)(e,n),t()})).current}},168:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=function(t,e){localStorage.setItem(t,e)},a=function(t){localStorage.removeItem(t)}},169:function(t,e,n){"use strict";e.a=n.p+"static/media/wave.f70c3bfc.svg"},177:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return p}));var r=n(143),a=n.n(r),c=n(144),i=n(48),o=(n(84),n(168)),u=function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=new i.auth.GoogleAuthProvider;n.addScope("https://www.googleapis.com/auth/contacts.readonly"),i.auth().setPersistence(i.auth.Auth.Persistence.LOCAL).then((function(){return i.auth().signInWithPopup(n)})).then((function(e){l(),t(e)})).catch((function(t){var n=t.code,r=t.message;console.log("\ud83d\udd12 Authorization =>",n,r),e(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){i.auth().setPersistence(i.auth.Auth.Persistence.LOCAL).then((function(){return i.auth().signInWithEmailAndPassword(e,n)})).then((function(e){l(),t(e)})).catch((function(t){var e=t.code,n=t.message;console.log("\ud83d\udd12 Authorization =>",e,n),r(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(){var t,e,n=null!==(t=null===(e=i.auth())||void 0===e?void 0:e.currentUser)&&void 0!==t?t:null;n&&n.getIdToken(!0).then((function(t){Object(o.b)("accountIdToken",t)})).catch((function(t){var e=t.code,n=t.message;console.log("\ud83d\udd12 Authorization =>",e,n)}))},f=function(){var t=Object(c.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){i.auth().createUserWithEmailAndPassword(e,n).then((function(e){t(e)})).catch((function(t){var e=t.code,n=t.message;console.log("\ud83d\udd12 Authorization =>",e,n),r(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){i.auth().signOut().then((function(e){t(e)})).catch((function(t){var n=t.code,r=t.message;console.log("\ud83d\udd12 Authorization =>",n,r),e(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},195:function(t,e,n){"use strict";n.r(e);var r=n(4),a=n(143),c=n.n(a),i=n(144),o=n(26),u=n(0),s=n(61),l=n(151),f=n(128),p=Object(f.a)((function(t){return{root:Object(l.a)({minHeight:"calc(100vh - (300px + 42px))",alignItems:"center"},t.breakpoints.up("sm"),{minHeight:"calc(100vh - (350px + 42px))",alignItems:"flex-start"}),container:{maxWidth:t.breakpoints.values.md,width:"100%",padding:"0 ".concat(t.spacing(4),"px")},inputWrapper:{},signImage:Object(l.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},t.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(l.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(t.palette.primary.dark,", ").concat(t.palette.primary.main,")")},t.breakpoints.up("sm"),{height:"350px"}),wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},footerWrapper:{maxWidth:t.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(t.spacing(4),"px")}}})),d=function(t){return{title:{en_US:"Sign up",pl_PL:"B\u0105d\u017a w kontakcie!",de_DE:"Stayen ins Touchejen"},yes:t.yes}},b=n(239),h=n(352),j=n(133),m=n(334),v=n(238),O=n(335),g=n(337),x=n(9),w=n(146),y=n.p+"static/media/celebration.9e01a526.svg",k=n(169),C=n(177),A=n(355),P=n(333),S=n(167),I=n(150);e.default=function(){var t=Object(x.f)(),e=Object(s.useLittera)(d),n=Object(o.a)(e,1)[0],a=p(),l=Object(S.b)(),f=Object(u.useState)(""),E=Object(o.a)(f,2),N=E[0],T=E[1],W=Object(u.useState)(""),_=Object(o.a)(W,2),z=_[0],L=_[1],R=Object(u.useState)(""),U=Object(o.a)(R,2),B=U[0],D=U[1],H=Object(u.useState)(""),G=Object(o.a)(H,2),J=G[0],M=G[1],K=Object(u.useState)(!1),q=Object(o.a)(K,2),F=q[0],Q=q[1];Object(I.b)();var V=function(t){return function(e){var n,r,a=null!==(n=null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==n?n:"";F||("email"===t&&T(a),"password"===t&&L(a),"password-confirm"===t&&D(a))}};return Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsxs)("div",{className:a.imgContainer,children:[Object(r.jsx)("img",{className:a.signImage,src:y,alt:"signImage"}),Object(r.jsx)("img",{className:a.wave,src:k.a,alt:""})]}),Object(r.jsx)(w.a,{justifyContent:"center",width:"100%",className:a.root,children:Object(r.jsxs)("div",{className:a.container,children:[Object(r.jsx)(b.a,{variant:"h3",paragraph:!0,children:n.title}),Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),M(""),Q(!0),!F){var n=N,r=z;if(B!==r)return M("Passwords are not identical."),void Q(!1);if(r.length<13)return M("Password is too short."),void Q(!1);Object(C.d)(n,r).then(function(){var e=Object(i.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Result =>",n),(null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.uid)&&l("accountIdToken",n.user.uid),t.push("/welcome");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){M(t.message),Q(!1)}))}},children:[Object(r.jsxs)(w.a,{className:a.inputWrapper,flexDirection:"column",children:[Object(r.jsx)(h.a,{style:{marginBottom:"15px"},id:"email-input",value:N,onChange:V("email"),type:"email",label:"E-mail",variant:"outlined"}),Object(r.jsx)(h.a,{style:{marginBottom:"15px"},id:"password-input",value:z,onChange:V("password"),type:"password",label:"Password",variant:"outlined"}),Object(r.jsx)(h.a,{style:{marginBottom:"15px"},id:"confirm-password-input",value:B,onChange:V("password-confirm"),type:"password",label:"Confirm password",variant:"outlined"})]}),J&&Object(r.jsxs)(A.a,{style:{margin:"10px 0"},severity:"error",children:[Object(r.jsx)(P.a,{children:"Upps..."}),J]}),Object(r.jsxs)(w.a,{justifyContent:"space-between",children:[Object(r.jsx)(j.a,{onClick:function(){t.push("/login")},color:"primary",type:"button",children:"Login"}),Object(r.jsx)(m.a,{color:"primary","aria-label":"add",type:"submit",children:Object(r.jsx)(v.a,{style:{color:"white"},children:"keyboard_arrow_right"})})]})]})]})}),Object(r.jsx)(w.a,{className:a.footerWrapper,alignItems:"center",justifyContent:"flex-end",height:"42px",children:Object(r.jsx)(b.a,{align:"right"})}),F?Object(r.jsx)(O.a,{open:!0,style:{zIndex:5},children:Object(r.jsx)(g.a,{color:"primary"})}):null]})}}}]);
//# sourceMappingURL=11.48c75fe5.chunk.js.map