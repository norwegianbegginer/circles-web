{"version":3,"sources":["store/hooks.ts","store/reducer.ts","components/utils/Flex.tsx","api/commands.ts","api/hooks.ts","utils/hooks/general.ts","api/models/Account.model.ts","store/actions.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","api/client.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","api/utils.ts","config/config.ts","assets/wave.svg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","assets/personal.svg","components/pages/Welcome/index.tsx"],"names":["useStore","stateFn","context","useContext","StoreContext","useMemo","useDispatch","useRef","action","console","log","type","payload","setStore","state","changes","currentAccount","preferences","backgroundTheme","reduceState","current","Flex","props","reducedProps","_props","args","key","includes","reduceProps","style","Object","freeze","display","rootEl","rootComponent","React","createElement","cloneElement","onClick","className","children","AccountInfo","account_id","flags","rooms","friends","checkType","status","data","checkField","contact","created_at","Date","Command","AccountChange","JSON","stringify","AccountList","included","volume","AccountLogin","token","RoomInfo","room_id","accounts","RoomCreate","label","invite","AccountGetSuggestions","HOST_URL","config","host_url","cli","Client","useCommand","command","ref","signal","useSignal","useEffect","a","_args","execute","rq","fn","useDispatchCommand","useAccount","updateStore","options","undefined","Account","dispatchStore","dispatchCommand","id","contacts","accountInfoRq","acc","setCurrentAccount","useRoom","roomInfoRq","useForkedState","value","setState","val","useRestrictedPage","condition","path","history","useHistory","push","useRestrictedPageForCurrentAccount","useState","updateState","useCallback","account","avatar_url","details","this","include","length","map","inc","filter","join","Boolean","first_name","last_name","toUpperCase","updateCurrentAccount","setBackgroundTheme","theme","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","call","e","url","entries","Promise","resolve","reject","once","cmd","exec","makeArguments","reqUrl","headers","Headers","fetch","mode","then","response","json","parsed_response","catch","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","isLoaded","request","arrayToStringList","replace","name","t","types","Error","obj","field","_inherits","subClass","superClass","create","constructor","_construct","Parent","Class","apply","Function","bind","arguments","_getPrototypeOf","getPrototypeOf","_typeof","_possibleConstructorReturn","self","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","NewTarget","useStyles","makeStyles","root","position","maxWidth","breakpoints","values","md","margin","padding","spacing","inputWrapper","wave","zIndex","bottom","left","width","height","personalImage","right","up","imgContainer","overflow","background","palette","primary","dark","main","welcomeTitle","color","translations","preset","title","en_US","pl_PL","de_DE","yes","Welcome","useLittera","translated","classes","labelField","setLabelField","firstNameField","setFirstNameField","middle_name","middleNameField","setMiddleNameField","lastNameField","setLastNameField","birthdate","dateOfBirth","setDateOfBirth","sex","setSex","handleChange","event","handleSubmit","parse","alert","src","personalInformationImage","alt","waveAsset","Typography","variant","opacity","marginBottom","paragraph","paddingBottom","flexDirection","TextField","onChange","helperText","defaultValue","InputLabelProps","shrink","Button","float"],"mappings":"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","file":"static/js/8.b5f8bb68.chunk.js","sourcesContent":["import { useContext, useRef, useMemo } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return useMemo(() => stateFn(context[0]), [context, stateFn]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"ðŸ“\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n        \n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n\n            case \"SET_BACKGROUND_THEME\":\n                // TODO: Make sure to initialize preferences before accessing reducer...\n                if (!changes.preferences) changes.preferences = {};\n                // @ts-ignore\n                changes.preferences.backgroundTheme = { ...action.payload } as { id: string, url: string, label: string }\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  onClick?: () => void\n  rootComponent?: React.Component\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n * @deprecated Use Box from Material-UI instead. https://material-ui.com/components/box/\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n      display: \"flex\",\n      ...reducedProps,\n      ...props.style\n  });\n\n  const rootEl = props.rootComponent ?? React.createElement(\"div\");\n\n  return React.cloneElement(rootEl as React.ReactElement<any>, { onClick: props.onClick, style, className: props.className, children: props.children });\n}\n\nexport default Flex;","import { Command } from \"./client\";\nimport { IAccount } from \"types\";\nimport { checkField, checkType } from \"./utils\";\n\nexport class AccountInfo extends Command {\n    constructor(account_id: string, flags?: boolean, rooms?: boolean, friends?: boolean) {\n        super([\"account-accountInfo\", { account_id, flags: !!flags, rooms: !!rooms, friends: !!friends }]);\n\n        checkType(\"account_id\", account_id, \"string\");\n\n        checkType(\"flags\", flags, \"boolean\", \"undefined\");\n        checkType(\"rooms\", rooms, \"boolean\", \"undefined\");\n        checkType(\"friends\", friends, \"boolean\", \"undefined\");\n    }\n\n    parse(status: number, data: IAccount): IAccount {\n        if(status !== 200) return data;\n\n        checkType(\"data\", data, \"object\");\n\n        checkField(data, \"id\", \"string\");\n        checkField(data, \"label\", \"string\");\n        checkField(data, \"created_at\", \"string\");\n        checkField(data, \"avatar_url\", \"string\", \"undefined\");\n\n        checkField(data, \"contact\", \"object\");\n        if (data.contact)\n            checkField(data.contact, \"email\", \"string\");\n\n        checkField(data, \"details\", \"object\");\n        checkField(data, \"flags\", \"object\", \"undefined\");\n        checkField(data, \"friends\", \"array\", \"undefined\");\n        checkField(data, \"rooms\", \"array\", \"undefined\");\n        \n        return { ...data, created_at: new Date(data.created_at) };\n    }\n}\n\nexport class AccountChange extends Command {\n    constructor(account_id: string, changes: { label?: string, name?: string, surname?: string }) {\n        super([\"account-accountChange\", {account_id, changes: JSON.stringify(changes)}]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountList extends Command {\n    constructor(included?: string[], volume?: number) {\n        super([\"account-accountList\", { volume, included }]);\n\n        checkType(\"volume\", volume, \"number\", \"undefined\");\n        checkType(\"included\", included, \"array\", \"undefined\");\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountCreate extends Command {\n    constructor(data: {email: string, password: string, label?: string}) {\n        super([\"account-accountCreate\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountLogin extends Command {\n    constructor(token: string) {\n        super([\"account-accountLogin\", { token }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountFind extends Command {\n    constructor(data: { email?: string, label?: string }) {\n        super([\"account-accountFind\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountAddContact extends Command {\n    constructor(data: {account_id: string, contact_id: string}) {\n        super([\"account-accountAddContact\", data]);\n    }   \n    \n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n        \n        return data;\n    }\n}\n\nexport class RoomInfo extends Command {\n    constructor(room_id: string, accounts?: boolean) {\n        super([\"room-roomInfo\", { room_id, accounts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class RoomCreate extends Command {\n    constructor(account_id: string, label: string, invite: string[]) {\n        super([\"room-roomCreate\", { label, invite: [...invite, account_id] }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountGetSuggestions extends Command{\n    // deepcode ignore no-any: Type declaration of 'any' loses type-safety\n    constructor(account_id: string){\n        super([\"account-accountGetSuggestions\", {account_id}]);\n    };\n\n    parse(status: number, data: any){\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n\n}\n","import { useRef, useEffect } from 'react';\nimport { Client } from './client';\nimport { useSignal } from '../utils/hooks/general';\nimport config from '../config/config';\nimport { IRoom } from 'types';\nimport { AccountInfo, RoomInfo } from './commands';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { setCurrentAccount } from 'store/actions';\nimport Account from \"./models/Account.model\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\nexport const useCommand = (command: any, ...args: any[]) => {\n    const ref = useRef(null as unknown as { status: number, data?: any, message?: string });\n    const signal = useSignal();\n\n    useEffect(() => {\n        ref.current = { status: 102 };\n        \n        const fn = async () => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            ref.current = rq;\n            signal();\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    return ref.current;\n}\n\n/**\n * \n * @param command \n * @param args \n * @example\n * const dispatchCommand = useDispatchCommand();\n * ...\n * dispatchCommand(AccountCreate, \"mike.eling97@gmail.com\", \"ThisIsMyPassBro\")\n */\nexport const useDispatchCommand = () => {\n    const ref = useRef(null as unknown as (command: any, ...args: any[]) => Promise<{ status: number, data: any }>);\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        \n        const fn = async (command: any, ...args: any[]) => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            signal();\n            return rq;\n        }\n        ref.current = (command: any, ...args: any[]) => fn(command, ...args);\n    }\n    \n    return ref.current;\n}\n\nexport const useAccount = (account_id?: string, updateStore: boolean = false, options?: { rooms?: boolean, flags?: boolean, contacts?: boolean }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n    const ref = useRef<Account | null | undefined>(!account_id ? new Account(currentAccount as any) ?? undefined : undefined);\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const accountInfoRq = (await dispatchCommand(AccountInfo, account_id || currentAccount?.id, options?.flags, options?.rooms, options?.contacts ));\n            \n            if(accountInfoRq.status === 200) {\n                const acc = new Account({ id: account_id || currentAccount?.id, ...accountInfoRq.data });\n\n                ref.current = acc as Account | null;\n                if (updateStore) dispatchStore(setCurrentAccount(acc));\n                signal();\n            }\n        }\n    \n        if(account_id || currentAccount?.id)\n            fn();\n            \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [account_id]);\n    \n    return ref.current ?? null;\n}\n\nexport const useRoom = (room_id: string, accounts?: boolean) => {\n    const ref = useRef<IRoom | null | undefined>();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const roomInfoRq = (await dispatchCommand(RoomInfo, room_id, !!accounts));\n\n            if(roomInfoRq.status === 200) {\n                ref.current = roomInfoRq.data as IRoom | null;\n                signal();\n            }\n        }\n\n        if(room_id) fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n    \n    return ref.current ?? null;\n}","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\n/**\n * Redirect to page if condition met\n * @param path for redirect\n * @param condition\n */\nexport const useRestrictedPage = (condition: boolean, path: string = \"/home\" ) => {\n    const history = useHistory();\n    useEffect(() => {\n        if (condition) \n            history.push(path)\n        \n    }, [condition, path, history]);\n}\n\n/**\n * Redirect to page if current account is active\n * @param path for redirect\n */\nexport const useRestrictedPageForCurrentAccount = (path: string = \"/home\") => {\n    const currentAccount = useStore(state => state.currentAccount);\n    useRestrictedPage(!!currentAccount, path)\n}\n\n\n\nexport const useSignal = () => {\n    const [, updateState] = useState();\n    // @ts-ignore\n    return useCallback(() => updateState({}), []);\n}\n","import { Dictionary, TAccountDetails, IRoom, IFriend } from \"types\";\n\n/**\n * Model representing an Account.\n */\nclass Account {\n    id: string;\n    label: string;\n    created_at: Date;\n    contact: Dictionary<string>;\n    avatar_url?: string;\n\n    details: TAccountDetails;\n\n    flags?: string[];\n    rooms?: IRoom[];\n    friends?: IFriend[];\n\n    constructor(account: Dictionary<any>) {\n        this.id = account.id;\n        this.label = account.label;\n        this.created_at = new Date(account.created_at);\n        this.contact = account.contact ?? [];\n        this.avatar_url = account.avatar_url;\n        this.details = account.details ?? {};\n        this.flags = account.flags;\n        this.rooms = account.rooms;\n        this.friends = account.friends;\n    }\n\n    get isValid() {\n        return Boolean(this.id && this.label)\n    }\n\n    name(...include: (\"first_name\" | \"last_name\" | \"middle_name\")[]) {\n        if (!include || include.length <= 0) include = [\"first_name\", \"last_name\"];\n\n        return include.map(inc => this?.details?.[inc] ?? null).filter(inc => !!inc).join(\" \") ?? this.label;\n    }\n\n    get initials() {\n        if (!this.details.first_name && !this.details.last_name)\n            return \"Unknown\";\n        return (`${this.details.first_name[0]}${this.details.last_name[0]}`).toUpperCase();\n    }\n}\n\nexport default Account;","import config from \"config/config\";\nimport { AccountInfo } from \"api/commands\";\nimport { Client } from \"api/client\";\nimport Account from \"api/models/Account.model\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\n/**\n * Set current account.\n * @param payload Account info.\n * @see api/commands/AccountInfo\n */\nexport const setCurrentAccount = (payload: Account | null) => {\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Update current account.\n * @param payload account_id\n * @see api/commands/AccountInfo\n */\nexport const updateCurrentAccount = async (account_id: string) => {\n    const rq = await cli.execute(new AccountInfo(account_id, true, true, true))\n    const payload = new Account(rq.data);\n\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Set background theme.\n * @param theme \n */\nexport const setBackgroundTheme = (theme: { id: string, url: string, label: string }) => {\n    return ({ type: \"SET_BACKGROUND_THEME\", payload: theme });\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export type TResponse = {status: number, message?: string, data: any};\n\nexport interface IClient {\n    url: string\n}\n\nexport class Client implements IClient {\n    url: string\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    makeArguments(args: {[key: string]: string}) {\n        return Object.entries(args).map((e => `${e[0]}=${typeof e[1] === \"object\" ? JSON.stringify(e[1]) : e[1]}`)).join(\"&\");\n    }\n\n    execute(command: ICommand) {\n        return new Promise<{status: number, data: any}>((resolve, reject) => {\n            let once = false;\n            const cmd = command.exec[0];\n            const args = this.makeArguments(command.exec[1]);\n    \n            const reqUrl = `${this.url}${cmd}?${args}`;\n\n            const handleResolve = (response: any) => {\n                if(!once) {\n                    once = true;\n                    \n                    const parsed_response = response\n                    \n                    console.log(\"ðŸ“¶\", cmd, \"=>\", parsed_response);\n                    resolve(parsed_response);\n                }\n                \n            }\n\n            let headers = new Headers({\n                'Access-Control-Allow-Origin':'*',\n                'Content-Type': 'multipart/form-data'\n            });\n\n            fetch(reqUrl, { mode: \"cors\", headers })\n                .then(response => response.json())\n                .then(handleResolve)\n                .catch(reject);\n        })\n    }\n}\n\n\nexport interface ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    parse(status: number, data: any): any\n}\n\nexport class Command implements ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    constructor(exec: [string, {[key: string]: any}]) {\n        this.exec = exec;\n        this.status = 0;\n    }\n\n    parse(status: number, data: any) {\n        return data;\n    }\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const isLoaded = (request: any) => {\n    return request !== null && request.status !== 102\n}\n\nconst arrayToStringList = (arr: string[]) => \n        arr.toString().replace(/,/g, \", \")\n\ntype TType = \"string\" | \"number\" | \"bigint\" | \"boolean\" | \"symbol\" | \"undefined\" | \"object\" | \"function\" | \"null\" | \"array\";\n\n/**\n * Throws an exception if the types are not correct.\n * @param name \n * @param value \n * @param types \n */\nexport const checkType = (name: string, value: any, ...types: TType[]) => {\n    let t: TType = typeof value;\n\n    if (t === \"object\")\n        if (value === null)\n            t = \"null\";\n        else if (Array.isArray(value))\n            t = \"array\";\n\n    if (!types.includes(t))\n        throw new Error(`Expected ${arrayToStringList(types)} for ${name}, got ${typeof value}`)\n\n    return value;\n}\n\n/**\n * Same as checkType but accepts an parent object.\n * @param obj \n * @param field \n * @param types \n */\nexport const checkField = <T, K extends keyof T>(obj: T, field: K, ...types: TType[]) => {\n    let val = obj[field];\n    checkType(field as string, val, ...types);\n    return val;\n}","const config = {\n    host_url: \"https://us-central1-ping-82fee.cloudfunctions.net/\" //\"http://localhost:5001/ping-82fee/us-central1/\" //\n};\n\nexport default config;","export default __webpack_public_path__ + \"static/media/wave.f70c3bfc.svg\";","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/personal.ebfa5829.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport Account from \"api/models/Account.model\";\n\ntype EditableField = \"label\" | \"first_name\" | \"middle_name\" | \"last_name\" | \"birthday\" | \"sex\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [firstNameField, setFirstNameField] = useState(currentAccount?.details?.first_name ?? \"\");\n    const [middleNameField, setMiddleNameField] = useState(currentAccount?.details?.middle_name ?? \"\");\n    const [lastNameField, setLastNameField] = useState(currentAccount?.details?.last_name ?? \"\");\n    const [dateOfBirth, setDateOfBirth] = useState(currentAccount?.details?.birthdate ?? new Date());\n    const [sex, setSex] = useState(currentAccount?.details?.sex ?? \"O\");\n\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch (field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"first_name\":\n                setFirstNameField(value)\n                break;\n            case \"middle_name\":\n                setMiddleNameField(value)\n                break;\n            case \"last_name\":\n                setLastNameField(value)\n                break;\n            case \"birthday\":\n                setDateOfBirth(value)\n                break;\n            case \"sex\":\n                setSex(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if (labelField && firstNameField && middleNameField && lastNameField && dateOfBirth && sex) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", JSON.parse(JSON.stringify({ label: labelField, details: {  first_name: firstNameField, middle_name: middleNameField, last_name: lastNameField, birthdate: dateOfBirth.toString(), sex: sex } })));\n\n            if (changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if (account.status === 200) {\n                    dispatchStore(setCurrentAccount(new Account({ id: currentAccount?.id, ...account.data })));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage} alt=\"PersonalInformation\" />\n            <img className={classes.wave} src={waveAsset} alt=\"wave\" />\n        </div>\n        <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n\n            <Typography style={{ opacity: \"0.7\", marginBottom: \"35px\" }} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n\n            <Typography style={{ paddingBottom: \"16px\" }} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>\n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"first_name\" label=\"First Name\" variant=\"outlined\" value={firstNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"middle_name\" label=\"Middle Name\" helperText=\"Optional\" variant=\"outlined\" value={middleNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"last_name\" label=\"Last Name\" variant=\"outlined\" value={lastNameField} onChange={handleChange} />\n                <TextField id=\"birthday\" label=\"Birthday\" type=\"date\" defaultValue=\"1990-01-01\" InputLabelProps={{ shrink: true, }} value={dateOfBirth} onChange={handleChange}/>\n            </Flex>\n\n            <Button style={{ color: \"white\", float: \"right\", marginBottom: \"15px\" }} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n\n        </div>\n\n    </div>\n}\n\nexport default Welcome;"],"sourceRoot":""}